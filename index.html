<!DOCTYPE html>


<html lang="en">
  

    <head>
      <meta charset="utf-8" />
        
      <meta name="description" content="joshua" />
      
      <meta
        name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1"
      />
      <title> Mingweiâ€™s Blog</title>
  <meta name="generator" content="hexo-theme-ayer">
      
      <link rel="shortcut icon" href="/favicon.ico" />
       
<link rel="stylesheet" href="/dist/main.css">

      
<link rel="stylesheet" href="/css/fonts/remixicon.css">

      
<link rel="stylesheet" href="/css/custom.css">
 
      <script src="https://cdn.staticfile.org/pace/1.2.4/pace.min.js"></script>
       
 

      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@5.0.1/bulma.min.css"
      />
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script>

      <!-- mermaid -->
      
      <style>
        .swal2-styled.swal2-confirm {
          font-size: 1.6rem;
        }
      </style>
    <link rel="alternate" href="/atom.xml" title="Mingweiâ€™s Blog" type="application/atom+xml">
</head>
  </html>
</html>


<body>
  <div id="app">
    
      
    <main class="content on">
      
<section class="cover">
    
  <div class="cover-frame">
    <div class="bg-box">
      <img src="/images/cover1.jpg" alt="image frame" />
    </div>
    <div class="cover-inner text-center text-white">
      <h1><a href="/">Mingweiâ€™s Blog</a></h1>
      <div id="subtitle-box">
        
        <span id="subtitle"></span>
        
      </div>
      <div>
        
      </div>
    </div>
  </div>
  <div class="cover-learn-more">
    <a href="javascript:void(0)" class="anchor"><i class="ri-arrow-down-line"></i></a>
  </div>
</section>



<script src="https://cdn.staticfile.org/typed.js/2.0.12/typed.min.js"></script>


<!-- Subtitle -->

  <script>
    try {
      var typed = new Typed("#subtitle", {
        strings: ['To Cherish,To love', 'May you work hard all your life and be loved all your life', 'Want to have, can not get rid of'],
        startDelay: 0,
        typeSpeed: 200,
        loop: true,
        backSpeed: 100,
        showCursor: true
      });
    } catch (err) {
      console.log(err)
    }
  </script>
  
<div id="main">
  <section class="outer">
  
  <ul class="ads">
    
        <li>
            <a target="_blank" rel="noopener" href="https://curl.qcloud.com/kvO7hb43">
                <img src="https://pic.imgdb.cn/item/62174b452ab3f51d912a5ccc.jpg" width="300" alt="Cloud Server">
            </a>
        </li>
    
        <li>
            <a target="_blank" rel="noopener" href="https://www.vultr.com/?ref=8630075">
                <img src="https://pic.imgdb.cn/item/62174b452ab3f51d912a5cd7.png" width="300" alt="vultr vps">
            </a>
        </li>
    
</ul>
  
  
  

<div class="notice" style="margin-top:50px">
    <i class="ri-heart-fill"></i>
    <div class="notice-content" id="broad"></div>
</div>
<script type="text/javascript">
    fetch('https://v1.hitokoto.cn')
        .then(response => response.json())
        .then(data => {
            document.getElementById("broad").innerHTML = data.hitokoto;
        })
        .catch(console.error)
</script>

<style>
    .notice {
        padding: 20px;
        border: 1px dashed #e6e6e6;
        color: #969696;
        position: relative;
        display: inline-block;
        width: 100%;
        background: #fbfbfb50;
        border-radius: 10px;
    }

    .notice i {
        float: left;
        color: #999;
        font-size: 16px;
        padding-right: 10px;
        vertical-align: middle;
        margin-top: -2px;
    }

    .notice-content {
        display: initial;
        vertical-align: middle;
    }
</style>
  
  <article class="articles">
    
    
    
    
    <article
  id="post-kubernetes"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/06/26/kubernetes/"
    >kubernetes</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/06/26/kubernetes/" class="article-date">
  <time datetime="2023-06-26T10:03:56.000Z" itemprop="datePublished">2023-06-26</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/java/">java</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><h2 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2><p>Kubernetes is a portable, extensible, open source platform for managing containerized workloads and services, that facilitates both declarative configuration and automation. It has a large, rapidly growing ecosystem. Kubernetes services, support, and tools are widely available.</p>
<ul>
<li>When you deploy Kubernetes, you get a cluster.</li>
<li>A Kubernetes cluster consists of a set of worker machines, called <a target="_blank" rel="noopener" href="https://kubernetes.io/docs/concepts/architecture/nodes/">nodes</a>, that run containerized applications.</li>
<li>Every cluster has at least one worker node.</li>
</ul>
<h2 id="Components"><a href="#Components" class="headerlink" title="Components"></a>Components</h2><p>This document outlines the various components you need to have for a complete and working Kubernetes cluster.</p>
<h3 id="Control-Plane-components"><a href="#Control-Plane-components" class="headerlink" title="Control Plane components"></a>Control Plane components</h3><h4 id="kube-apiserver"><a href="#kube-apiserver" class="headerlink" title="kube-apiserver"></a><strong>kube-apiserver</strong></h4><p>The API server is the front end for the Kubernetes control plane.</p>
<p>The main implementation of a Kubernetes API server is <a target="_blank" rel="noopener" href="https://kubernetes.io/docs/reference/generated/kube-apiserver/">kube-apiserver</a>. kube-apiserver is designed to scale horizontallyâ€”that is, it scales by deploying more instances. You can run several instances of kube-apiserver and balance traffic between those instances.</p>
<p><strong>Horizontal scaling vs Vertical scaling:</strong></p>
<p><strong>æ°´å¹³æ‰©å±•</strong></p>
<p>æ˜¯é€šè¿‡å¢åŠ æˆ–å‡å°‘å·¥ä½œè´Ÿè½½çš„å®ä¾‹æ•°é‡æ¥è°ƒæ•´èµ„æºçš„è¿‡ç¨‹ã€‚åœ¨ Kubernetes ä¸­ï¼Œè¿™é€šå¸¸æ˜¯é€šè¿‡å¢åŠ æˆ–å‡å°‘ Pod çš„å‰¯æœ¬æ•°é‡æ¥å®ç°çš„ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ªåº”ç”¨ç¨‹åºçš„è´Ÿè½½å¢åŠ ï¼Œå¯ä»¥å¢åŠ  Pod çš„æ•°é‡æ¥åˆ†æ•£è´Ÿè½½ã€‚è¿™é€šå¸¸æ˜¯é€šè¿‡ä½¿ç”¨ Kubernetes çš„ Horizontal Pod Autoscaler (HPA) æ¥è‡ªåŠ¨å®Œæˆçš„ï¼ŒHPA æ ¹æ® CPU åˆ©ç”¨ç‡æˆ–å…¶ä»–é€‰æ‹©çš„åº¦é‡æ ‡å‡†æ¥è‡ªåŠ¨è°ƒæ•´ Pod çš„æ•°é‡ã€‚<br>æ°´å¹³æ‰©å±•é€šå¸¸é€‚ç”¨äºæ— çŠ¶æ€åº”ç”¨ç¨‹åºï¼Œå› ä¸ºå¢åŠ çš„å®ä¾‹å¯ä»¥ç‹¬ç«‹å¤„ç†è¯·æ±‚ï¼Œä¸éœ€è¦è®¿é—®å…±äº«èµ„æºã€‚</p>
<p><strong>å‚ç›´æ‰©å±•</strong></p>
<p>æ˜¯é€šè¿‡å¢åŠ æˆ–å‡å°‘å•ä¸ªå®ä¾‹çš„èµ„æºï¼ˆå¦‚ CPU æˆ–å†…å­˜ï¼‰æ¥è°ƒæ•´èµ„æºçš„è¿‡ç¨‹ã€‚åœ¨ Kubernetes ä¸­ï¼Œè¿™é€šå¸¸æ˜¯é€šè¿‡å¢åŠ æˆ–å‡å°‘ Pod çš„èµ„æºé™åˆ¶å’Œè¯·æ±‚æ¥å®ç°çš„ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ªåº”ç”¨ç¨‹åºçš„æ€§èƒ½å—åˆ° CPU æˆ–å†…å­˜çš„é™åˆ¶ï¼Œå¯ä»¥å¢åŠ  Pod çš„ CPU æˆ–å†…å­˜èµ„æºæ¥æé«˜æ€§èƒ½ã€‚</p>
<p>å‚ç›´æ‰©å±•é€šå¸¸é€‚ç”¨äºæœ‰çŠ¶æ€åº”ç”¨ç¨‹åºï¼Œå› ä¸ºè¿™äº›åº”ç”¨ç¨‹åºé€šå¸¸éœ€è¦è®¿é—®å…±äº«èµ„æºï¼Œè€Œä¸”å¯èƒ½ä¸å®¹æ˜“åœ¨å¤šä¸ªå®ä¾‹ä¹‹é—´åˆ†æ•£è´Ÿè½½ã€‚</p>
<h4 id="etcd"><a href="#etcd" class="headerlink" title="etcd"></a><strong>etcd</strong></h4><p>Consistent and highly-available key value store used as Kubernetesâ€™ backing store for all cluster data. If your Kubernetes cluster uses etcd as its backing store, make sure you have a back up plan for the data.</p>
<h4 id="Kube-scheduler"><a href="#Kube-scheduler" class="headerlink" title="Kube-scheduler"></a><strong>Kube-scheduler</strong></h4><p>Control plane component that watches for newly created Pods with no assigned node, and selects a node for them to run on. Factors taken into account for scheduling decisions include: individual and collective resource requirements, hardware&#x2F;software&#x2F;policy constraints, affinity and anti-affinity specifications, data locality, inter-workload interference, and deadlines.</p>
<h4 id="Kube-controller-manager"><a href="#Kube-controller-manager" class="headerlink" title="Kube-controller-manager"></a>Kube-controller-manager</h4><p>Control plane component that runs <a target="_blank" rel="noopener" href="https://kubernetes.io/docs/concepts/architecture/controller/">controller</a> processes. Logically, each <a target="_blank" rel="noopener" href="https://kubernetes.io/docs/concepts/architecture/controller/">controller</a> is a separate process, but to reduce complexity, they are all compiled into a single binary and run in a single process. </p>
<p>Some types of these controllers are:</p>
<ul>
<li>Node controller: Responsible for noticing and responding when nodes go down.</li>
<li>Job controller: Watches for Job objects that represent one-off tasks, then creates Pods to run those tasks to completion.</li>
<li>EndpointSlice controller: Populates EndpointSlice objects (to provide a link between Services and Pods).</li>
<li>ServiceAccount controller: Create default ServiceAccounts for new namespaces.</li>
</ul>
<h4 id="Cloud-controller-manager"><a href="#Cloud-controller-manager" class="headerlink" title="Cloud-controller-manager"></a>Cloud-controller-manager</h4><p>A Kubernetes <a target="_blank" rel="noopener" href="https://kubernetes.io/docs/reference/glossary/?all=true#term-control-plane">control plane</a> component that embeds cloud-specific control logic. The cloud controller manager lets you link your cluster into your cloud providerâ€™s API, and separates out the components that interact with that cloud platform from components that only interact with your cluster.</p>
<h3 id="Node-Components"><a href="#Node-Components" class="headerlink" title="Node Components"></a>Node Components</h3><h4 id="Kubelet"><a href="#Kubelet" class="headerlink" title="Kubelet"></a>Kubelet</h4><p>An agent that runs on each <a target="_blank" rel="noopener" href="https://kubernetes.io/docs/concepts/architecture/nodes/">node</a> in the cluster. It makes sure that <a target="_blank" rel="noopener" href="https://kubernetes.io/docs/concepts/containers/">containers</a> are running in a <a target="_blank" rel="noopener" href="https://kubernetes.io/docs/concepts/workloads/pods/">Pod</a>.</p>
<h4 id="Kube-proxy"><a href="#Kube-proxy" class="headerlink" title="Kube-proxy"></a>Kube-proxy</h4><p>kube-proxy is a network proxy that runs on each <a target="_blank" rel="noopener" href="https://kubernetes.io/docs/concepts/architecture/nodes/">node</a> in your cluster, implementing part of the Kubernetes <a target="_blank" rel="noopener" href="https://kubernetes.io/docs/concepts/services-networking/service/">Service</a> concept.	</p>
<h4 id="Container-runtime"><a href="#Container-runtime" class="headerlink" title="Container-runtime"></a>Container-runtime</h4><p>The container runtime is the software that is responsible for running containers.</p>
<h3 id="Addons"><a href="#Addons" class="headerlink" title="Addons"></a>Addons</h3><p>Addons use Kubernetes resources (<a target="_blank" rel="noopener" href="https://kubernetes.io/docs/concepts/workloads/controllers/daemonset">DaemonSet</a>, <a target="_blank" rel="noopener" href="https://kubernetes.io/docs/concepts/workloads/controllers/deployment/">Deployment</a>, etc) to implement cluster features. Because these are providing cluster-level features, namespaced resources for addons belong within the <code>kube-system</code> namespace.</p>
<h4 id="DNS"><a href="#DNS" class="headerlink" title="DNS"></a>DNS</h4><p>While the other addons are not strictly required, all Kubernetes clusters should have <a target="_blank" rel="noopener" href="https://kubernetes.io/docs/concepts/services-networking/dns-pod-service/">cluster DNS</a>, as many examples rely on it.</p>
<h4 id="Web-UI-Dashboard"><a href="#Web-UI-Dashboard" class="headerlink" title="Web-UI(Dashboard)"></a>Web-UI(Dashboard)</h4><p><a target="_blank" rel="noopener" href="https://kubernetes.io/docs/tasks/access-application-cluster/web-ui-dashboard/">Dashboard</a> is a general purpose, web-based UI for Kubernetes clusters. It allows users to manage and troubleshoot applications running in the cluster, as well as the cluster itself.</p>
<h4 id="Container-Resource-Monitoring"><a href="#Container-Resource-Monitoring" class="headerlink" title="Container Resource Monitoring"></a>Container Resource Monitoring</h4><p><a target="_blank" rel="noopener" href="https://kubernetes.io/docs/tasks/debug/debug-cluster/resource-usage-monitoring/">Container Resource Monitoring</a> records generic time-series metrics about containers in a central database, and provides a UI for browsing that data.</p>
<h4 id="Cluster-level-Logging"><a href="#Cluster-level-Logging" class="headerlink" title="Cluster-level Logging"></a>Cluster-level Logging</h4><p>A <a target="_blank" rel="noopener" href="https://kubernetes.io/docs/concepts/cluster-administration/logging/">cluster-level logging</a> mechanism is responsible for saving container logs to a central log store with search&#x2F;browsing interface.</p>
<h4 id="Network-Plugins"><a href="#Network-Plugins" class="headerlink" title="Network Plugins"></a>Network Plugins</h4><p><a target="_blank" rel="noopener" href="https://kubernetes.io/docs/concepts/extend-kubernetes/compute-storage-net/network-plugins">Network plugins</a> are software components that implement the container network interface (CNI) specification. They are responsible for allocating IP addresses to pods and enabling them to communicate with each other within the cluster.</p>
<h1 id="Elementary"><a href="#Elementary" class="headerlink" title="Elementary"></a>Elementary</h1><h2 id="0-åŸºç¡€"><a href="#0-åŸºç¡€" class="headerlink" title="0.åŸºç¡€"></a>0.åŸºç¡€</h2><p>A cluster is made by nodes(master node and worker nodes), Master is used to managed the cluster. <strong>WorkerèŠ‚ç‚¹æ˜¯è™šæ‹Ÿæœºæˆ–ç‰©ç†è®¡ç®—æœºï¼Œå……å½“k8sé›†ç¾¤ä¸­çš„å·¥ä½œè®¡ç®—æœºã€‚</strong> æ¯ä¸ªWorkerèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªKubeletï¼Œå®ƒç®¡ç†è¯¥WorkerèŠ‚ç‚¹å¹¶è´Ÿè´£ä¸MasterèŠ‚ç‚¹é€šä¿¡ã€‚è¯¥WorkerèŠ‚ç‚¹è¿˜åº”å…·æœ‰ç”¨äºå¤„ç†å®¹å™¨æ“ä½œçš„å·¥å…·ï¼Œä¾‹å¦‚Dockerã€‚</p>
<p>A node is made by pods</p>
<p>Pod is created by deployment, you can specify how many replicas you want. You can use deployment to manage these pods replicas.</p>
<p>A pod is made by containers.</p>
<h2 id="1-éƒ¨ç½²ä¸€ä¸ªåº”ç”¨ç¨‹åº"><a href="#1-éƒ¨ç½²ä¸€ä¸ªåº”ç”¨ç¨‹åº" class="headerlink" title="1.éƒ¨ç½²ä¸€ä¸ªåº”ç”¨ç¨‹åº"></a>1.éƒ¨ç½²ä¸€ä¸ªåº”ç”¨ç¨‹åº</h2><p>é¦–å…ˆå¾—åˆ›å»ºä¸€ä¸ªyamlæ–‡ä»¶ï¼Œé‡Œé¢åŒ…å«äº†</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span>	<span class="comment">#ä¸k8sé›†ç¾¤ç‰ˆæœ¬æœ‰å…³ï¼Œä½¿ç”¨ kubectl api-versions å³å¯æŸ¥çœ‹å½“å‰é›†ç¾¤æ”¯æŒçš„ç‰ˆæœ¬</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span>	<span class="comment">#è¯¥é…ç½®çš„ç±»å‹ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ Deployment</span></span><br><span class="line"><span class="attr">metadata:</span>	        <span class="comment">#è¯‘åä¸ºå…ƒæ•°æ®ï¼Œå³ Deployment çš„ä¸€äº›åŸºæœ¬å±æ€§å’Œä¿¡æ¯</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">nginx-deployment</span>	<span class="comment">#Deployment çš„åç§°</span></span><br><span class="line">  <span class="attr">labels:</span>	    <span class="comment">#æ ‡ç­¾ï¼Œå¯ä»¥çµæ´»å®šä½ä¸€ä¸ªæˆ–å¤šä¸ªèµ„æºï¼Œå…¶ä¸­keyå’Œvalueå‡å¯è‡ªå®šä¹‰ï¼Œå¯ä»¥å®šä¹‰å¤šç»„ï¼Œç›®å‰ä¸éœ€è¦ç†è§£</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">nginx</span>	<span class="comment">#ä¸ºè¯¥Deploymentè®¾ç½®keyä¸ºappï¼Œvalueä¸ºnginxçš„æ ‡ç­¾</span></span><br><span class="line"><span class="attr">spec:</span>	        <span class="comment">#è¿™æ˜¯å…³äºè¯¥Deploymentçš„æè¿°ï¼Œå¯ä»¥ç†è§£ä¸ºä½ æœŸå¾…è¯¥Deploymentåœ¨k8sä¸­å¦‚ä½•ä½¿ç”¨</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">1</span>	<span class="comment">#ä½¿ç”¨è¯¥Deploymentåˆ›å»ºä¸€ä¸ªåº”ç”¨ç¨‹åºå®ä¾‹</span></span><br><span class="line">  <span class="attr">selector:</span>	    <span class="comment">#æ ‡ç­¾é€‰æ‹©å™¨ï¼Œä¸ä¸Šé¢çš„æ ‡ç­¾å…±åŒä½œç”¨ï¼Œç›®å‰ä¸éœ€è¦ç†è§£</span></span><br><span class="line">    <span class="attr">matchLabels:</span> <span class="comment">#é€‰æ‹©åŒ…å«æ ‡ç­¾app:nginxçš„èµ„æº</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">nginx</span></span><br><span class="line">  <span class="attr">template:</span>	    <span class="comment">#è¿™æ˜¯é€‰æ‹©æˆ–åˆ›å»ºçš„Podçš„æ¨¡æ¿</span></span><br><span class="line">    <span class="attr">metadata:</span>	<span class="comment">#Podçš„å…ƒæ•°æ®</span></span><br><span class="line">      <span class="attr">labels:</span>	<span class="comment">#Podçš„æ ‡ç­¾ï¼Œä¸Šé¢çš„selectorå³é€‰æ‹©åŒ…å«æ ‡ç­¾app:nginxçš„Pod</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">spec:</span>	    <span class="comment">#æœŸæœ›Podå®ç°çš„åŠŸèƒ½ï¼ˆå³åœ¨podä¸­éƒ¨ç½²ï¼‰</span></span><br><span class="line">      <span class="attr">containers:</span>	<span class="comment">#ç”Ÿæˆcontainerï¼Œä¸dockerä¸­çš„containeræ˜¯åŒä¸€ç§</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span>	<span class="comment">#containerçš„åç§°</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">nginx:1.7.9</span>	<span class="comment">#ä½¿ç”¨é•œåƒnginx:1.7.9åˆ›å»ºcontainerï¼Œè¯¥containeré»˜è®¤80ç«¯å£å¯è®¿é—®</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ç„¶å</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl apply -f nginx-deployment.yaml</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·åº”è¯¥å°±èƒ½å¤Ÿçœ‹è§äº†</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹ Deployment</span></span><br><span class="line">kubectl get deployments</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ Pod</span></span><br><span class="line">kubectl get pods</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="2-æŸ¥çœ‹pods-x2F-nodes"><a href="#2-æŸ¥çœ‹pods-x2F-nodes" class="headerlink" title="2.æŸ¥çœ‹pods&#x2F;nodes"></a>2.æŸ¥çœ‹pods&#x2F;nodes</h2><p>åœ¨éƒ¨ç½²å®Œä¸€ä¸ªåº”ç”¨ç¨‹åºåï¼Œk8såˆ›å»ºäº†ä¸€ä¸ªdeploymentï¼Œç”±å®ƒåˆ›å»ºäº†ä¸€ä¸ªpodæ¥æ”¾ç½®åº”ç”¨ç¨‹åºå®ä¾‹ä¹Ÿå°±æ˜¯container</p>
<p>åœ¨ä¸€ä¸ªpodä¸­ï¼Œé‡Œé¢çš„å®¹å™¨containersä¼šå…±äº«</p>
<ul>
<li>å…±äº«å­˜å‚¨ï¼Œç§°ä¸ºå·(Volumes)ï¼Œå³å›¾ä¸Šç´«è‰²åœ†æŸ±</li>
<li>ç½‘ç»œï¼Œæ¯ä¸ª Podï¼ˆå®¹å™¨ç»„ï¼‰åœ¨é›†ç¾¤ä¸­æœ‰ä¸ªå”¯ä¸€çš„ IPï¼Œpodï¼ˆå®¹å™¨ç»„ï¼‰ä¸­çš„ containerï¼ˆå®¹å™¨ï¼‰å…±äº«è¯¥IPåœ°å€</li>
<li>containerï¼ˆå®¹å™¨ï¼‰çš„åŸºæœ¬ä¿¡æ¯ï¼Œä¾‹å¦‚å®¹å™¨çš„é•œåƒç‰ˆæœ¬ï¼Œå¯¹å¤–æš´éœ²çš„ç«¯å£ç­‰</li>
</ul>
<p>Podï¼ˆå®¹å™¨ç»„ï¼‰æ˜¯ k8s é›†ç¾¤ä¸Šçš„æœ€åŸºæœ¬çš„å•å…ƒã€‚å½“æˆ‘ä»¬åœ¨ k8s ä¸Šåˆ›å»º Deployment æ—¶ï¼Œä¼šåœ¨é›†ç¾¤ä¸Šåˆ›å»ºåŒ…å«å®¹å™¨çš„ Pod (è€Œä¸æ˜¯ç›´æ¥åˆ›å»ºå®¹å™¨)ã€‚æ¯ä¸ªPodéƒ½ä¸è¿è¡Œå®ƒçš„ worker èŠ‚ç‚¹ï¼ˆNodeï¼‰ç»‘å®šï¼Œå¹¶ä¿æŒåœ¨é‚£é‡Œç›´åˆ°ç»ˆæ­¢æˆ–è¢«åˆ é™¤ã€‚å¦‚æœèŠ‚ç‚¹ï¼ˆNodeï¼‰å‘ç”Ÿæ•…éšœï¼Œåˆ™ä¼šåœ¨ç¾¤é›†ä¸­çš„å…¶ä»–å¯ç”¨èŠ‚ç‚¹ï¼ˆNodeï¼‰ä¸Šè¿è¡Œç›¸åŒçš„ Podï¼ˆä»åŒæ ·çš„é•œåƒåˆ›å»º Containerï¼Œä½¿ç”¨åŒæ ·çš„é…ç½®ï¼ŒIP åœ°å€ä¸åŒï¼ŒPod åå­—ä¸åŒï¼‰ã€‚</p>
<h1 id="Intermediate"><a href="#Intermediate" class="headerlink" title="Intermediate"></a>Intermediate</h1><h1 id="Advanced"><a href="#Advanced" class="headerlink" title="Advanced"></a>Advanced</h1> 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tech/" rel="tag">tech</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-project-notes"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/06/19/project-notes/"
    >project_notes</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/06/19/project-notes/" class="article-date">
  <time datetime="2023-06-19T08:35:01.000Z" itemprop="datePublished">2023-06-19</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Courses/">Courses</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="Master-Dissertation"><a href="#Master-Dissertation" class="headerlink" title="Master Dissertation"></a>Master Dissertation</h1><h2 id="week1"><a href="#week1" class="headerlink" title="week1"></a>week1</h2><h3 id="Microservice-Docker-Explanation"><a href="#Microservice-Docker-Explanation" class="headerlink" title="Microservice, Docker Explanation:"></a><strong>Microservice, Docker Explanation:</strong></h3><p><strong>Service Grid</strong> and <strong>Microservice Communication</strong>: The Service Grid is an infrastructure layer that handles service-to-service communication. As the number of microservices increases, so does the complexity of communication between services. Service Grids such as Istio and Linkerd help solve this problem, but there is still much room for research and exploration, including communication efficiency, security, observability, and control.</p>
<p><strong>Container orchestration</strong> and <strong>scheduling</strong>: With the growing popularity of containerized applications, how to effectively manage and schedule these containers has become an important issue. Although Kubernetes has become the de facto standard, further research is needed on how to optimize scheduling strategies, how to save resources while ensuring performance, and how to perform container scheduling in multi-cloud environments.</p>
<p><strong>Performance</strong> and <strong>Scalability of Microservices</strong>: With the widespread adoption of microservice architectures, how to improve the performance and scalability of microservices is an important research issue. This includes how to design an efficient microservice architecture, how to optimize the performance of microservices, and how to effectively scale up and down microservices.</p>
<p><strong>Security of containers</strong> and <strong>microservices</strong>: Due to the dynamic and decentralized nature of containers and microservices, their security becomes an important research issue. This includes how to ensure the isolation of containers, how to protect the communication between microservices, and how to prevent malicious code from running in container and microservice environments, etc.</p>
<p><strong>Testing</strong> and <strong>verification of microservices</strong>: The independence and dynamic nature of microservices brings new challenges for testing and verification. How to conduct effective microservice testing, how to verify the correctness of microservices, and how to perform continuous integration and continuous deployment of microservices are all issues that need to be studied.</p>
<p><strong>Fault detection</strong> and <strong>recovery</strong>: In a distributed environment, fault detection and recovery is a very important issue. This includes how to quickly detect faults, how to accurately locate the cause of faults, and how to automatically restore services.</p>
<h3 id="How-and-why-decoupling"><a href="#How-and-why-decoupling" class="headerlink" title="How and why decoupling?"></a><strong>How and why decoupling?</strong></h3><p>Decoupling and transforming a project into a microservice architecture while containerizing it using Docker can improve system scalability, maintainability, and disaster recovery. The following are some basic steps:</p>
<ol>
<li>Determine microservice boundaries: The first step is to determine which microservices to decompose the large monolithic application into. This process requires understanding the business logic and identifying modules that can run independently and scale independently. A good microservice should be business-driven and can perform a specific business function independently.</li>
</ol>
<!---->

<ol start="2">
<li>Create inter-service communication mechanisms: In a microservice architecture, services need to communicate with each other over the network. You can choose to use REST, gRPC, or message queues for communication.</li>
</ol>
<!---->

<ol start="3">
<li>Designing data persistence: Each microservice should have its own independent database to reduce the coupling between services. But this also needs to address the issue of data consistency.</li>
</ol>
<!---->

<ol start="4">
<li>Build microservices: For each microservice, you can choose the programming language and framework that best suits the business logic of that service for development.</li>
</ol>
<!---->

<ol start="5">
<li>Create Docker containers: Pack each microservice into a Docker container. Each container contains all the dependencies and environments needed to run a microservice, which ensures that the microservice will run stably in any environment.</li>
</ol>
<!---->

<ol start="6">
<li>Orchestrate with Docker Compose or Kubernetes: These tools can help manage and deploy your Docker containers, as well as handle service discovery, load balancing, fault recovery, networking, and security.</li>
</ol>
<!---->

<ol start="7">
<li>Implement Continuous Integration and Continuous Deployment (CI&#x2F;CD): Automating builds, tests, and deployments can greatly improve development speed and software quality.</li>
</ol>
<p>The main benefits of doing so are as follows:</p>
<ol>
<li>Scalability: When the system load increases, services with higher demand can be scaled individually without the need to scale as a whole.</li>
</ol>
<!---->

<ol start="2">
<li>Maintainability: Each service runs independently, with a small code base that is easier to understand and modify.</li>
</ol>
<!---->

<ol start="3">
<li>Fault isolation: If something goes wrong with one service, it will not affect other services, reducing the risk of system failure.</li>
</ol>
<!---->

<ol start="4">
<li>Fast iteration: Each microservice can be deployed independently, making it faster to develop and bring new features online.</li>
</ol>
<!---->

<ol start="5">
<li>Technology diversity: Each microservice can choose the technology stack that best suits its business needs.</li>
</ol>
<p>Benefits from containerization: Using Docker containers simplifies the deployment process, ensures software consistency across environments, and provides better.</p>
<h3 id="Fog-computing"><a href="#Fog-computing" class="headerlink" title="Fog computing:"></a><strong>Fog computing:</strong></h3><p>Fog computing is a computing architecture in which a series of nodes receives data from IoT devices in real time. These nodes perform real-time processing of the data that they receive, with millisecond response time. The nodes periodically send analytical summary information to the cloud</p>
<h3 id="Projects-ideas"><a href="#Projects-ideas" class="headerlink" title="Projects ideas:"></a><strong>Projects ideas:</strong></h3><p><strong>Docker and distributed architecture application in cloud computing platform.</strong></p>
<p><strong>Decouple a project into microservices architecture (Monometer -&gt; microservice, use brownfield projects).</strong></p>
<p>Make sure every service we have is <strong>high cohesion, and low coupling</strong>.</p>
<p><strong>Avoid underserving</strong>. The system says no more than four calls. This ensures a moderate level of service. In addition, it is important to think about the team in terms of making the team light enough to decouple microservices from each other. From the above aspects, to avoid the problem of microservices too small.</p>
<p>Some open source manometer projects: <span style="color: rgb(65, 131, 196)"><a target="_blank" href="https://github.com/BroadleafCommerce/BroadleafCommerce" rel="noopener noreferrer nofollow noopener">BroadleafCommerce</a></span>, <span style="color: rgb(65, 131, 196)"><a target="_blank" href="https://github.com/jhipster/generator-jhipster" rel="noopener noreferrer nofollow noopener">https://github.com/jhipster/generator-jhipster</a></span></p>
<p>Decompose by business capability model&#x2F;Decompose by subdomain pattern (DDD).</p>
<h2 id="week2"><a href="#week2" class="headerlink" title="week2"></a>week2</h2><h3 id="Paper-review"><a href="#Paper-review" class="headerlink" title="Paper review"></a>Paper review</h3><p>Summary and baselines</p>
<p><a href="zotero://note/u/F2ET4VTB/" rel="noopener noreferrer nofollow" zhref="zotero://note/u/F2ET4VTB/" ztype="znotelink" class="internal-link">Will_edge_autoscaling</a></p>
<p><a href="zotero://note/u/LLKLWX39/" rel="noopener noreferrer nofollow" zhref="zotero://note/u/LLKLWX39/" ztype="znotelink" class="internal-link">ML-based scaling management for kube</a></p>
<p><a href="zotero://note/u/ZRBM8KGM/" rel="noopener noreferrer nofollow" zhref="zotero://note/u/ZRBM8KGM/" ztype="znotelink" class="internal-link">PBScaler: A Bottleneck-aware Autoscaling Framework for Microservice-based Applications</a></p>
<p><a href="zotero://note/u/ZJ4GRYZR/" rel="noopener noreferrer nofollow" zhref="zotero://note/u/ZJ4GRYZR/" ztype="znotelink" class="internal-link">Microscaler: Automatic Scaling for Microservices with an Online Learning Approachâ€</a></p>
<p><a href="zotero://note/u/NL4AQ6DY/" rel="noopener noreferrer nofollow" zhref="zotero://note/u/NL4AQ6DY/" ztype="znotelink" class="internal-link">Autopilot: workload autoscaling at Google</a></p>
<p><a href="zotero://note/u/YIAM47M4/" rel="noopener noreferrer nofollow" zhref="zotero://note/u/YIAM47M4/" ztype="znotelink" class="internal-link">Adaptive scaling of Kubernetes pods</a></p>
<p><a href="zotero://note/u/E4TSY6WJ/" rel="noopener noreferrer nofollow" zhref="zotero://note/u/E4TSY6WJ/" ztype="znotelink" class="internal-link">Proactive Autoscaling for Edge Computing Systems with Kubernetes</a></p>
<p><a href="zotero://note/u/QEET6TKX/" rel="noopener noreferrer nofollow" zhref="zotero://note/u/QEET6TKX/" ztype="znotelink" class="internal-link">SHOWAR: Right-Sizing And Efficient Scheduling of Microservices</a></p>
<h3 id="Relative-project"><a href="#Relative-project" class="headerlink" title="Relative project"></a>Relative project</h3><p><a target="_blank" rel="noopener" href="https://github.com/jthomperoo/custom-pod-autoscaler">https://github.com/jthomperoo/custom-pod-autoscaler</a></p>
<p><strong>Custom Pod Autoscaler</strong></p>
<p>HPA cons: hard coded algorithm, CPA provides you flexibility in my scaling.</p>
<h2 id="Week3"><a href="#Week3" class="headerlink" title="Week3"></a>Week3</h2><p>Autopilot&#x2F; LOTUS</p>
<p>CPA</p>
<h2 id="Week4"><a href="#Week4" class="headerlink" title="Week4"></a>Week4</h2><p>PPA&#x2F;PBScaler&#x2F;LOTUS&#x2F;Autopilot</p>
<p>Letâ€™s start with PPA</p>
<p><strong>æ‘˜è¦</strong></p>
<p>éšç€ç‰©è”ç½‘å’Œ5GæŠ€æœ¯çš„å‡ºç°ï¼Œè¾¹ç¼˜è®¡ç®—èŒƒå¼ä»¥æ›´å¥½çš„å¯ç”¨æ€§ã€å»¶è¿Ÿæ§åˆ¶å’Œæ€§èƒ½å‘æŒ¥ç€è¶Šæ¥è¶Šé‡è¦çš„ä½œç”¨ã€‚ç„¶è€Œï¼Œç°æœ‰çš„è¾¹ç¼˜è®¡ç®—åº”ç”¨ç¨‹åºçš„è‡ªåŠ¨ç¼©æ”¾å·¥å…·ä¸èƒ½æœ‰æ•ˆåœ°åˆ©ç”¨è¾¹ç¼˜ç³»ç»Ÿçš„å¼‚æ„èµ„æºï¼Œä»è€Œä¸ºæ€§èƒ½æ”¹è¿›ç•™ä¸‹äº†ç©ºé—´ã€‚åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬ä¸ºKubernetesä¸Šçš„è¾¹ç¼˜è®¡ç®—åº”ç”¨ç¨‹åºæå‡ºäº†ä¸€ä¸ªä¸»åŠ¨Pod Autoscaler (PPA)ã€‚æè®®çš„PPAèƒ½å¤Ÿä½¿ç”¨å¤šä¸ªç”¨æˆ·å®šä¹‰&#x2F;è‡ªå®šä¹‰æŒ‡æ ‡æå‰é¢„æµ‹å·¥ä½œè´Ÿè½½ï¼Œå¹¶ç›¸åº”åœ°æ‰©å±•å’Œç¼©å°è¾¹ç¼˜è®¡ç®—åº”ç”¨ç¨‹åºã€‚åœ¨ä¸€ä¸ªcpuå¯†é›†å‹è¾¹ç¼˜è®¡ç®—åº”ç”¨å®ä¾‹ä¸­ï¼Œè¿›ä¸€æ­¥å¯¹PPAè¿›è¡Œäº†ä¼˜åŒ–å’Œè¯„ä¼°ã€‚å¯ä»¥å¾—å‡ºç»“è®ºï¼Œæ‰€æå‡ºçš„PPAåœ¨èµ„æºåˆ©ç”¨æ•ˆç‡å’Œåº”ç”¨ç¨‹åºæ€§èƒ½æ–¹é¢éƒ½ä¼˜äºKubernetesé»˜è®¤çš„podè‡ªåŠ¨ç¼©æ”¾å™¨ã€‚æ–‡ç« è¿˜å¼ºè°ƒäº†æ‹Ÿè®®è´­ç”µåè®®æœªæ¥å¯èƒ½çš„æ”¹è¿›ã€‚</p>
<p><strong>ä¸€</strong></p>
<p>åœ¨è¿‡å»çš„å‡ åå¹´é‡Œï¼Œäº‘è®¡ç®—åº”ç”¨åœ¨å„ç§å¹¿æ³›çš„é¢†åŸŸä¸­è¶Šæ¥è¶Šå—æ¬¢è¿[4,18]ã€‚äº‘è®¡ç®—ä¾›åº”å•†ä¸ºç”¨æˆ·æä¾›æŒ‰éœ€å¯ç”¨çš„å¤§é‡èµ„æºï¼ŒåŒ…æ‹¬è®¡ç®—å•å…ƒã€å­˜å‚¨ã€ç½‘ç»œè®¾å¤‡ï¼Œç”šè‡³æœåŠ¡å’Œåº”ç”¨ç¨‹åºã€‚äº‘è®¡ç®—å·²ç»è¢«è¯æ˜åœ¨å•†ä¸šå’ŒæŠ€æœ¯æ–¹é¢éƒ½æ˜¯æˆåŠŸçš„ï¼Œå¹¶ä¸”è¿™ç§æ–¹æ³•ä¸ºè®¸å¤šæµè¡Œçš„åº”ç”¨ç¨‹åº(ä¾‹å¦‚Netflix, DropBox, Spotify)æä¾›äº†åŠ¨åŠ›[13,15]ã€‚ç„¶è€Œï¼Œäº‘è®¡ç®—å­˜åœ¨åº”ç”¨ç¨‹åºå»¶è¿Ÿçš„é—®é¢˜ï¼Œè¿™ä¸»è¦å—é™äºå®¢æˆ·ç«¯ä¸æ•°æ®ä¸­å¿ƒä¹‹é—´çš„åœ°ç†è·ç¦»å’Œç½‘ç»œå¸¦å®½[12]ã€‚å› æ­¤ï¼Œäº‘è®¡ç®—ä¸èƒ½å®Œå…¨æ»¡è¶³å¯¹å»¶è¿Ÿæ•æ„Ÿçš„åº”ç”¨ç¨‹åº(ä¾‹å¦‚è§†é¢‘æ¸¸æˆæµã€å®æ—¶æ•°æ®åˆ†æ)çš„éœ€æ±‚ã€‚</p>
<p>è¾¹ç¼˜è®¡ç®—æ˜¯è§£å†³ä¼ ç»Ÿäº‘è®¡ç®—å»¶è¿Ÿé—®é¢˜çš„ä¸€ç§å¾ˆæœ‰å‰é€”çš„æ–¹æ³•[14]ï¼Œå®ƒå°†å¯¹å»¶è¿Ÿæ•æ„Ÿçš„è®¡ç®—å’Œæ•°æ®å­˜å‚¨ç§»åŠ¨åˆ°é è¿‘ç½‘ç»œè¾¹ç¼˜çš„å®¢æˆ·ç«¯ä½ç½®ã€‚è¾¹ç¼˜è®¡ç®—å…·æœ‰è¾ƒä½çš„å»¶è¿Ÿã€å¸¦å®½å ç”¨å’Œå¼€é”€ï¼Œåœ¨å®ç°æ™ºæ…§åŸå¸‚ã€æ™ºèƒ½ç”µç½‘ã€æ™ºèƒ½äº¤é€šç­‰æ–¹é¢å‘æŒ¥ç€é‡è¦ä½œç”¨[11]ã€‚</p>
<p>åœ¨ç°å®åœºæ™¯ä¸­ï¼Œäº‘è®¡ç®—å’Œè¾¹ç¼˜è®¡ç®—åº”ç”¨ç¨‹åºçš„è‡ªåŠ¨ä¼¸ç¼©æ˜¯å¿…ä¸å¯å°‘çš„[3,20]ã€‚éšç€å·¥ä½œè´Ÿè½½çš„å˜åŒ–ï¼Œè‡ªåŠ¨ä¼¸ç¼©å·¥å…·ä¼šåŠ¨æ€è°ƒæ•´èµ„æºé‡ï¼Œä»¥ä¿æŒæ¯ä¸ªè®¡ç®—&#x2F;å­˜å‚¨å•å…ƒçš„å¹³å‡å·¥ä½œè´Ÿè½½ç¨³å®šã€‚è‡ªåŠ¨ç¼©æ”¾ä¸ºåº”ç”¨ç¨‹åºæä¾›äº†æ›´å¥½çš„å®¹é”™æ€§ã€é«˜å¯ç”¨æ€§ã€é«˜æ•ˆçš„èƒ½è€—å’Œæˆæœ¬ç®¡ç†ã€‚</p>
<p>å¯¹äºäº‘è®¡ç®—ï¼ŒHPAä½œä¸ºKubernetesæä¾›çš„æœ¬åœ°æœåŠ¡è¢«å¹¿æ³›ä½¿ç”¨ï¼ŒKubernetesæ˜¯å¤§å¤šæ•°äº‘å¹³å°ä¸Šäº‹å®ä¸Šçš„äº‘æ¡†æ¶[8]ã€‚HPAä»¥CPUåˆ©ç”¨ç‡ä¸ºè¡¡é‡å·¥ä½œè´Ÿè½½çš„æŒ‡æ ‡ï¼Œä½¿ç”¨å¼1æ‰€ç¤ºçš„ç®—æ³•ä»¥å“åº”å¼æ–¹å¼æ‰©å±•äº‘åº”ç”¨ç¨‹åºã€‚</p>
<p>![æˆªå±2023-07-04 18.41.15](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-04 18.41.15.png)</p>
<p>ç„¶è€Œï¼Œå¯¹äºè¾¹ç¼˜è®¡ç®—ï¼Œè‡ªåŠ¨ç¼©æ”¾æ˜¯ä¸€ä¸ªæ›´å¤æ‚çš„é—®é¢˜[19]ã€‚å°½ç®¡HPAåœ¨è®¸å¤šäº‘è®¡ç®—æ¡ˆä¾‹ä¸­ç®€å•æœ‰æ•ˆï¼Œä½†å®ƒå¹¶ä¸å®Œå…¨èƒ½å¤Ÿè‡ªåŠ¨æ‰©å±•è¾¹ç¼˜è®¡ç®—åº”ç”¨ï¼ŒåŸå› æœ‰ä¸‰ä¸ª:</p>
<p>HPAä¸æ˜¯ä¸“é—¨ä¸ºè¾¹ç¼˜è®¡ç®—ç¯å¢ƒè®¾è®¡çš„ï¼Œä¸çŸ¥é“å¼‚æ„è¾¹ç¼˜èµ„æºçš„çº¦æŸå’Œèƒ½åŠ›;</p>
<p>HPAä»…è€ƒè™‘CPUåˆ©ç”¨ç‡æ¥ä¼°è®¡å·¥ä½œè´Ÿè½½ã€‚ç„¶è€Œï¼Œå¯¹äºè¾¹ç¼˜è®¡ç®—åº”ç”¨ç¨‹åºï¼Œåœ¨æ‰©å±•åº”ç”¨ç¨‹åºæ—¶ï¼Œæœ‰å…³ç³»ç»Ÿçš„å…¶ä»–ä¿¡æ¯(ä¾‹å¦‚ä½œä¸šé˜Ÿåˆ—ã€I&#x2F;Oã€è¯·æ±‚é€Ÿç‡)ä¹Ÿæ˜¯å¿…ä¸å¯å°‘çš„;</p>
<p>HPAæ˜¯åŸºäºè§„åˆ™çš„ï¼Œä¸å¯ç¼–ç¨‹çš„ï¼ŒæœåŠ¡æä¾›å•†å¾ˆéš¾å®šåˆ¶HPAæ¥æ»¡è¶³ä»–ä»¬å¯¹è¾¹ç¼˜è®¡ç®—åº”ç”¨çš„ç‰¹å®šéœ€æ±‚</p>
<p>ä¸€ç§å¾ˆæœ‰å‰é€”çš„æ–¹æ³•æ˜¯ä¸ºè¾¹ç¼˜è®¡ç®—åº”ç”¨ç¨‹åºå¼€å‘ä¸€ä¸ªä¸»åŠ¨çš„è‡ªåŠ¨ç¼©æ”¾å™¨ï¼Œè¯¥è‡ªåŠ¨ç¼©æ”¾å™¨æ”¯æŒå¤šä¸ªåº¦é‡å’Œå¯å®šåˆ¶çš„ç®—æ³•ã€‚ç„¶è€Œï¼Œå¼€å‘è¿™æ ·çš„è‡ªåŠ¨ç¼©æ”¾å™¨æ˜¯å…·æœ‰æŒ‘æˆ˜æ€§çš„ã€‚ä»ç†è®ºä¸Šè®²ï¼Œç”±äºè¾¹ç¼˜èµ„æºçš„å¼‚è´¨æ€§å’Œå±€é™æ€§ï¼Œé¢„æµ‹è¾¹ç¼˜ç³»ç»Ÿçš„å·¥ä½œè´Ÿè½½å’Œæ‰©å±•podå½¢æˆäº†ä¸€ä¸ªæ—¶é—´åºåˆ—åˆ†æå’Œå¤šç›®æ ‡ä¼˜åŒ–çš„æ··åˆé—®é¢˜ã€‚å®é™…ä¸Šï¼Œä»ä¸åŒçš„æ¥æºæ”¶é›†å¤šä¸ªåº¦é‡æ ‡å‡†å¹¶ä»¥ç»Ÿä¸€çš„æ–¹å¼ç»„ç»‡ä¾èµ–äºå„ç§åº“çš„è‡ªå®šä¹‰ç®—æ³•æ˜¯ä¸€ä¸ªå¤æ‚çš„å¤šæ¡†æ¶å·¥ç¨‹é—®é¢˜ã€‚åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªå¤šæŒ‡æ ‡æ”¯æŒå’Œå¯å®šåˆ¶çš„ä¸»åŠ¨podè‡ªåŠ¨ç¼©æ”¾å™¨ã€‚è‡ªåŠ¨æ‰©å±•å™¨èƒ½å¤Ÿæ”¶é›†å¤šä¸ªæŒ‡æ ‡ï¼Œé¢„æµ‹å·¥ä½œè´Ÿè½½å¹¶æå‰æ‰©å±•ç›®æ ‡åº”ç”¨ç¨‹åºã€‚æ­¤å¤–ï¼Œå®ƒå…è®¸ç”¨æˆ·è‡ªå®šä¹‰ä»–ä»¬è‡ªå·±çš„æ‰©å±•ç­–ç•¥å’Œé¢„æµ‹æ¨¡å‹ï¼Œä»¥æ›´å¥½åœ°é€‚åº”ä»–ä»¬çš„åº”ç”¨ç¨‹åºã€‚è¿™é¡¹å·¥ä½œçš„ä¸»è¦è´¡çŒ®åŒ…æ‹¬:</p>
<p><strong>(1)ä¸ºè‡ªåŠ¨ç¼©æ”¾è¾¹ç¼˜è®¡ç®—åº”ç”¨å¼•å…¥ä¸»åŠ¨å·¥ä½œæµã€‚</strong></p>
<p><strong>(2)åœ¨Kubernetesä¸Šå®ç°å¤šæŒ‡æ ‡æ”¯æŒå’Œå¯å®šåˆ¶çš„è‡ªåŠ¨ç¼©æ”¾å™¨ã€‚</strong></p>
<p><strong>(3)æä¾›ä¸€ä¸ªç¤ºä¾‹åº”ç”¨ç¨‹åºï¼Œä»¥æ¼”ç¤ºæ‰€å»ºè®®çš„è‡ªåŠ¨ç¼©æ”¾å™¨çš„æ€§èƒ½ã€‚</strong></p>
<p>æœ¬æ–‡çš„å…¶ä½™éƒ¨åˆ†ç»„ç»‡å¦‚ä¸‹ã€‚ç›¸å…³æ–‡çŒ®åœ¨ç¬¬2èŠ‚ä¸­è¿›è¡Œäº†å›é¡¾ã€‚åœ¨ç¬¬3èŠ‚ä¸­ï¼Œè¯´æ˜äº†æœ¬å·¥ä½œä¸­è¾¹ç¼˜ç³»ç»Ÿç¯å¢ƒçš„è®¾è®¡ã€‚åœ¨ç¬¬4èŠ‚ä¸­ï¼Œè¯¦ç»†è§£é‡Šäº†æ‰€æå‡ºçš„è‡ªåŠ¨ç¼©æ”¾å™¨çš„ä½“ç³»ç»“æ„å’Œç®—æ³•ã€‚ç¬¬5èŠ‚å’Œç¬¬6èŠ‚ä»‹ç»äº†æ‰€å»ºè®®çš„è‡ªåŠ¨ç¼©æ”¾å™¨çš„å®éªŒè®¾è®¡å’Œç»“æœã€‚ç¬¬7èŠ‚æ€»ç»“äº†å·¥ä½œï¼Œå¹¶å¼ºè°ƒäº†è¿›ä¸€æ­¥å¯èƒ½çš„æ”¹è¿›ã€‚</p>
<p><strong>äºŒ</strong></p>
<p>è€ƒè™‘åˆ°HPAä½œä¸ºä¸€ä¸ªåŸºå‡†ï¼Œè®¸å¤šç ”ç©¶å·¥ä½œå·²ç»å¼€å§‹æ¢ç´¢HPAçš„æ›¿ä»£æ–¹æ¡ˆï¼Œä»¥ç”¨äºæ‰˜ç®¡åœ¨å®¹å™¨ä¸Šçš„äº‘&#x2F;è¾¹ç¼˜åº”ç”¨ç¨‹åºã€‚åœ¨æœ¬èŠ‚ä¸­ï¼Œå°†å›é¡¾æœ‰å…³è¢«åŠ¨å’Œä¸»åŠ¨è‡ªåŠ¨ç¼©æ”¾æŠ€æœ¯çš„ç›¸å…³å·¥ä½œã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬æå‡ºçš„ä¸»åŠ¨Podè‡ªåŠ¨ç¼©æ”¾å™¨çš„å¿…è¦æ€§å’Œå…¶ç‹¬ç‰¹çš„åŠŸèƒ½è¿›è¡Œäº†è§£é‡Šã€‚</p>
<p><strong>2.1</strong></p>
<p>2019å¹´ï¼ŒFanç­‰äººæŠ¥é“äº†ä¸€ç§å®¹å™¨ç³»ç»Ÿæ¶æ„ï¼Œæä¾›äº†æ›´é«˜çš„è‡ªåŠ¨ç¼©æ”¾æ•ˆç‡[22]ã€‚2020å¹´ï¼ŒSalmanå’ŒMarkoçš„ä¸€ç¯‡æ–‡ç« æ¢è®¨äº†é™¤äº†CPUåˆ©ç”¨ç‡ä¹‹å¤–åº”è¯¥è€ƒè™‘çš„å…¶ä»–å…³é”®å› ç´ [17]ã€‚å¯ä»¥è‚¯å®šçš„æ˜¯ï¼Œä¸ºäº†æ›´å¥½åœ°è‡ªåŠ¨æ‰©å±•äº‘ç³»ç»Ÿï¼Œé™¤äº†CPUåˆ©ç”¨ç‡ä¹‹å¤–ï¼Œè¿˜éœ€è¦å¤šä¸ªæŒ‡æ ‡ã€‚æ— åŠŸè‡ªç¼©æ”¾å™¨çš„ä¸€ä¸ªä¸»è¦ç¼ºç‚¹æ˜¯æ§åˆ¶å»¶è¿Ÿã€‚è™½ç„¶ä¸€æ—¦å·¥ä½œè´Ÿè½½å‘ç”Ÿå˜åŒ–ï¼Œå®¹å™¨å°±ä¼šè¢«æ‰©å±•ï¼Œä½†æ˜¯å®¹å™¨çš„åˆå§‹åŒ–æˆ–ç»ˆæ­¢éœ€è¦æ—¶é—´ã€‚</p>
<p><strong>2.2</strong></p>
<p>ä¸ºäº†æ”¹è¿›å“åº”å¼podè‡ªåŠ¨æ‰©å±•å™¨ï¼Œå®ƒæœ‰æœ›é¢„æµ‹å·¥ä½œè´Ÿè½½å¹¶æå‰åšå‡ºæ‰©å±•å†³ç­–ï¼Œå³ä¸»åŠ¨&#x2F;é¢„æµ‹è‡ªåŠ¨æ‰©å±•ã€‚2016å¹´ï¼ŒYangç­‰äººæå‡ºäº†ä¸€ç§åŸºäºæ—¶é—´åºåˆ—åˆ†æé¢„æµ‹å®¹å™¨CPUä½¿ç”¨æƒ…å†µçš„ä¸»åŠ¨è‡ªç¼©æ”¾ç®—æ³•CRUPA[9]ã€‚å¦ä¸€ä¸ªä¾‹å­æ¥è‡ªTianç­‰äººï¼Œä»–ä»¬åœ¨2017å¹´æŠ¥å‘Šäº†ä¸€ä¸ªé¢„æµ‹è‡ªåŠ¨ç¼©æ”¾æ¡†æ¶[21]ã€‚ä¸ºäº†æä¾›æ›´å¥½çš„æœåŠ¡è´¨é‡ï¼Œæå‡ºäº†ä¸€ç§ç»“åˆCPUåˆ©ç”¨ç‡é¢„æµ‹å’ŒæœåŠ¡æ°´å¹³åè®®çš„æ··åˆè‡ªæ‰©å±•ç­–ç•¥ã€‚æœºå™¨å­¦ä¹ æ¨¡å‹åœ¨æ—¶é—´åºåˆ—åˆ†æä¸­å¾—åˆ°äº†å¾ˆå¤šå…³æ³¨[16]ï¼Œä¸€äº›æŠ¥é“çš„ä¸»åŠ¨è‡ªåŠ¨æ ‡åº¦å™¨æ˜¯åŸºäºæœºå™¨å­¦ä¹ æ¨¡å‹çš„ã€‚2020å¹´ï¼ŒMahmoud, Imtiazå’ŒMohammadæå‡ºäº†ä¸€ç§åŸºäºæœºå™¨å­¦ä¹ çš„ä¸»åŠ¨è‡ªåŠ¨ç¼©æ”¾å™¨ï¼Œå®ƒåˆ©ç”¨LSTMå’Œå¤šä¸ªæŒ‡æ ‡æ¥é¢„æµ‹å·¥ä½œè´Ÿè½½[6]ã€‚è™½ç„¶æœ‰ä¸€äº›å…³äºäº‘ç³»ç»Ÿçš„ä¸»åŠ¨è‡ªåŠ¨ç¼©æ”¾çš„å·¥ä½œï¼Œä½†è¾¹ç¼˜è®¡ç®—ç³»ç»Ÿçš„ä¸»åŠ¨è‡ªåŠ¨ç¼©æ”¾å¾ˆå°‘ã€‚æ®æˆ‘ä»¬æ‰€çŸ¥ï¼Œåªæœ‰ä¸€ç¯‡æ–‡ç« æŠ¥é“äº†è¾¹ç¼˜ç³»ç»Ÿçš„ä¸»åŠ¨è‡ªåŠ¨ç¼©æ”¾[1]ã€‚å»ºç«‹äº†é¢„è®­ç»ƒçš„ç¥ç»ç½‘ç»œæ¨¡å‹ï¼Œå¹¶å°†å…¶ä½œä¸ºè¿è¡Œç³»ç»Ÿä¸­CPUåˆ©ç”¨ç‡çš„é¢„æµ‹æ¨¡å‹ã€‚é¢„æµ‹çš„CPUæŒ‡æ ‡ç”¨äºä¼°è®¡å‰¯æœ¬çš„æ•°é‡ã€‚è¡¨1æ¯”è¾ƒäº†ç›¸å…³å·¥ä½œå’Œæˆ‘ä»¬æå‡ºçš„æ–¹æ³•ã€‚æˆ‘ä»¬æå‡ºçš„ä¸»åŠ¨Podè‡ªåŠ¨ç¼©æ”¾å™¨(PPA)å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹:</p>
<p>â€¢è€ƒè™‘åˆ°å¼‚æ„èµ„æºçš„é™åˆ¶å’Œçº¦æŸï¼Œè¿™æ˜¯å°‘æ•°å…³æ³¨è¾¹ç¼˜è®¡ç®—åº”ç”¨ç¨‹åºè‡ªåŠ¨ç¼©æ”¾çš„ç ”ç©¶ä¹‹ä¸€ã€‚</p>
<p>â€¢æ”¯æŒå¤šä¸ªæŒ‡æ ‡(CPU, RAM, I&#x2F;Oåˆ©ç”¨ç‡)å’Œè‡ªå®šä¹‰æŒ‡æ ‡æ¥è‡ªåŠ¨æ‰©å±•åº”ç”¨ç¨‹åºï¼Œä¸ºå·¥ä½œè´Ÿè½½ä¼°è®¡å’Œé¢„æµ‹æä¾›æ›¿ä»£æŒ‡æ ‡ã€‚å°½ç®¡CPUåˆ©ç”¨ç‡åœ¨è®¸å¤šæƒ…å†µä¸‹èƒ½å¤Ÿé¢„æµ‹å·¥ä½œè´Ÿè½½ï¼Œä½†ä¸€äº›åº”ç”¨ç¨‹åºéœ€è¦å¤šä¸ªæˆ–ç‰¹å®šäºåº”ç”¨ç¨‹åºçš„æŒ‡æ ‡æ¥åšå‡ºæ‰©å±•å†³ç­–ã€‚</p>
<p>â€¢PPAçµæ´»ä¸”ä¸æ¨¡å‹æ— å…³ã€‚ä¸å…¶ä»–å…·æœ‰å›ºå®šé¢„æµ‹æ¨¡å‹çš„ä¸»åŠ¨podè‡ªåŠ¨ç¼©æ”¾å™¨ä¸åŒï¼Œæ‹Ÿè®®çš„PPAæ”¯æŒè‡ªå®šä¹‰æ¨¡å‹å’Œå¤šä¸ªæ¨¡å‹æ¡†æ¶(ä¾‹å¦‚TensorFlow, statmodelsç­‰)ã€‚ç”¨æˆ·å¯ä»¥å°†è‡ªå·±çš„æ¨¡å‹æ³¨å…¥åˆ°PPAä¸­ï¼Œä»¥è·å¾—é€‚åˆè‡ªå·±åº”ç”¨çš„æœ€ä½³æ€§èƒ½ã€‚</p>
<p>â€¢è´­ç”µåè®®å¯ä»¥è€ƒè™‘ä¿¡å¿ƒå› ç´ ã€‚å¦‚æœæ³¨å…¥çš„æ¨¡å‹æ˜¯è´å¶æ–¯æ¨¡å‹ï¼Œå¯¹æ¯ä¸ªé¢„æµ‹äº§ç”Ÿç½®ä¿¡åº¦&#x2F;ä¸ç¡®å®šæ€§ä¼°è®¡ï¼Œé‚£ä¹ˆæ‰€æå‡ºçš„è‡ªåŠ¨æ ‡åº¦å™¨åªæœ‰åœ¨é¢„æµ‹ç½®ä¿¡åº¦è¶…è¿‡é¢„è®¾ç½®ä¿¡åº¦é˜ˆå€¼æ—¶æ‰ä¼šä¸»åŠ¨å·¥ä½œï¼Œå¦åˆ™å®ƒä¼šè¢«åŠ¨å·¥ä½œ</p>
<p><strong>ä¸‰</strong></p>
<p>ç°åœ¨è¯¦ç»†ä»‹ç»äº†æ‰€è€ƒè™‘çš„äº‘å’Œè¾¹ç¼˜ç¯å¢ƒçš„è®¾ç½®ã€‚</p>
<p><strong>3.1 è¾¹ç¼˜è®¡ç®—çš„ç¯å¢ƒ</strong></p>
<p>![æˆªå±2023-07-04 19.18.26](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-04 19.18.26.png)</p>
<p>![æˆªå±2023-07-04 19.19.38](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-04 19.19.38.png)</p>
<p>å›¾1æ˜¾ç¤ºäº†æˆ‘ä»¬ä¸ºKubernetesè¿æ¥çš„äº‘&#x2F;è¾¹ç¼˜è®¡ç®—ç¯å¢ƒç¼–æ’çš„æ‹“æ‰‘ç»“æ„ã€‚è¡¨2ä»‹ç»äº†ç³»ç»Ÿä¸­èŠ‚ç‚¹åˆ†é…çš„èµ„æºã€‚ä¸åŒèŠ‚ç‚¹åˆ†é…çš„èµ„æºæœ‰é™ä¸”å¤§å°ä¸ä¸€ï¼Œè€Œäº‘èŠ‚ç‚¹æ‹¥æœ‰æ›´å¼ºçš„è®¡ç®—èƒ½åŠ›å’Œæ›´å¤§çš„å†…å­˜èµ„æºã€‚è¯¥ç³»ç»Ÿæç»˜äº†ä¸€ä¸ªå…¸å‹è¾¹ç¼˜è®¡ç®—ç¯å¢ƒçš„çœŸå®ä¸–ç•Œæ¨¡å‹ã€‚</p>
<p>![æˆªå±2023-07-04 19.20.41](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-04 19.20.41.png)</p>
<p><strong>3.2 é›†ç¾¤ç»„ä»¶</strong></p>
<p>é™¤äº†Kubernetesæ ¸å¿ƒä¹‹å¤–ï¼Œé›†ç¾¤è¿˜åŒ…å«ä¸‰ä¸ªç”¨äºç³»ç»Ÿç›‘æ§çš„é€»è¾‘ç»„ä»¶ï¼ŒåŒ…æ‹¬å¯¼å‡ºå™¨ã€Prometheuså †æ ˆå’Œè‡ªåŠ¨ç¼©æ”¾å™¨ã€‚é›†ç¾¤çš„ç›‘æ§ç³»ç»Ÿå¯¹äºæˆåŠŸè¿è¡Œæ‰€å»ºè®®çš„äº‘&#x2F;è¾¹ç¼˜è®¡ç®—æ¡†æ¶èµ·ç€è‡³å…³é‡è¦çš„ä½œç”¨ã€‚è¯¥ç³»ç»ŸåŸºäºPrometheus[5]ï¼Œè¿™æ˜¯äº‘è®¡ç®—å’Œè¾¹ç¼˜è®¡ç®—ç¯å¢ƒä¸­æœ€æµè¡Œçš„æ¡†æ¶ä¹‹ä¸€ã€‚ä¸åŒç±»å‹çš„å¯¼å‡ºå™¨è´Ÿè´£ç”Ÿæˆä¸åŒçš„åº¦é‡æ ‡å‡†ã€‚åœ¨è€ƒè™‘çš„è¾¹ç¼˜è®¡ç®—ç¯å¢ƒä¸­ï¼ŒèŠ‚ç‚¹å¯¼å‡ºå™¨éƒ¨ç½²åœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šç”¨äºèŠ‚ç‚¹çº§æŒ‡æ ‡ï¼Œå¹¶ä¸ºç”¨æˆ·éƒ¨ç½²å¯è‡ªå®šä¹‰å¯¼å‡ºå™¨ä»¥ç”Ÿæˆ&#x2F;æå–ç”¨æˆ·è‡ªå®šä¹‰æŒ‡æ ‡(ä¾‹å¦‚è¯·æ±‚ç‡ï¼Œæ’é˜Ÿä»»åŠ¡æ•°ç­‰)ä½œä¸ºè‡ªå®šä¹‰æŒ‡æ ‡ã€‚æ™®ç½—ç±³ä¿®æ–¯å †æ ˆç”±ä¸‰éƒ¨åˆ†ç»„æˆâ€”â€”æ™®ç½—ç±³ä¿®æ–¯ã€Grafanaå’Œæ™®ç½—ç±³ä¿®æ–¯é€‚é…å™¨ã€‚æŒ‡æ ‡ç”±Prometheusä»å‡ºå£å•†æ”¶é›†ï¼Œå¹¶ä½¿ç”¨Grafanaè¿›è¡Œå¯è§†åŒ–ã€‚æ”¶é›†åˆ°çš„æŒ‡æ ‡ä¹Ÿç”±Prometheus Adapteråœ¨æ ‡å‡†APIä¸­å…¬å¼€ï¼Œä»¥ä¾¿å…¶ä»–podèƒ½å¤Ÿä»¥ç»Ÿä¸€çš„æ–¹å¼è·å–å®ƒä»¬ã€‚ä»Prometheus Adapterï¼Œè‡ªåŠ¨æ‰©å±•å™¨è·å–æ‰€æœ‰ç±»å‹çš„æ‰€éœ€æŒ‡æ ‡ï¼Œè¯„ä¼°æ‰€éœ€å‰¯æœ¬çš„æ•°é‡ï¼Œå¹¶å‘Kubernetesä¸»æ§åˆ¶é¢æ¿å‘å‡ºæ‰©å±•å†³ç­–è¯·æ±‚ã€‚Kubernetesè´Ÿè´£å¤„ç†æ‰©å±•è¯·æ±‚å’Œåœ¨èŠ‚ç‚¹ä¸Šè°ƒåº¦æ–°çš„podã€‚</p>
<p><strong>å››</strong></p>
<p>åœ¨æœ¬èŠ‚ä¸­ï¼Œä»‹ç»äº†æ‰€æå‡ºçš„ä¸»åŠ¨Podè‡ªåŠ¨ç¼©æ”¾å™¨çš„ä½“ç³»ç»“æ„å’Œç®—æ³•ã€‚é¦–å…ˆé˜è¿°äº†PPAçš„ç»“æ„å’Œå·¥ä½œæµç¨‹ã€‚ç„¶åï¼Œå¯¹PPAå„ç»„æˆéƒ¨åˆ†çš„è¯¦ç»†ç®—æ³•è¿›è¡Œäº†æ¨å¯¼å’Œè¯´æ˜ã€‚</p>
<p><strong>4.1 æ¶æ„</strong></p>
<p>![æˆªå±2023-07-04 19.32.26](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-04 19.32.26.png)</p>
<p>å›¾2æ˜¾ç¤ºäº†æè®®çš„ä¸»åŠ¨podè‡ªåŠ¨ç¼©æ”¾å™¨çš„ç»“æ„ã€‚PPAç”±ä¸‰ä¸ªç»„ä»¶(Formulatorã€Evaluatorå’ŒUpdater)ç»„æˆï¼Œåœ¨ä¸¤ä¸ªå¾ªç¯ä¸­å·¥ä½œ(æ§åˆ¶å¾ªç¯å’Œæ¨¡å‹æ›´æ–°å¾ªç¯)ï¼Œå¹¶ç»´æŠ¤ä¸¤ä¸ªæ–‡ä»¶(åº¦é‡å†å²æ–‡ä»¶å’Œæ¨¡å‹æ–‡ä»¶)ã€‚PPAçš„åˆå§‹åŒ–éœ€è¦å°†é¢„è®­ç»ƒçš„ç§å­æ¨¡å‹ä½œä¸ºåˆå§‹æ¨¡å‹æ–‡ä»¶æ³¨å…¥æ¡†æ¶ä¸­ã€‚</p>
<p>åœ¨æ¯ä¸ªæ§åˆ¶å¾ªç¯ä¸­ï¼ŒPPAè´Ÿè´£ä½¿ç”¨æ”¶é›†åˆ°çš„æŒ‡æ ‡æ‰©å±•ç›®æ ‡podã€‚Formulatorä»Prometheus Adapterè·å–åŸå§‹æŒ‡æ ‡ï¼Œå¹¶å¯¹å…¶è¿›è¡Œé¢„å¤„ç†ã€‚åˆ¶å®šçš„åº¦é‡å­˜å‚¨åœ¨åº¦é‡å†å²æ–‡ä»¶ä¸­ï¼Œå¹¶ä¼ é€’ç»™è¯„ä¼°è€…ã€‚ç„¶åï¼ŒEvaluatorä»æ¨¡å‹æ–‡ä»¶ä¸­åŠ è½½æ¨¡å‹ï¼Œé¢„æµ‹æ‰€éœ€å‰¯æœ¬çš„æ•°é‡ï¼Œå¹¶å‘Kubernetesæ§åˆ¶é¢æ¿å‘å‡ºç¼©æ”¾è¯·æ±‚ã€‚</p>
<p>åœ¨æ¯ä¸ªæ¨¡å‹æ›´æ–°å¾ªç¯ä¸­ï¼ŒUpdaterä»åº¦é‡å†å²æ–‡ä»¶ä¸­åŠ è½½è®­ç»ƒæ•°æ®ï¼Œæ›´æ–°æ¨¡å‹ï¼Œåˆ é™¤åº¦é‡å†å²æ–‡ä»¶ï¼Œå¹¶å°†æ¨¡å‹é‡æ–°ä¿å­˜åˆ°æ¨¡å‹æ–‡ä»¶ä¸­ã€‚æœ‰äº†Updaterï¼Œç”¨äºé¢„æµ‹çš„æ¨¡å‹å°±å¯ä»¥é’ˆå¯¹æ–°çš„å·¥ä½œè´Ÿè½½æ¨¡å¼ä¸æ–­æ›´æ–°ã€‚</p>
<p><strong>4.2ç®—æ³•</strong></p>
<p><strong>4.2.1 è¯„ä¼°å™¨evaluator</strong></p>
<p>ç®—æ³•1æè¿°äº†è¯„ä¼°å™¨çš„å·¥ä½œåŸç†ã€‚å¯¹äºæ¯ä¸ªPPAï¼Œå¿…é¡»å°†ä¸€ä¸ªå…³é”®æŒ‡æ ‡è®¾ç½®ä¸ºå·¥ä½œè´Ÿè½½çš„ä¼°è®¡å™¨ï¼Œæ³¨å…¥çš„é¢„æµ‹æ¨¡å‹ä½¿ç”¨æ”¶é›†çš„æŒ‡æ ‡æ¥é¢„æµ‹å…³é”®æŒ‡æ ‡ã€‚ä¸ºäº†ä»é¢„æµ‹çš„å…³é”®æŒ‡æ ‡ä¸­è·å¾—æ‰€éœ€çš„å‰¯æœ¬æ•°é‡ï¼Œåº”è¯¥å®šä¹‰ä¸€ä¸ªé™æ€ç­–ç•¥ã€‚åœ¨æœ¬å·¥ä½œä¸­ï¼Œä½¿ç”¨ç¬¬1èŠ‚ä¸­æè¿°çš„åŸºäºé˜ˆå€¼çš„HPAç®—æ³•ä½œä¸ºé»˜è®¤çš„é™æ€ç­–ç•¥ã€‚ä½†æ˜¯ï¼Œé™æ€ç­–ç•¥æ˜¯å¯å®šåˆ¶çš„ï¼Œç”¨æˆ·å¯ä»¥åœ¨PPAä¸­æ³¨å…¥è‡ªå·±çš„ç­–ç•¥ã€‚</p>
<p>![æˆªå±2023-07-04 19.41.37](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-04 19.41.37.png)</p>
<p><strong><code>model.isBayesian()</code> æ˜¯æ£€æŸ¥æ¨¡å‹æ˜¯å¦ä¸ºè´å¶æ–¯æ¨¡å‹çš„æ¡ä»¶ã€‚è´å¶æ–¯æ¨¡å‹æ˜¯ä¸€ç§ç»Ÿè®¡æ¨¡å‹ï¼Œå®ƒä½¿ç”¨è´å¶æ–¯å®šç†è¿›è¡Œæ¨æ–­å’Œé¢„æµ‹ã€‚åœ¨è¿™æ®µä»£ç ä¸­ï¼Œå¦‚æœæ¨¡å‹æ˜¯è´å¶æ–¯æ¨¡å‹å¹¶ä¸”é¢„æµ‹çš„ç½®ä¿¡åº¦ä½äºé˜ˆå€¼ï¼Œå°±ä¼šé€‰æ‹©ä½¿ç”¨å½“å‰çš„å…³é”®åº¦é‡æŒ‡æ ‡è€Œä¸æ˜¯æ¨¡å‹é¢„æµ‹çš„ç»“æœã€‚</strong></p>
<p><strong>4.2.2 æ¨¡å‹çš„åè®®</strong></p>
<p>æ‰€æœ‰æ»¡è¶³ä»¥ä¸‹åè®®çš„æ—¶é—´åºåˆ—æ¨¡å‹éƒ½å¯ä»¥æ³¨å…¥è¿›è¡ŒæŒ‡æ ‡é¢„æµ‹:</p>
<p>(1)æ—¶é—´çª—å£å¤§å°:æ‰€æœ‰æ¨¡å‹çš„æ—¶é—´çª—å£å¤§å°å›ºå®šä¸º1ä¸ªå•ä½ï¼Œè¡¨æ˜æ¨¡å‹ä½¿ç”¨ä¸Šä¸€ä¸ªå›è·¯çš„æŒ‡æ ‡é¢„æµ‹ä¸‹ä¸€ä¸ªæ§åˆ¶å›è·¯çš„å·¥ä½œé‡ã€‚è¿™æ˜¯ç”±æ–°podçš„åˆå§‹åŒ–æ—¶é—´æˆæœ¬å†³å®šçš„ï¼Œå®ƒé€šå¸¸éœ€è¦ä¸åˆ°ä¸€ä¸ªæ—¶é—´é—´éš”çš„æ§åˆ¶å¾ªç¯ã€‚</p>
<p>(2)è¾“å…¥è¾“å‡ºæŒ‡æ ‡:æ¨¡å‹çš„æŒ‡æ ‡åº”æŒ‰ä»¥ä¸‹é¡ºåºè¾“å…¥[CPU, RAMï¼Œç½‘ç»œè¾“å…¥ï¼Œç½‘ç»œè¾“å‡ºï¼Œè‡ªå®šä¹‰æŒ‡æ ‡]ã€‚è¯¥æ¨¡å‹åº”è¯¥é¢„æµ‹æ‰€æœ‰è¾“å…¥æŒ‡æ ‡ï¼Œä½†åªæœ‰ä¸€ä¸ªè¢«è®¾ç½®ä¸ºå…³é”®æŒ‡æ ‡ã€‚</p>
<p><strong>4.2.3å‡çº§å™¨çš„æ¨¡å‹æ›´æ–°ç­–ç•¥Model Update Policy of the Updater</strong></p>
<p>è™½ç„¶Updaterçš„å·¥ä½œæµç¨‹æ˜¯å›ºå®šçš„ï¼Œä½†æˆ‘ä»¬æå‡ºäº†3ç§ä¸åŒçš„ç­–ç•¥æ¥æ›´æ–°ç§å­æ¨¡å‹(ç§°ä¸ºæ¨¡å‹æ›´æ–°ç­–ç•¥):</p>
<p>(1)ä¸é‡æ–°è®­ç»ƒæ¨¡å‹:åœ¨æ•´ä¸ªæ‰§è¡Œè¿‡ç¨‹ä¸­ä½¿ç”¨æ³¨å…¥çš„ç§å­æ¨¡å‹è€Œä¸æ›´æ–°ã€‚å¦‚æœç§å­æ¨¡å‹åœ¨ç¨³å®šçš„å·¥ä½œè´Ÿè½½ä¸‹èƒ½å¤Ÿäº§ç”Ÿä»¤äººæ»¡æ„çš„ç»“æœï¼Œåˆ™æ— éœ€å®šæœŸæ›´æ–°æ¨¡å‹ï¼Œæˆæœ¬è¾ƒå¤§;</p>
<p>(2)ä»å¤´å¼€å§‹é‡æ–°è®­ç»ƒæ¨¡å‹:åœ¨æ¯ä¸ªæ¨¡å‹æ›´æ–°å¾ªç¯ä¸­ï¼ŒUpdaterä¸¢å¼ƒæ—§æ¨¡å‹å¹¶ä»å¤´å¼€å§‹è®­ç»ƒå…·æœ‰ä¸ç§å­æ¨¡å‹ç›¸åŒæ¶æ„çš„æ–°æ¨¡å‹ã€‚åœ¨ä¸åŒæ—¥å­çš„å·¥ä½œè´Ÿè½½å˜åŒ–å¾ˆå¤§çš„æƒ…å†µä¸‹ï¼ŒåŸºäºæ—§æ•°æ®çš„æ¨¡å‹ä¸ä¸€å®šé€‚åˆæœªæ¥å‡ å¤©çš„å·¥ä½œè´Ÿè½½æ¨¡å¼;</p>
<p>(3)æ›´æ–°æ¨¡å‹:ä½¿ç”¨ä¸Šä¸€ä¸ªæ¨¡å‹æ›´æ–°å¾ªç¯çš„æ•°æ®å¯¹æ—§æ¨¡å‹è¿›è¡Œå¤šå‡ ä¸ªepochçš„å†è®­ç»ƒã€‚åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œæ¨¡å¼çš„å·¥ä½œè´Ÿè½½ç¡®å®ä¼šå‘ç”Ÿå˜åŒ–ï¼Œä½†å˜åŒ–ä¸å¤§ï¼Œå¹¶ä¸”å¯ä»¥å°†æ—§æ¨¡å‹ç”¨ä½œæ›´æ–°è¿‡ç¨‹çš„èµ·ç‚¹ã€‚</p>
<p>è¿™é‡Œæˆ‘ä»¬æä¾›äº†ä¸‰ä¸ªé€‰é¡¹ï¼Œå¯¹äºä¸åŒçš„åº”ç”¨ç¨‹åºå’Œä¸åŒçš„å·¥ä½œè´Ÿè½½æ¨¡å¼ï¼Œæœ€ä½³ç­–ç•¥å¯èƒ½ä¸åŒã€‚</p>
<p><strong>äº”. å®éªŒ</strong></p>
<p>å®éªŒçš„ç›®çš„æ˜¯ä¼˜åŒ–æ‰€æå‡ºçš„ä¸»åŠ¨Podè‡ªåŠ¨ç¼©æ”¾å™¨çš„ç¤ºä¾‹åº”ç”¨ï¼Œå¹¶ä¸HPAè¿›è¡Œæ¯”è¾ƒï¼ŒéªŒè¯å…¶æ€§èƒ½ã€‚åœ¨æœ¬èŠ‚ä¸­ï¼Œé¦–å…ˆä»‹ç»ç¤ºä¾‹åº”ç”¨ç¨‹åºå’Œå·¥ä½œè´Ÿè½½çš„ç”Ÿæˆã€‚ç„¶åè¯¦ç»†ä»‹ç»äº†PPAä¼˜åŒ–å’Œè¯„ä»·çš„å®éªŒç»†èŠ‚ã€‚</p>
<p><strong>5.1 ç¤ºä¾‹åº”ç”¨</strong></p>
<p>![æˆªå±2023-07-06 12.11.29](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-06 12.11.29.png)</p>
<p><strong>5.1.1 æ‹“æ‰‘å›¾</strong></p>
<p>å›¾3æ˜¾ç¤ºäº†æ‰˜ç®¡åœ¨è¾¹ç¼˜è®¡ç®—é›†ç¾¤ä¸Šçš„ç¤ºä¾‹åº”ç”¨ç¨‹åºçš„ä½“ç³»ç»“æ„ã€‚ç¤ºä¾‹åº”ç”¨ç¨‹åºåˆ†å¸ƒåœ¨ä¸€ä¸ªäº‘å’Œä¸¤ä¸ªè¾¹ç¼˜åŒºåŸŸä¸­ã€‚åœ¨æ¯ä¸ªåŒºåŸŸï¼Œéƒ½éƒ¨ç½²ä¸€äº›æ”¯æŒæ€§çš„é™æ€podå’ŒæœåŠ¡ï¼Œå®ƒä»¬æ˜¯å›ºå®šçš„ï¼Œä¸æ˜¯ä¸ºå¯æ‰©å±•è€Œè®¾è®¡çš„ã€‚åªæœ‰æ¯ä¸ªåŒºåŸŸä¸­çš„worker podsæ‰æ˜¯è‡ªåŠ¨ç¼©æ”¾å™¨è¦ç¼©æ”¾çš„ç›®æ ‡ã€‚</p>
<p><strong>5.1.2 å·¥ä½œæµå’Œä½œä¸š</strong> </p>
<p>åœ¨ç¤ºä¾‹åº”ç”¨ç¨‹åºä¸­ï¼Œå®šä¹‰äº†ä¸¤ç§ä¸åŒç±»å‹çš„ä»»åŠ¡ã€‚ç¬¬ä¸€ç§æ˜¯å¯¹é•¿åº¦ä¸º3000çš„éšæœºæ•°ç»„è¿›è¡Œæ’åº(ç§°ä¸ºsort task)ï¼Œå¤æ‚åº¦ä¸ºğ‘›logğ‘›;ç¬¬äºŒç§æ˜¯è®¡ç®—ç»´æ•°ä¸º1000 Ã— 1000çš„éšæœºçŸ©é˜µçš„ç‰¹å¾å€¼(ç§°ä¸ºeigen task)ï¼Œå¤æ‚åº¦ä¸ºğ‘›3ã€‚æ‰€æœ‰è¯·æ±‚éƒ½æ˜¯ä»è®¾å¤‡ç”Ÿæˆçš„ï¼Œå®ƒä»¬åˆ°è¾¾æœ€é è¿‘å…¶ä½ç½®çš„è¾¹ç¼˜çš„å…¥å£ç‚¹ã€‚æ¯ä¸ªè¯·æ±‚è¦ä¹ˆæ˜¯æ’åºä»»åŠ¡ï¼Œè¦ä¹ˆæ˜¯ç‰¹å¾ä»»åŠ¡ã€‚å…·æœ‰æ’åºä»»åŠ¡çš„ä»»åŠ¡è®¡ç®—æˆæœ¬ä¸é«˜ï¼Œç”±è¾¹ç¼˜å·¥ä½œè€…å¤„ç†ï¼Œè€Œå…·æœ‰ç‰¹å¾ä»»åŠ¡çš„ä»»åŠ¡ç”±äºè®¡ç®—æˆæœ¬é«˜è€Œè½¬å‘ç»™äº‘å·¥ä½œè€…ã€‚æœ¬å·¥ä½œä¸­çš„ç¤ºä¾‹åº”ç”¨ç¨‹åºæ˜¯æ¨¡æ‹Ÿå…¸å‹çš„cpuå¯†é›†å‹åº”ç”¨ç¨‹åºï¼Œè¿™äº›åº”ç”¨ç¨‹åºåœ¨ä¸€èˆ¬å’Œç§‘å­¦è®¡ç®—ä¸­éƒ½å¾ˆå¸¸è§(ä¾‹å¦‚å¤©æ°”é¢„æŠ¥ã€æœç´¢ç®—æ³•ã€éŸ³é¢‘&#x2F;è§†é¢‘å¤„ç†ç­‰)ã€‚åŸºäºç¤ºä¾‹åº”ç”¨çš„ç»“è®ºå…·æœ‰é€šç”¨æ€§ã€‚</p>
<p><strong>5.2 å·¥ä½œè´Ÿè½½ç”Ÿæˆ</strong></p>
<p>æœ¬å·¥ä½œä¸­è€ƒè™‘äº†ä¸¤ç§ä¸åŒçš„å·¥ä½œè´Ÿè½½ï¼Œå³éšæœºå­˜å–å’Œç¾å›½å›½å®¶èˆªç©ºèˆªå¤©å±€(NASA)æ•°æ®é›†ã€‚å®ƒä»¬åœ¨ä¸‹æ–‡ä¸­æœ‰æè¿°ã€‚</p>
<p><strong>5.2.1éšæœºè®¿é—®</strong></p>
<p>å¦‚å›¾ç®—æ³•2æ‰€ç¤ºï¼ŒRandom Accessçš„è®¾è®¡æ˜¯ä¸ºäº†ç”Ÿæˆéšæœºå·¥ä½œè´Ÿè½½è¿›è¡Œä¼˜åŒ–å®éªŒã€‚Sortå’ŒEigenä»»åŠ¡åˆ†åˆ«ä»¥0.9å’Œ0.1çš„æ¦‚ç‡ç”Ÿæˆï¼Œä»¥æ¨¡æ‹Ÿå¤§å¤šæ•°æˆæœ¬ä½çš„è¯·æ±‚åœ¨è¾¹ç¼˜å¤„ç†ï¼Œè€Œæˆæœ¬é«˜çš„ä»»åŠ¡åœ¨äº‘ä¸­å®Œæˆã€‚é€šè¿‡å®šæœŸä½¿ç”¨3ç§ä¸åŒçš„å·¥ä½œè´Ÿè½½æ¨¡å¼(å³è½»ã€ä¸­ã€é‡)è®¿é—®åº”ç”¨ç¨‹åºï¼Œè‡ªåŠ¨ç¼©æ”¾å™¨æœ‰æœ›è¦†ç›–å®é™…ä½¿ç”¨ä¸­å¯èƒ½å‡ºç°çš„å¤§å¤šæ•°æƒ…å†µã€‚![æˆªå±2023-07-06 12.25.27](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-06 12.25.27.png)</p>
<p><strong>5.2.2 NASAæ•°æ®é›†</strong></p>
<p>NASAæ•°æ®é›†ç”¨äºæ¨¡æ‹ŸçœŸå®ä¸–ç•Œçš„è®¿é—®[10]ï¼Œç”¨äºè¯„ä¼°å®éªŒã€‚æ‰€æœ‰çš„è®¿é—®è®°å½•éƒ½æ˜¯ç”±NASAè‚¯å°¼è¿ªèˆªå¤©ä¸­å¿ƒçš„WWWæœåŠ¡å™¨æ”¶é›†çš„ï¼Œæ¯ä¸ªæ—¥å¿—éƒ½åŒ…å«å…¶è®¿é—®æ—¶é—´æˆ³ã€‚é€šè¿‡ç´¯ç§¯æ¯åˆ†é’Ÿçš„è®¿é—®è¯·æ±‚æ¥é¢„å¤„ç†åŸå§‹æ—¥å¿—æ–‡ä»¶ï¼Œå¹¶ä½¿ç”¨èšåˆçš„æ—¥å¿—æ•°é‡å‘åº”ç”¨ç¨‹åºå‘å‡ºè¯·æ±‚ã€‚åŒ…å«2ä¸ªæœˆè®°å½•çš„æ•°æ®é›†çš„æ‰€æœ‰è¯·æ±‚çš„ç»¼åˆå®éªŒé›†å°†éå¸¸è€—æ—¶ã€‚</p>
<p>åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œä»æ•°æ®é›†ä¸­é€‰æ‹©2å¤©çš„å­é›†è¿›è¡Œå®éªŒã€‚åŒæ—¶ï¼Œå°†è¯·æ±‚æ•°è°ƒæ•´åˆ°é€‚å½“çš„è§„æ¨¡ï¼Œä½¿å³°å€¼å·¥ä½œè´Ÿè½½ä¸è¶…è¿‡å®éªŒè¾¹ç¼˜ç¯å¢ƒçš„èµ„æºé™åˆ¶ã€‚</p>
<p><strong>5.3 Experiments for optimization</strong></p>
<p>å¯¹PPAçš„ä¸‰ä¸ªè¶…å‚æ•°è¿›è¡Œäº†ä¼˜åŒ–ï¼ŒåŒ…æ‹¬å·¥ä½œé‡é¢„æµ‹æ¨¡å‹ã€æ›´æ–°ç­–ç•¥å’Œå…³é”®æŒ‡æ ‡ã€‚ä¼˜åŒ–é—®é¢˜å¦‚å¼2æ‰€ç¤ºã€‚å…¶ä¸­ï¼Œğ›¾ä¸ºåº”ç”¨ç¨‹åºçš„å“åº”æ—¶é—´ï¼Œğ‘Šä¸ºæµªè´¹èµ„æºçš„æ€»å’Œï¼Œğ‘€ä¸ºé¢„æµ‹æ¨¡å‹ï¼Œğ‘ˆä¸ºæ¨¡å‹æ›´æ–°ç­–ç•¥ï¼Œğ¾ä¸ºå…³é”®æŒ‡æ ‡Key metricï¼ŒAä¸ºç›®æ ‡åº”ç”¨, Rpæ˜¯åˆ†é…ç»™pod pçš„èµ„æº, ğ‘ƒğ‘›æ˜¯åœ¨èŠ‚ç‚¹ğ‘›ä¸Šæ‰˜ç®¡çš„æ‰€æœ‰podçš„é›†åˆ, ğ‘æ˜¯æ‰€æœ‰èŠ‚ç‚¹çš„é›†åˆã€‚åœ¨è¿™é‡Œï¼Œç›®æ ‡åº”ç”¨ç¨‹åºAæ˜¯å›ºå®šçš„ï¼Œå¹¶ä¸”è¦ä¼˜åŒ–ğ‘€ã€ğ‘ˆã€ğ¾ä»¥æœ€å°åŒ–ğ›¾å’Œğ‘Šã€‚</p>
<p>![æˆªå±2023-07-06 13.19.08](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-06 13.19.08.png)</p>
<p><strong>5.3.1 é¢„æµ‹æ¨¡å‹ä¼˜åŒ–</strong></p>
<p>é’ˆå¯¹å®ä¾‹åº”ç”¨ï¼Œå¯¹ä¸åŒçš„æŒ‡æ ‡é¢„æµ‹æ¨¡å‹è¿›è¡Œäº†æ¯”è¾ƒå’Œä¼˜åŒ–ï¼Œå¹¶ä»¥è‡ªå›å½’ç§»åŠ¨å¹³å‡(ARMA)æ¨¡å‹å’Œé•¿çŸ­æœŸè®°å¿†(LSTM)æ¨¡å‹ä¸ºå…¸å‹æ¨¡å‹ã€‚</p>
<p>å®éªŒé‡‡ç”¨ARMA(1,1,1)ï¼Œè¡¨ç¤ºå…¶ç§»åŠ¨å¹³å‡éƒ¨åˆ†é˜¶æ•°å’Œè‡ªå›å½’éƒ¨åˆ†é˜¶æ•°å‡è®¾ä¸º1ï¼Œæ¨¡å‹æ—¶é—´çª—ä¸º1ã€‚ARMAæ¨¡å‹çš„è¶…å‚æ•°æ˜¯æ ¹æ®æ”¶é›†åˆ°çš„æ•°æ®é¢„å…ˆé€‰æ‹©çš„ã€‚</p>
<p>æˆ‘ä»¬ä½¿ç”¨çš„LSTMæ¨¡å‹ç”±ä¸€ä¸ª50ä¸ªç¥ç»å…ƒçš„LSTMå±‚å’Œä¸€ä¸ªç”±ReLuå‡½æ•°æ¿€æ´»çš„å…¨è¿æ¥å±‚[2]ç»„æˆã€‚è¾“å‡ºå±‚çš„å½¢çŠ¶è¢«è®¾ç½®ä¸º5ï¼Œä»¥é€‚åº”æ‰€æœ‰æœªæ¥çš„æŒ‡æ ‡ã€‚LSTMæ¨¡å‹çš„æŸå¤±å‡½æ•°ä¸ºå‡æ–¹è¯¯å·®(Mean Squared Error, MSE)ï¼Œä¼˜åŒ–å™¨ä¸ºAdam optimizer[7]ã€‚</p>
<p>è¿™ä¸¤ä¸ªæ¨¡å‹éƒ½ä½¿ç”¨åœ¨å•ä¸ªä¸å—çº¦æŸçš„èŠ‚ç‚¹ä¸Šè¿è¡Œç¤ºä¾‹åº”ç”¨ç¨‹åº10ä¸ªå°æ—¶å¹¶ä½¿ç”¨Random Accessç”Ÿæˆçš„å·¥ä½œè´Ÿè½½æ”¶é›†çš„æ•°æ®è¿›è¡Œé¢„è®­ç»ƒã€‚ä½¿ç”¨è¿™ä¸¤ä¸ªæ¨¡å‹å¯¹ç¤ºä¾‹åº”ç”¨ç¨‹åºè¿›è¡Œäº†200åˆ†é’Ÿçš„è‡ªåŠ¨ä¼¸ç¼©ï¼Œå¹¶æ¯”è¾ƒäº†CPUåˆ©ç”¨ç‡çš„é¢„æµ‹å€¼å’Œå®é™…å€¼ã€‚</p>
<p><strong>5.3.2 ä¼˜åŒ–Updateç­–ç•¥</strong></p>
<p>å¦‚4.2.3èŠ‚æ‰€ä»‹ç»çš„ï¼Œæå‡ºå¹¶æ¯”è¾ƒäº†3ç§ä¸åŒçš„Updateræ–¹æ³•ã€‚åœ¨æœ¬å®éªŒä¸­ï¼Œé¢„è®­ç»ƒçš„LSTMæ¨¡å‹ä½œä¸ºç§å­æ¨¡å‹ï¼Œå¹¶å°†CPUåˆ©ç”¨ç‡å®šä¹‰ä¸ºå…³é”®æŒ‡æ ‡ã€‚ä¸ºäº†ç¼©çŸ­å®éªŒæ‰€éœ€çš„æ—¶é—´ï¼Œå°†æ¨¡å‹æ›´æ–°å¾ªç¯çš„æ—¶é—´é—´éš”è®¾ç½®ä¸º1å°æ—¶ã€‚ç¤ºä¾‹åº”ç”¨ç¨‹åºè¿è¡Œ200åˆ†é’Ÿï¼Œæ¯ä¸ªPPAä½¿ç”¨ä¸åŒçš„æ›´æ–°ç­–ç•¥è‡ªåŠ¨ç¼©æ”¾ï¼Œå¹¶æ”¶é›†CPUåˆ©ç”¨ç‡çš„é¢„æµ‹å€¼å’Œå®é™…å€¼ã€‚</p>
<p><strong>5.3.3 å…³é”®æŒ‡æ ‡çš„ä¼˜åŒ–</strong></p>
<p>åœ¨æœ¬å®éªŒä¸­ï¼Œå°†æ‰€æœ‰podçš„è¯·æ±‚ç‡æˆ–CPUåˆ©ç”¨ç‡ä¹‹å’Œä½œä¸ºå…³é”®æŒ‡æ ‡è¿›è¡Œæ¯”è¾ƒã€‚åŒæ ·ï¼Œç¤ºä¾‹åº”ç”¨ç¨‹åºè¿è¡Œ200åˆ†é’Ÿï¼Œæ¯ä¸ªPPAä½¿ç”¨Random Accessç”Ÿæˆçš„å·¥ä½œè´Ÿè½½è‡ªåŠ¨ç¼©æ”¾ã€‚ç”±äºå…³é”®æŒ‡æ ‡çš„å·®å¼‚ï¼Œä¸å¯èƒ½å°†ä¸¤ä¸ªppaä¸é¢„æµ‹æŒ‡æ ‡è¿›è¡Œå®šé‡æ¯”è¾ƒã€‚ç›¸åï¼Œå°†æ‰€æœ‰è¯·æ±‚çš„å“åº”æ—¶é—´å’Œç”±ä¸¤ä¸ªppaè‡ªåŠ¨ç¼©æ”¾çš„ç³»ç»Ÿç©ºé—²èµ„æºè¿›è¡Œæ¯”è¾ƒï¼Œä»¥é‡åŒ–ä¸¤ä¸ªppaçš„æ€§èƒ½ã€‚</p>
<p><strong>5.4 è¯„ä»·å®éªŒ</strong></p>
<p>åˆ©ç”¨æœ€ä¼˜è¶…å‚æ•°å¯¹ä¼˜åŒ–åçš„PPAè¿›è¡ŒçœŸå®åœºæ™¯è¯„ä»·ã€‚PPAé€šè¿‡æœ€ä½³é…ç½®è‡ªåŠ¨ç¼©æ”¾ï¼Œåº”ç”¨ç¨‹åºå¯ä»¥ä½¿ç”¨ç¼©æ”¾åçš„NASAæ•°æ®é›†çš„å·¥ä½œè´Ÿè½½è¿è¡Œ48å°æ—¶ã€‚é€šè¿‡æ¯”è¾ƒè¯·æ±‚çš„å“åº”æ—¶é—´å’Œç©ºé—²èµ„æºï¼Œé‡åŒ–æ€§èƒ½ã€‚åº”ç”¨ç¨‹åºçš„å¦ä¸€æ¬¡è¿è¡Œæ˜¯ä½¿ç”¨å®Œå…¨ç›¸åŒçš„é…ç½®è¿›è¡Œçš„ï¼Œè¿™äº›é…ç½®ç”±Horizontal Pod Autoscalerè‡ªåŠ¨ç¼©æ”¾ï¼Œä½œä¸ºPPAçš„åŸºçº¿.</p>
<p><strong>6ç»“æœä¸è®¨è®º</strong></p>
<p>ç»“æœå°†åœ¨ä¸‹æ–‡ä¸­æå‡ºå’Œè®¨è®ºã€‚é¦–å…ˆç»™å‡ºè¶…å‚æ•°ä¼˜åŒ–ç»“æœï¼Œç„¶ååœ¨å·²éƒ¨ç½²çš„åœºæ™¯ä¸­è¿›è¡Œè¯„ä¼°ã€‚</p>
<p><strong>6.1é¢„æµ‹æ¨¡å‹ä¼˜åŒ–</strong></p>
<p>ä¸¤ç§ä¸åŒæ¨¡å‹çš„PPAç»“æœå¦‚å›¾4æ‰€ç¤ºã€‚è§‚å¯Ÿç»“æœè¡¨æ˜ï¼Œä¸¤ä¸ªæ¨¡å‹éƒ½èƒ½å¤Ÿæ•æ‰åˆ°CPUåˆ©ç”¨ç‡çš„è¶‹åŠ¿ï¼Œè€ŒARMAæ¨¡å‹åœ¨æ‹Ÿåˆæ–¹é¢ç¨å¥½ä¸€äº›ã€‚ä½†ä»æ•°é‡ä¸Šçœ‹ï¼ŒLSTMæ¨¡å‹é¢„æµ‹çš„MSEä¸º53240.972,ARMAæ¨¡å‹é¢„æµ‹çš„MSEä¸º96867.631ï¼Œåè€…è¦å¤§å¾—å¤šã€‚è¿™è¡¨æ˜ï¼Œåœ¨é¢„æµ‹CPUåˆ©ç”¨ç‡æ—¶ï¼ŒARMAæ¨¡å‹æä¾›äº†æ˜¾è‘—çš„å˜åŒ–ï¼Œè€Œ<strong>LSTMæ¨¡å‹</strong>èƒ½å¤Ÿäº§ç”Ÿç›¸å¯¹æ›´å‡†ç¡®çš„é¢„æµ‹ã€‚å¯ä»¥å¾—å‡ºç»“è®ºï¼ŒLSTMåœ¨é¢„æµ‹ç¤ºä¾‹åº”ç”¨ç¨‹åºçš„CPUåˆ©ç”¨ç‡æ–¹é¢ä¼˜äºARMAæ¨¡å‹ã€‚</p>
<p>![æˆªå±2023-07-06 13.49.25](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-06 13.49.25.png)</p>
<p><strong>6.2ä¼˜åŒ–å‡çº§ç­–ç•¥</strong></p>
<p>å›¾5å¯¹å…·æœ‰ä¸åŒç­–ç•¥çš„ä¸‰ä¸ªppaè¿›è¡Œäº†æ¯”è¾ƒã€‚é‡‡ç”¨ç­–ç•¥1ã€ç­–ç•¥2å’Œç­–ç•¥3çš„PPAäº§ç”Ÿçš„åˆ©ç”¨ç‡é¢„æµ‹MSEåˆ†åˆ«ä¸º64769.882ã€42180.437å’Œ30994.449ï¼Œè¡¨æ˜ç­–ç•¥3åœ¨æå‡ºçš„æ¨¡å‹æ›´æ–°ç­–ç•¥ä¸­è¡¨ç°æœ€å¥½ã€‚æˆ‘ä»¬å¾—å‡ºçš„ç»“è®ºæ˜¯ï¼Œ<strong>ç­–ç•¥3</strong>åœ¨æ¯ä¸ªæ¨¡å‹æ›´æ–°å¾ªç¯ä¸­ä½¿ç”¨æ–°æ”¶é›†çš„æŒ‡æ ‡é‡æ–°è®­ç»ƒæ¨¡å‹ï¼Œä¸ºç¤ºä¾‹åº”ç”¨ç¨‹åºæä¾›äº†ä¼˜äºå…¶ä»–ç­–ç•¥çš„æœ€ä½³æ€§èƒ½ã€‚</p>
<p>![æˆªå±2023-07-06 13.59.09](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-06 13.59.09.png)</p>
<p><strong>6.3å…³é”®æŒ‡æ ‡çš„ä¼˜åŒ–</strong></p>
<p>åœ¨ç¤ºä¾‹åº”ç”¨ç¨‹åºä¸Šæ¯”è¾ƒPPAçš„ä¸¤ä¸ªå…³é”®æŒ‡æ ‡ï¼Œå³è¯·æ±‚ç‡å’ŒCPUåˆ©ç”¨ç‡ã€‚è¯·æ±‚çš„å“åº”æ—¶é—´å’Œç©ºé—²èµ„æºç”¨äºå®šé‡åœ°æ¯”è¾ƒppaçš„æ€§èƒ½ã€‚å›¾6æ˜¾ç¤ºäº†ä½¿ç”¨ä¸åŒå…³é”®æŒ‡æ ‡è‡ªåŠ¨ç¼©æ”¾çš„åº”ç”¨ç¨‹åºä¸Šè¯·æ±‚çš„å“åº”æ—¶é—´åˆ†å¸ƒã€‚ä¸¤ä¸ªåˆ†å¸ƒçš„å·¨å¤§é‡å è¡¨æ˜ä¸¤ä¸ªè¿è¡Œçš„å“åº”æ—¶é—´éå¸¸æ¥è¿‘ã€‚æ ¹æ®CPUåˆ©ç”¨ç‡è‡ªåŠ¨ç¼©æ”¾çš„åº”ç”¨ç¨‹åºçš„å¹³å‡å“åº”æ—¶é—´ä¸º0.5156ç§’ï¼Œæ ‡å‡†åå·®(STD)ä¸º0.0421ï¼Œè€Œæ ¹æ®è¯·æ±‚ç‡è‡ªåŠ¨ç¼©æ”¾çš„åº”ç”¨ç¨‹åºçš„å¹³å‡å“åº”æ—¶é—´ä¸º0.5157ç§’ï¼Œæ ‡å‡†åå·®ä¸º0.420ã€‚ç”±äºæ—¶é—´åˆ†å¸ƒæ²¡æœ‰æ˜¾è‘—å·®å¼‚ï¼Œå› æ­¤å¯ä»¥å¾—å‡ºç»“è®ºï¼Œåœ¨å“åº”æ—¶é—´æ–¹é¢è‡ªåŠ¨æ‰©å±•ç¤ºä¾‹åº”ç”¨ç¨‹åºæ—¶ï¼Œä¸¤ä¸ªå…³é”®æŒ‡æ ‡æ˜¯ç­‰æ•ˆçš„ã€‚(è¿™ä¸ªå›¾é‡Œé¢çš„é»„çº¿å’Œè“çº¿ä¼°è®¡æ˜¯åŸºæœ¬ä¸Šé‡å äº†)</p>
<p>![image-20230706141151279](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:image-20230706141151279.png)</p>
<p>ç³»ç»Ÿåœ¨ğ‘¡æ—¶åˆ»çš„ç›¸å¯¹ç©ºé—²èµ„æº(RIR_t)(å®šä¹‰ä¸ºå…¬å¼3)ç”¨äºå®šé‡åœ°æ¯”è¾ƒä¸¤ä¸ªè‡ªåŠ¨ç¼©æ”¾å™¨ã€‚å…·æœ‰ä¸¤ä¸ªå…³é”®æŒ‡æ ‡çš„ppaçš„rirå¦‚å›¾7æ‰€ç¤ºã€‚CPUè¯·æ±‚ç‡çš„å¹³å‡RIRä¸º0.317ï¼Œæ ‡å‡†å·®ä¸º0.161;CPUåˆ©ç”¨ç‡çš„å¹³å‡RIRä¸º0.251ï¼Œæ ‡å‡†å·®ä¸º0.092ã€‚å¯ä»¥å¾—å‡ºç»“è®ºï¼Œä»¥CPUåˆ©ç”¨ç‡ä¸ºå…³é”®æŒ‡æ ‡çš„PPAæ•ˆç‡æ›´é«˜ï¼Œæµªè´¹çš„èµ„æºæ›´å°‘ã€‚æ­¤å¤–ï¼ŒRIRçš„æ ‡å‡†åå·®è¾ƒä½è¡¨æ˜ï¼Œä»¥CPUåˆ©ç”¨ç‡ä¸ºå…³é”®æŒ‡æ ‡è¿›è¡Œè‡ªåŠ¨ç¼©æ”¾æ—¶ï¼Œç³»ç»Ÿæ›´åŠ ç¨³å®šã€‚</p>
<p>![æˆªå±2023-07-06 14.17.32](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-06 14.17.32.png)</p>
<p>å°½ç®¡å…·æœ‰ä¸åŒå…³é”®æŒ‡æ ‡çš„ä¸¤ä¸ªPPAä¸ºè¯·æ±‚æä¾›æ¥è¿‘çš„å“åº”æ—¶é—´ï¼Œä½†æ˜¯å…·æœ‰CPUåˆ©ç”¨ç‡çš„PPAæ›´èŠ‚èƒ½ï¼Œç³»ç»Ÿä¹Ÿæ›´ç¨³å®šã€‚å› æ­¤ï¼Œ<strong>CPUåˆ©ç”¨ç‡</strong>æ˜¯ç¤ºä¾‹åº”ç”¨ç¨‹åºçš„æœ€ä½³å…³é”®æŒ‡æ ‡ã€‚</p>
<p><strong>6.4å®éªŒè¯„ä»·ç»“æœ</strong></p>
<p>æ ¹æ®æœ€ä¼˜æ¨¡å‹ã€å…³é”®æŒ‡æ ‡å’Œæ›´æ–°ç­–ç•¥ï¼Œå¯¹æ‹Ÿè®®çš„PPAè¿›è¡Œ5.4èŠ‚æ‰€è¿°çš„è¯„ä¼°ï¼Œå¹¶å°†PPAå’ŒHPAçš„æ€§èƒ½ä¸è¯·æ±‚å“åº”æ—¶é—´å’Œç©ºé—²èµ„æºè¿›è¡Œå®šé‡æ¯”è¾ƒã€‚</p>
<p><strong>6.4.1å“åº”æ—¶é—´ã€‚</strong></p>
<p>å›¾8æ˜¾ç¤ºäº†ç”±PPAå’ŒHPAè‡ªåŠ¨ç¼©æ”¾çš„Sortä»»åŠ¡çš„å“åº”æ—¶é—´åˆ†å¸ƒã€‚HPAè‡ªåŠ¨ç¼©æ”¾çš„åº”ç”¨ç¨‹åºå¯¹è¾¹ç¼˜ä»»åŠ¡çš„å¹³å‡å“åº”æ—¶é—´ä¸º0.592ç§’ï¼Œæ ‡å‡†åå·®(STD)ä¸º0.067;PPAè‡ªåŠ¨ç¼©æ”¾çš„åº”ç”¨ç¨‹åºçš„å¹³å‡å“åº”æ—¶é—´ä¸º0.508ç§’ï¼Œæ ‡å‡†åå·®(STD)ä¸º0.038ã€‚PPAæä¾›çš„å“åº”æ—¶é—´æ˜æ˜¾å°äºHPA, på€¼å°äº10âˆ’3ã€‚æ­¤å¤–ï¼ŒPPAæä¾›çš„åˆ†å¸ƒå…·æœ‰è¾ƒå°çš„æ ‡å‡†å·®ã€‚å¯ä»¥çœ‹å‡ºï¼Œé€šè¿‡PPAè‡ªåŠ¨ä¼¸ç¼©çš„åº”ç”¨ç¨‹åºæä¾›çš„è¾¹ç¼˜æœåŠ¡å»¶è¿Ÿæ›´å°ï¼Œè¾¹ç¼˜ç³»ç»Ÿæ›´ç¨³å®šã€‚åœ¨ç‰¹å¾ä»»åŠ¡ä¸­ä¹Ÿè§‚å¯Ÿåˆ°ç±»ä¼¼çš„ç»“æœã€‚HPAå’ŒPPAæä¾›çš„äº‘ä»»åŠ¡çš„ä¸¤ä¸ªå“åº”æ—¶é—´åˆ†å¸ƒå¦‚å›¾9æ‰€ç¤ºã€‚HPAè‡ªåŠ¨ç¼©æ”¾çš„åº”ç”¨ç¨‹åºå¯¹è¾¹ç¼˜ä»»åŠ¡çš„å¹³å‡å“åº”æ—¶é—´ä¸º13.382ç§’ï¼Œæ ‡å‡†å·®ä¸º1.606;PPAè‡ªåŠ¨ç¼©æ”¾çš„åº”ç”¨ç¨‹åºçš„å¹³å‡å“åº”æ—¶é—´ä¸º13.646ç§’ï¼Œæ ‡å‡†å·®ä¸º1.576ã€‚HPAæä¾›çš„å“åº”æ—¶é—´æ˜¾è‘—å¤§äºPPAï¼Œä¸”på€¼å°äº10âˆ’3ï¼Œå¯¹äºSortä»»åŠ¡çš„æ ‡å‡†å·®ä¹Ÿæ˜¯å¦‚æ­¤ã€‚å› æ­¤ï¼Œä¸HPAç›¸æ¯”ï¼ŒPPAè‡ªåŠ¨æ‰©å±•çš„äº‘æœåŠ¡å…·æœ‰æ›´å¥½çš„æ€§èƒ½ã€‚</p>
<p>å› æ­¤ï¼Œå¯ä»¥å¾—å‡ºç»“è®ºï¼Œåœ¨è¾¹ç¼˜è®¡ç®—åº”ç”¨ä¸­ï¼Œæ‰€æå‡ºçš„ä¸»åŠ¨Pod Autoscaleråœ¨äº‘æœåŠ¡å’Œè¾¹ç¼˜æœåŠ¡æ–¹é¢éƒ½ä¼˜äºé»˜è®¤HPAï¼Œå…·æœ‰æ›´ä½çš„å»¶è¿Ÿå’Œæ›´é«˜çš„è®¿é—®ç¨³å®šæ€§ã€‚</p>
<p>![æˆªå±2023-07-06 14.22.45](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-06 14.22.45.png)</p>
<p>![æˆªå±2023-07-06 14.23.25](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-06 14.23.25.png)</p>
<p><strong>6.4.2ç©ºé—²èµ„æº</strong></p>
<p>å›¾10æ˜¾ç¤ºäº†ç”±PPAå’ŒHPAè‡ªåŠ¨ç¼©æ”¾çš„è¾¹ç¼˜å·¥ä½œèŠ‚ç‚¹çš„ç›¸å¯¹ç©ºé—²CPUä½¿ç”¨æƒ…å†µã€‚HPAè‡ªåŠ¨ç¼©æ”¾çš„è¾¹ç¼˜å·¥ä½œçº¿ç¨‹å¹³å‡ç›¸å¯¹ç©ºé—²CPUä¸º0.3209ï¼Œæ ‡å‡†å·®ä¸º0.1079;PPAè‡ªåŠ¨ç¼©æ”¾çš„è¾¹ç¼˜å·¥ä½œçº¿ç¨‹å¹³å‡ç›¸å¯¹ç©ºé—²CPUä¸º0.2988,STDä¸º0.1026ã€‚è™½ç„¶ä¸¤ç§è‡ªåŠ¨ç¼©æ”¾å™¨çš„ç»“æœåœ¨è§†è§‰ä¸Šæ˜¯ç›¸ä¼¼çš„ï¼Œä½†PPAæä¾›çš„ç›¸å¯¹ç©ºé—²CPUæ˜æ˜¾å°äºPPA, på€¼å°äº10âˆ’3ã€‚å› æ­¤ï¼Œå¯ä»¥å¾—å‡ºç»“è®ºï¼ŒPPAè‡ªåŠ¨ä¼¸ç¼©çš„åº”ç”¨ç¨‹åºçš„è¾¹ç¼˜å·¥ä½œèŠ‚ç‚¹æ¯”HPAè‡ªåŠ¨ä¼¸ç¼©çš„åº”ç”¨ç¨‹åºæ›´æœ‰æ•ˆåœ°åˆ©ç”¨CPUèµ„æºã€‚HPAå’ŒPPAè‡ªåŠ¨ä¼¸ç¼©çš„äº‘å·¥ä½œèŠ‚ç‚¹çš„ç›¸å¯¹ç©ºé—²CPUä½¿ç”¨æƒ…å†µå¦‚å›¾9æ‰€ç¤ºã€‚HPAè‡ªåŠ¨ä¼¸ç¼©çš„äº‘å·¥ä½œè€…çš„å¹³å‡ç›¸å¯¹ç©ºé—²CPUä¸º0.3373ï¼Œæ ‡å‡†å·®ä¸º0.1572;PPAè‡ªåŠ¨ä¼¸ç¼©çš„åº”ç”¨ç¨‹åºçš„å¹³å‡ç›¸å¯¹ç©ºé—²CPUä¸º0.3098,STDä¸º0.1453ã€‚HPAæä¾›çš„ç›¸å¯¹ç©ºé—²CPUæ˜æ˜¾å¤§äºPPA, på€¼å°äº10âˆ’3ã€‚å› æ­¤ï¼Œåœ¨äº‘èŠ‚ç‚¹ä¸Šï¼ŒPPAè‡ªåŠ¨ä¼¸ç¼©çš„åº”ç”¨ç¨‹åºæ¯”HPAè‡ªåŠ¨ä¼¸ç¼©çš„åº”ç”¨ç¨‹åºæµªè´¹çš„CPUèµ„æºæ›´å°‘ã€‚ç»¼ä¸Šæ‰€è¿°ï¼Œåœ¨è¯·æ±‚å“åº”æ—¶é—´å’Œç©ºé—²èµ„æºæ–¹é¢ï¼Œæœ¬æ–‡æå‡ºçš„<strong>Proactive Pod Autoscaleréƒ½ä¼˜äºé»˜è®¤çš„Horizontal Pod Autoscaler</strong>ï¼Œä¸ºè¾¹ç¼˜è®¡ç®—åº”ç”¨å¸¦æ¥æ›´å¥½çš„æ€§èƒ½ï¼Œè·å¾—æ›´å¤šçš„è®¿é—®ç¨³å®šæ€§ï¼Œå¹¶ä¸”æµªè´¹æ›´å°‘çš„èµ„æºã€‚</p>
<p>![æˆªå±2023-07-06 14.33.27](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-06 14.33.27.png)</p>
<p><strong>7ç»“è®ºä¸æœªæ¥å·¥ä½œ</strong></p>
<p>åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§åŸºäºKubernetesçš„è¾¹ç¼˜è®¡ç®—åº”ç”¨çš„ä¸»åŠ¨podè‡ªåŠ¨ç¼©æ”¾å™¨(PPA)ã€‚PPAèƒ½å¤Ÿä½¿ç”¨æ—¶é—´åºåˆ—é¢„æµ‹æ–¹æ³•æå‰é¢„æµ‹åº”ç”¨ç¨‹åºçš„åˆ°è¾¾å·¥ä½œè´Ÿè½½ï¼Œå¹¶æ ¹æ®éœ€è¦ä¼¸ç¼©åº”ç”¨ç¨‹åºã€‚ä»¥cpuå¯†é›†å‹åº”ç”¨ç¨‹åºä¸ºä¾‹ï¼Œé’ˆå¯¹Kubernetesä¸­çš„å†…ç½®è‡ªåŠ¨ç¼©æ”¾å™¨HPAå¯¹è‡ªåŠ¨ç¼©æ”¾å™¨è¿›è¡Œäº†ä¼˜åŒ–å’Œè¯„ä¼°ã€‚å¯ä»¥å¾—å‡ºç»“è®ºï¼ŒPPAèƒ½å¤Ÿæ›´æœ‰æ•ˆåœ°åˆ©ç”¨èµ„æºï¼Œå¹¶ä¸ºè¯·æ±‚æä¾›æ›´å¿«çš„å“åº”æ—¶é—´ã€‚æ­¤å¤–ï¼Œæ‰€æå‡ºçš„è‡ªåŠ¨ç¼©æ”¾å™¨å…·æœ‰é«˜åº¦çš„çµæ´»æ€§å’Œå¯å®šåˆ¶æ€§ï¼Œå› æ­¤ç”¨æˆ·å¯ä»¥è°ƒæ•´æŒ‡æ ‡ã€é¢„æµ‹æ¨¡å‹å’Œç¼©æ”¾ç­–ç•¥ï¼Œä»¥æ›´å¥½åœ°æ»¡è¶³è‡ªå·±åº”ç”¨ç¨‹åºçš„éœ€æ±‚ã€‚é™¤äº†æ”¯æŒå¤šä¸ªæŒ‡æ ‡å¤–ï¼Œç”¨æˆ·è¿˜å¯ä»¥å®šä¹‰è‡ªå·±çš„ç‰¹å®šäºåº”ç”¨ç¨‹åºçš„æŒ‡æ ‡ï¼Œä»¥æ›´å¥½åœ°æ‰©å±•åº”ç”¨ç¨‹åºã€‚è¿™ä½¿å¾—ppaèƒ½å¤Ÿé€‚åº”å„ç§ç±»å‹çš„åº”ç”¨ç¨‹åºï¼Œä¾‹å¦‚å®é™…ä½¿ç”¨ä¸­çš„æ•°æ®å¯†é›†å‹åº”ç”¨ç¨‹åºã€IOå¯†é›†å‹åº”ç”¨ç¨‹åºã€‚æ‹Ÿè®®çš„PPAå¹¶ä¸å®Œç¾ï¼Œå› ä¸ºå®ƒéœ€è¦å¼€å‘äººå‘˜æ‰‹åŠ¨ä¼˜åŒ–å…³é”®æŒ‡æ ‡ã€æ¨¡å‹å’Œç­–ç•¥ã€‚åœ¨æœªæ¥çš„å·¥ä½œä¸­ï¼Œå¯ä»¥é€šè¿‡è‡ªåŠ¨åŒ–è¶…å‚æ•°ä¼˜åŒ–æ¥æ”¹è¿›PPAã€‚ä¸€ç§å¯èƒ½çš„æ–¹æ³•å¯èƒ½æ¶‰åŠä½¿ç”¨ä¸€ç»„å¯èƒ½çš„æŒ‡æ ‡è¿è¡Œåº”ç”¨ç¨‹åºï¼ŒPPAçš„æŒ‡å®šæ¨¡å—ä½¿ç”¨ä¸åŒçš„æ–¹æ³•è‡ªåŠ¨å»ºæ¨¡æ”¶é›†çš„è¿è¡Œæ•°æ®ã€‚ç„¶åå¯ä»¥ä½¿ç”¨éªŒè¯æŠ€æœ¯ä»å€™é€‰æ¨¡å‹ä¸­é€‰æ‹©æœ€ä½³æ¨¡å‹ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œè‡ªåŠ¨ä¼˜åŒ–çš„PPAå°†æ›´å®¹æ˜“è¢«å¼€å‘äººå‘˜éƒ¨ç½²å’Œä½¿ç”¨ã€‚</p>
<p><strong>PBScaler:ä¸€ä¸ªåŸºäºå¾®æœåŠ¡çš„åº”ç”¨ç¨‹åºçš„ç“¶é¢ˆæ„ŸçŸ¥è‡ªåŠ¨ä¼¸ç¼©æ¡†æ¶</strong></p>
<p><strong>Introduction</strong></p>
<p>éšç€å¾®æœåŠ¡æ¶æ„çš„æ¨è¿›ï¼Œè¶Šæ¥è¶Šå¤šçš„äº‘åº”ç”¨ä»å•ç‰‡æ¶æ„å‘å¾®æœåŠ¡æ¶æ„è¿ç§»[1]ã€[2]ã€[3]ã€[4]ã€[5]ã€[6]ã€‚è¿™ç§æ–°æ¶æ„é€šè¿‡å°†ä¸€ä¸ªå•ç‰‡åº”ç”¨ç¨‹åºåˆ†è§£ä¸ºå¤šä¸ªå¾®æœåŠ¡ï¼Œé€šè¿‡HTTPæˆ–RPCåè®®ç›¸äº’é€šä¿¡æ¥å‡å°‘åº”ç”¨ç¨‹åºè€¦åˆ[7]ã€‚æ­¤å¤–ï¼Œæ¯ä¸ªå¾®æœåŠ¡éƒ½å¯ä»¥ç”±ç‹¬ç«‹çš„å›¢é˜Ÿç‹¬ç«‹å¼€å‘ã€éƒ¨ç½²å’Œæ‰©å±•ï¼Œä»è€Œå®ç°å¿«é€Ÿçš„åº”ç”¨ç¨‹åºå¼€å‘å’Œè¿­ä»£ã€‚ç„¶è€Œï¼Œå¤–éƒ¨å·¥ä½œè´Ÿè½½çš„ä¸å¯é¢„æµ‹æ€§å’Œå¾®æœåŠ¡ä¹‹é—´äº¤äº’çš„å¤æ‚æ€§ä¼šå¯¼è‡´æ€§èƒ½ä¸‹é™[8]ï¼Œ[9]ï¼Œ[10]ã€‚äº‘æä¾›å•†å¿…é¡»å‡†å¤‡è¿‡å¤šçš„èµ„æºæ¥æ»¡è¶³åº”ç”¨ç¨‹åºæ‰€æœ‰è€…çš„æœåŠ¡æ°´å¹³ç›®æ ‡(service level objective, SLO)ï¼Œè¿™é€šå¸¸ä¼šé€ æˆä¸å¿…è¦çš„èµ„æºæµªè´¹[11]ï¼Œ[12]ã€‚å› æ­¤ï¼Œæ»¡è¶³SLOå’Œæœ€å°åŒ–èµ„æºæ¶ˆè€—ä¹‹é—´çš„ä¸å¹³è¡¡æˆä¸ºå¾®æœåŠ¡ä¸­èµ„æºç®¡ç†é‡åˆ°çš„ä¸»è¦æŒ‘æˆ˜ã€‚</p>
<p>å¾®æœåŠ¡è‡ªåŠ¨ä¼¸ç¼©æŒ‡çš„æ˜¯æ ¹æ®å·¥ä½œè´Ÿè½½å˜åŒ–å¼¹æ€§åˆ†é…èµ„æºçš„èƒ½åŠ›[13]ã€‚é€šè¿‡åˆ©ç”¨å¾®æœåŠ¡çš„å¼¹æ€§ç‰¹æ€§ï¼Œè‡ªåŠ¨æ‰©å±•å¯ä»¥ç¼“è§£èµ„æºæˆæœ¬å’Œæ€§èƒ½ä¹‹é—´çš„å†²çªã€‚ç„¶è€Œï¼Œå¾®æœåŠ¡çš„è‡ªåŠ¨ä¼¸ç¼©éš¾ä»¥åœ¨çŸ­æ—¶é—´å†…å‡†ç¡®åœ°ä¼¸ç¼©æ€§èƒ½ç“¶é¢ˆ(PB)ã€‚ç”±äºå¾®æœåŠ¡ä¹‹é—´é€šä¿¡çš„å¤æ‚æ€§ï¼ŒPBçš„æ€§èƒ½ä¸‹é™å¯èƒ½ä¼šé€šè¿‡æ¶ˆæ¯ä¼ é€’ä¼ æ’­ç»™å…¶ä»–å¾®æœåŠ¡[2]ï¼Œå¯¼è‡´åŒæ—¶å‡ºç°å¤§é‡å¼‚å¸¸å¾®æœåŠ¡ã€‚æˆ‘ä»¬é€šè¿‡åœ¨Googleå¼€å‘çš„å¼€æºå¾®æœåŠ¡åº”ç”¨Online Boutique 1ä¸­å‘ç‰¹å®šçš„å¾®æœåŠ¡æ³¨å…¥çªå‘å·¥ä½œè´Ÿè½½æ¥è¯æ˜è¿™ä¸€ç‚¹ã€‚å›¾1æ˜¾ç¤ºï¼ŒPBæ¨èä¸­çš„æ€§èƒ½ä¸‹é™ä¼šè”“å»¶åˆ°ä¸Šæ¸¸å¾®æœåŠ¡ï¼Œå¦‚Checkoutå’ŒFrontendã€‚ä¸ºäº†è¿›ä¸€æ­¥éªŒè¯å‡†ç¡®æ‰©å±•PBçš„é‡è¦æ€§ï¼Œæˆ‘ä»¬è¿›è¡Œäº†å‹åŠ›æµ‹è¯•ï¼Œå¹¶åˆ†åˆ«æ‰©å±•äº†ä¸åŒçš„å¾®æœåŠ¡ã€‚å¦‚å›¾2æ‰€ç¤ºï¼Œå¾®æœåŠ¡(å‰ç«¯)æ‰©å®¹å¼‚å¸¸å¹¶ä¸èƒ½ç¼“è§£SLOè¿è§„ã€‚ç„¶è€Œï¼Œå½“æˆ‘ä»¬ç¡®å®šå¹¶æ‰©å±•PBæ¨èæ—¶ï¼Œå¾®æœåŠ¡åº”ç”¨ç¨‹åºçš„æ€§èƒ½å¾—åˆ°äº†æ”¹å–„ã€‚ä¸å¹¸çš„æ˜¯ï¼Œå®šä½PBsé€šå¸¸å¾ˆè€—æ—¶ï¼Œå¶å°”ä¹Ÿä¼šå‡ºé”™[14]ã€‚</p>
<p>è¿‘å¹´æ¥ï¼Œå·²ç»æå‡ºäº†å‡ ç§æ–¹æ³•æ¥åœ¨è‡ªåŠ¨æ‰©å±•ä¹‹å‰è¯†åˆ«å…³é”®çš„å¾®æœåŠ¡ã€‚ä¾‹å¦‚ï¼ŒKubernetes 2çš„é»˜è®¤è‡ªåŠ¨ç¼©æ”¾å™¨æ ¹æ®è®¡ç®—èµ„æºçš„é™æ€é˜ˆå€¼è¿‡æ»¤å¾®æœåŠ¡è¿›è¡Œç›´æ¥ç¼©æ”¾ã€‚Yuç­‰[15]é€šè¿‡è®¡ç®—æœåŠ¡åŠŸç‡æ¥å®šä¹‰å¼¹æ€§ç¼©æ”¾çš„è¾¹ç•Œï¼ŒæœåŠ¡åŠŸç‡æ˜¯ç¬¬50ç™¾åˆ†ä½å“åº”æ—¶é—´(P50)ä¸ç¬¬90ç™¾åˆ†ä½å“åº”æ—¶é—´(P90)ä¹‹æ¯”ã€‚æ­¤å¤–ï¼ŒQiuç­‰äºº[4]å¼•å…¥äº†ä¸€ç§åŸºäºæ”¯æŒå‘é‡æœºçš„æ–¹æ³•ï¼Œé€šè¿‡åˆ†æå„ç§å°¾éƒ¨å»¶è¿Ÿçš„æ¯”ç‡æ¥æå–å…³é”®è·¯å¾„ã€‚å°½ç®¡è¿™äº›ç ”ç©¶ç¼©å°äº†è‡ªåŠ¨æ‰©å±•çš„èŒƒå›´ï¼Œä½†å®ƒä»¬ä»ç„¶è€ƒè™‘äº†å¯èƒ½å½±å“æ‰©å±•ç­–ç•¥çš„éç“¶é¢ˆå¾®æœåŠ¡ï¼Œç‰¹åˆ«æ˜¯å½“åº”ç”¨ç¨‹åºä¸­å¤§é‡å¾®æœåŠ¡åŒæ—¶å¼‚å¸¸æ—¶ã€‚å› æ­¤ï¼Œåœ¨è‡ªåŠ¨æ‰©å±•ä¹‹å‰ï¼Œè¿«åˆ‡éœ€è¦ç²¾ç¡®åœ°å®šä½ç“¶é¢ˆå¾®æœåŠ¡ã€‚ä¸ºäº†å¹³è¡¡èµ„æºæ¶ˆè€—å’Œæ€§èƒ½ï¼Œç°æœ‰çš„å·¥ä½œé‡‡ç”¨åœ¨çº¿ä¼˜åŒ–ç®—æ³•æ¥å¯»æ‰¾æ¥è¿‘æœ€ä¼˜çš„è‡ªåŠ¨ç¼©æ”¾ç­–ç•¥ã€‚ç„¶è€Œï¼Œç”±äºè‡ªåŠ¨æ‰©å±•çš„å¯èƒ½ç­–ç•¥èŒƒå›´å¾ˆå¹¿ï¼Œè¿™äº›æ–¹æ³•éœ€è¦å¤§é‡çš„å°è¯•ï¼Œè¿™å¯¹äºåœ¨çº¿åº”ç”¨ç¨‹åºæ¥è¯´æ˜¯æœ‰é—®é¢˜çš„ã€‚ä¾‹å¦‚ï¼ŒTrain Ticket3æ˜¯æœ€å¤§çš„å¼€æºå¾®æœåŠ¡åº”ç”¨ç¨‹åºï¼Œç”±è¿‘40ä¸ªå¾®æœåŠ¡ç»„æˆã€‚å‡è®¾æ¯ä¸ªå¾®æœåŠ¡æœ€å¤šå¯ä»¥æœ‰15ä¸ªå‰¯æœ¬ï¼Œç¡®å®šæ­¤åº”ç”¨ç¨‹åºçš„æœ€ä½³åˆ†é…ç­–ç•¥æ— ç–‘æ˜¯ä¸€ä¸ªnpéš¾é¢˜ï¼Œå› ä¸ºæœ€å¤šæœ‰1540ä¸ªå¯æ‰©å±•é€‰é¡¹ã€‚æ­¤å¤–ï¼Œåœ¨çº¿ä¼˜åŒ–ä¸­åé¦ˆå›è·¯çš„æŒç»­æ—¶é—´è¿‡é•¿ï¼Œéš¾ä»¥å®ç°æ¨¡å‹æ”¶æ•›ã€‚è€ƒè™‘ç”±åœ¨çº¿ä¼˜åŒ–å¼•èµ·çš„æ€§èƒ½ä¸‹é™çš„æ½œåœ¨é£é™©ä¹Ÿå¾ˆé‡è¦ã€‚å›¾3æ˜¾ç¤ºäº†çªå‘å·¥ä½œè´Ÿè½½å¯¹MicroScalerçš„å‰¯æœ¬æ³¢åŠ¨å’Œå»¶è¿Ÿæ³¢åŠ¨çš„å½±å“[15]ï¼ŒMicroScaleræ˜¯ä¸€ç§åœ¨çº¿è‡ªåŠ¨æ‰©å±•æ–¹æ³•ï¼Œé‡‡ç”¨åœ¨çº¿è´å¶æ–¯ä¼˜åŒ–æ¥å¯»æ‰¾æ€»æˆæœ¬çš„å…¨å±€æœ€å°å€¼ã€‚ç”±äºåœ¨çº¿ä¼˜åŒ–å¯¼è‡´é¢‘ç¹çš„åœ¨çº¿å°è¯•åˆ›å»ºå‰¯æœ¬(å›¾3a)ï¼Œå¯¼è‡´æŒ¯è¡å’Œæ€§èƒ½ä¸‹é™(å›¾3b)ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å—åˆ°å¯å‘ï¼Œè®¾è®¡äº†ä¸€ä¸ªç¦»çº¿ä¼˜åŒ–è¿‡ç¨‹ï¼Œç”±æ¨¡æ‹Ÿå™¨çš„åé¦ˆæ¨åŠ¨ã€‚</p>
<p>![æˆªå±2023-07-08 15.25.06](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-08 15.25.06.png)</p>
<p>![æˆªå±2023-07-08 15.26.32](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-08 15.26.32.png)</p>
<p>æœ¬æ–‡ä»‹ç»äº†PBScalerï¼Œè¿™æ˜¯ä¸€ä¸ª<strong>æ¨ªå‘è‡ªåŠ¨æ‰©å±•æ¡†æ¶</strong>ï¼Œæ—¨åœ¨é€šè¿‡è¯†åˆ«å’Œè§£å†³ç“¶é¢ˆæ¥é˜²æ­¢åŸºäºå¾®æœåŠ¡çš„åº”ç”¨ç¨‹åºçš„æ€§èƒ½ä¸‹é™ã€‚ä¸ä¹‹å‰çš„å·¥ä½œ[11]ã€[15]æ‰€åšçš„é’ˆå¯¹æ‰€æœ‰å¼‚å¸¸å¾®æœåŠ¡ä¼˜åŒ–èµ„æºä¸åŒï¼Œæˆ‘ä»¬æå‡ºäº†TopoRankï¼Œä¸€ç§åŸºäºæ‹“æ‰‘åŠ¿ç†è®º(TPT)çš„éšæœºæ¸¸èµ°ç®—æ³•ï¼Œç”¨äºè¯†åˆ«æ€§èƒ½ç“¶é¢ˆ(PBs)ã€‚é€šè¿‡è€ƒè™‘å¾®æœåŠ¡ä¾èµ–å…³ç³»å’Œæ½œåœ¨å¼‚å¸¸ï¼ŒTopoRankæé«˜äº†ç“¶é¢ˆå®šä½çš„å‡†ç¡®æ€§å’Œå¯è§£é‡Šæ€§ã€‚åœ¨é€šè¿‡TopoRankè¯†åˆ«PBsåï¼ŒPBScalerè¿›ä¸€æ­¥é‡‡ç”¨<strong>é—ä¼ ç®—æ³•</strong>æ¥å¯»æ‰¾æ¥è¿‘æœ€ä¼˜çš„ç­–ç•¥ã€‚ä¸ºäº†é¿å…è¿‡åº¦ä¼˜åŒ–å¼•èµ·çš„åº”ç”¨æŒ¯è¡ï¼Œè¯¥è¿‡ç¨‹ç¦»çº¿è¿›è¡Œï¼Œå¹¶ç”±SLOè¿ä¾‹é¢„æµ‹å™¨æŒ‡å¯¼ï¼Œè¯¥é¢„æµ‹å™¨æ¨¡æ‹Ÿåœ¨çº¿åº”ç”¨å¹¶å‘ç¼©æ”¾ç­–ç•¥æä¾›åé¦ˆã€‚æœ¬æ–‡çš„ä¸»è¦è´¡çŒ®æ€»ç»“å¦‚ä¸‹:</p>
<p>â€¢æˆ‘ä»¬æå‡ºPBScalerï¼Œè¿™æ˜¯ä¸€ä¸ªç“¶é¢ˆæ„ŸçŸ¥è‡ªåŠ¨ä¼¸ç¼©æ¡†æ¶ï¼Œæ—¨åœ¨é˜²æ­¢åŸºäºå¾®æœåŠ¡çš„åº”ç”¨ç¨‹åºä¸­çš„æ€§èƒ½ä¸‹é™ã€‚é€šè¿‡ç²¾ç¡®å®šä½ç“¶é¢ˆï¼ŒPBScalerå¯ä»¥å‡å°‘ä¸å¿…è¦çš„æ‰©å±•å¹¶åŠ å¿«ä¼˜åŒ–è¿‡ç¨‹ã€‚</p>
<p>â€¢æˆ‘ä»¬é‡‡ç”¨åŸºäºé—ä¼ ç®—æ³•çš„ç¦»çº¿ä¼˜åŒ–è¿‡ç¨‹æ¥ä¼˜åŒ–èµ„æºæ¶ˆè€—ï¼ŒåŒæ—¶é¿å…è¿åSLOã€‚æ­¤è¿‡ç¨‹ç”±SLOè¿è§„é¢„æµ‹å™¨æŒ‡å¯¼ï¼Œæ—¨åœ¨åœ¨ä¸ä¸­æ–­åœ¨çº¿åº”ç”¨ç¨‹åºçš„æƒ…å†µä¸‹åœ¨èµ„æºæ¶ˆè€—å’Œæ€§èƒ½ä¹‹é—´å–å¾—å¹³è¡¡ã€‚</p>
<p>â€¢æˆ‘ä»¬åœ¨Kubernetesç³»ç»Ÿä¸­è®¾è®¡å’Œå®ç°PBScalerã€‚ä¸ºäº†è¯„ä¼°å…¶æœ‰æ•ˆæ€§ï¼Œæˆ‘ä»¬åœ¨ä¸¤ä¸ªåœ¨çº¿ç¯å¢ƒä¸­è¿è¡Œçš„å¹¿æ³›ä½¿ç”¨çš„å¾®æœåŠ¡ç³»ç»Ÿä¸Šè¿›è¡Œäº†å¤§é‡çš„çœŸå®ä¸–ç•Œå’Œæ¨¡æ‹Ÿå·¥ä½œè´Ÿè½½æ³¨å…¥å®éªŒã€‚å®éªŒç»“æœè¡¨æ˜ï¼ŒPBScaleræ¯”å‡ ç§æœ€å…ˆè¿›çš„å¼¹æ€§ç¼©æ”¾æ–¹æ³•æ€§èƒ½æ›´å¥½ã€‚æœ¬æ–‡çš„å…¶ä½™éƒ¨åˆ†ç»„ç»‡å¦‚ä¸‹ã€‚åœ¨ç¬¬2èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†è®¨è®ºå¾®æœåŠ¡çš„ç“¶é¢ˆåˆ†æå’Œè‡ªåŠ¨æ‰©å±•çš„ç›¸å…³å·¥ä½œã€‚åœ¨ç¬¬3èŠ‚ä¸­ï¼Œæˆ‘ä»¬è¯¦ç»†æè¿°äº†æ•´ä¸ªç³»ç»Ÿã€‚åœ¨ç¬¬4èŠ‚ä¸­ï¼Œæˆ‘ä»¬ç»™å‡ºäº†è¯„ä¼°å’Œå®éªŒç»“æœã€‚ç¬¬äº”éƒ¨åˆ†æ€»ç»“äº†æˆ‘ä»¬çš„å·¥ä½œï¼Œå¹¶è®¨è®ºäº†æœªæ¥çš„ç ”ç©¶æ–¹å‘ã€‚</p>
<p><strong>2 Related work</strong></p>
<p>éšç€äº‘è®¡ç®—çš„å‘å±•ï¼Œå­¦æœ¯ç•Œå’Œå·¥ä¸šç•Œæå‡ºäº†è®¸å¤šäº‘èµ„æº(å¦‚è™šæ‹Ÿæœºæˆ–å®¹å™¨)çš„è‡ªæ‰©å±•æ–¹æ³•[16]ã€[17]ã€[18]ã€[19]ã€‚ç„¶è€Œï¼Œç”±äºå¾®æœåŠ¡ä¹‹é—´é”™ç»¼å¤æ‚çš„ä¾èµ–å…³ç³»ï¼Œå¾®æœåŠ¡çš„è‡ªåŠ¨ä¼¸ç¼©å¯èƒ½è¦å¤æ‚å¾—å¤šã€‚</p>
<p><strong>2.1 Bottleneck Analysis</strong></p>
<p>è¿‘å¹´æ¥ï¼Œå·²ç»å¼€å‘äº†è®¸å¤šç”¨äºå¾®æœåŠ¡åœºæ™¯ç“¶é¢ˆåˆ†æçš„æ–¹æ³•ï¼Œå…¶ä¸­å¤§å¤šæ•°ä¾èµ–äºä¸‰ç§ç±»å‹çš„æ•°æ®:<strong>logs</strong>ã€<strong>Trace</strong>å’Œ<strong>metrics</strong>ã€‚</p>
<p>1)<strong>æ—¥å¿—</strong>ã€‚Jiaç­‰[20]å’ŒNandiç­‰[21]é¦–å…ˆä»æ­£å¸¸çŠ¶æ€çš„æ—¥å¿—ä¸­æå–æ¨¡æ¿å’Œæµç¨‹ï¼Œä¸ç›®æ ‡æ—¥å¿—è¿›è¡ŒåŒ¹é…ï¼Œè¿‡æ»¤æ‰å¼‚å¸¸æ—¥å¿—ã€‚</p>
<p>2)<strong>ç—•è¿¹</strong>ã€‚Traceæ˜¯ä¸€ä¸ªåŸºäºäº‹ä»¶è·Ÿè¸ªçš„è®°å½•ï¼Œå®ƒå†ç°å¾®æœåŠ¡ä¹‹é—´çš„è¯·æ±‚è¿‡ç¨‹ã€‚ä¸€äº›ç ”ç©¶[22]ï¼Œ[23]ï¼Œ[24]ï¼Œ[25]å·²ç»å¼•å…¥ä½¿ç”¨è½¨è¿¹æ¥ç¡®å®šç“¶é¢ˆã€‚Yuç­‰äºº[22]ã€[23]ç»“åˆé¢‘è°±åˆ†æå’ŒPageRankç®—æ³•åœ¨traceæ„å»ºçš„ä¾èµ–å›¾ä¸Šå®šä½ç“¶é¢ˆï¼ŒMiç­‰äºº[24]æå‡ºäº†æ— ç›‘ç£æœºå™¨å­¦ä¹ åŸå‹ï¼Œå­¦ä¹ å¾®æœåŠ¡çš„æ¨¡å¼ï¼Œè¿‡æ»¤å¼‚å¸¸å¾®æœåŠ¡ã€‚ç„¶è€Œï¼Œä½¿ç”¨è·Ÿè¸ªå¯èƒ½ä¼šå¹²æ‰°ä»£ç ï¼Œå¹¶ä¸”è¦æ±‚æ“ä½œäººå‘˜å¯¹å¾®æœåŠ¡çš„ç»“æ„æœ‰æ·±å…¥çš„äº†è§£ã€‚</p>
<p>3)<strong>æŒ‡æ ‡</strong>ã€‚ä¸€äº›æ–¹æ³•[2]ï¼Œ[26]ï¼Œ[27]åˆ©ç”¨å›¾éšæœºæ¸¸èµ°ç®—æ³•æ¥æ¨¡æ‹Ÿå¼‚å¸¸çš„ä¼ æ’­è¿‡ç¨‹ï¼Œç„¶åé€šè¿‡é›†æˆåº¦é‡çš„ç»Ÿè®¡ç‰¹å¾å’Œå¾®æœåŠ¡ä¹‹é—´çš„ä¾èµ–å…³ç³»æ¥æ‰¾åˆ°ç“¶é¢ˆã€‚æ­¤å¤–ï¼ŒCauseInfer[14]å’ŒMicroCause[28]ç­‰æ–¹æ³•ä¾§é‡äºç”¨å› æœæ¨ç†æ„å»ºæŒ‡æ ‡å› æœå›¾ï¼Œè¿™é€šå¸¸æ¶‰åŠæŒ‡æ ‡ä¹‹é—´éšè—çš„é—´æ¥å…³ç³»ã€‚</p>
<p>ç”±äºåœ¨ç›‘æ§æŒ‡æ ‡æ—¶å¾ˆå°‘ä¿®æ”¹å·¥ä½œæµä»£ç ï¼Œå› æ­¤ä¸ºå¾®æœåŠ¡æ”¶é›†æŒ‡æ ‡é€šå¸¸æ¯”ä½¿ç”¨è·Ÿè¸ªæ›´ä¾¿å®œã€‚æ­¤å¤–ï¼Œä½¿ç”¨åº¦é‡ä½œä¸ºä¸»è¦ç›‘æ§æ•°æ®å¯ä»¥é™ä½é›†æˆç“¶é¢ˆåˆ†æå’Œè‡ªåŠ¨ä¼¸ç¼©çš„æˆæœ¬ï¼Œå› ä¸ºåº¦é‡åœ¨åä¸€ç§åœºæ™¯ä¸­è¢«å¹¿æ³›ä½¿ç”¨ã€‚å°½ç®¡è¿™äº›æ–¹æ³•å…·æœ‰ä¼˜åŠ¿ï¼Œä½†å¤§å¤šæ•°æ–¹æ³•åœ¨é€‰æ‹©å¼‚å¸¸å›æº¯çš„èµ·å§‹ç‚¹æ—¶æ²¡æœ‰åå¥½ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œæˆ‘ä»¬çš„æ–¹æ³•ä»å…·æœ‰æ›´å¤§å¼‚å¸¸æ½œåŠ›çš„å¾®æœåŠ¡å¼€å§‹éšæœºæ¼«æ­¥ï¼ŒåŠ å¿«äº†æ”¶æ•›é€Ÿåº¦å¹¶æé«˜äº†ç“¶é¢ˆå®šä½ç²¾åº¦ã€‚</p>
<p><strong>2.2 Autoscaling for microservices</strong></p>
<p>ç°æœ‰çš„å¾®æœåŠ¡è‡ªåŠ¨ä¼¸ç¼©æ–¹æ³•å¯ä»¥åˆ†ä¸ºäº”ç±»ã€‚</p>
<p>**1)åŸºäºè§„åˆ™çš„å¯å‘å¼æ–¹æ³• **KHPAã€Libra[29]ã€KHPA- a[30]å’ŒPEMA[31]åŸºäºèµ„æºé˜ˆå€¼å’Œç‰¹å®šè§„åˆ™ç®¡ç†å¾®æœåŠ¡å‰¯æœ¬çš„æ•°é‡ã€‚ç„¶è€Œï¼Œç”±äºä¸åŒçš„å¾®æœåŠ¡å¯¹ç‰¹å®šèµ„æºçš„æ•æ„Ÿæ€§ä¸åŒï¼Œå› æ­¤éœ€è¦ä¸“ä¸šçŸ¥è¯†æ¥æ”¯æŒè¿™äº›ä¸åŒå¾®æœåŠ¡çš„è‡ªåŠ¨ä¼¸ç¼©ã€‚</p>
<p><strong>2)åŸºäºæ¨¡å‹çš„æ–¹æ³•</strong> å¯ä»¥å¯¹å¾®æœåŠ¡è¿›è¡Œå»ºæ¨¡ï¼Œä»¥é¢„æµ‹å®ƒä»¬åœ¨ç‰¹å®šé…ç½®å’Œå·¥ä½œè´Ÿè½½ä¸‹çš„çŠ¶æ€ã€‚æ’é˜Ÿè®º[32]ã€[33]å’Œå›¾ç¥ç»ç½‘ç»œ(GNN)[12]å¸¸ç”¨æ¥æ„å»ºå¾®æœåŠ¡çš„æ€§èƒ½é¢„æµ‹æ¨¡å‹ã€‚</p>
<p><strong>3)åŸºäºæ§åˆ¶ç†è®ºçš„æ–¹æ³•</strong> [11]ï¼Œ[32] ä½¿ç”¨æ§åˆ¶ç†è®ºï¼ŒSHOWAR[11]åŠ¨æ€è°ƒæ•´å¾®æœåŠ¡å‰¯æœ¬ï¼Œä»¥çº æ­£ç›‘æ§æŒ‡æ ‡å’Œé˜ˆå€¼ä¹‹é—´çš„é”™è¯¯ã€‚</p>
<p><strong>4)åŸºäºä¼˜åŒ–çš„æ–¹æ³•</strong> è¿™äº›æ–¹æ³•[15]ã€[34]åœ¨ç»™å®šå½“å‰èµ„æºå’Œå·¥ä½œè´Ÿè½½çš„æƒ…å†µä¸‹ï¼Œè¿›è¡Œäº†å¤§é‡çš„å°è¯•æ¥å¯»æ‰¾æœ€ä¼˜ç­–ç•¥ã€‚è¿™äº›æ–¹æ³•çš„å…³é”®åœ¨äºç¼©å°å†³ç­–èŒƒå›´ï¼ŒåŠ å¿«å†³ç­–è¿›ç¨‹ã€‚</p>
<p><strong>5)åŸºäºå¼ºåŒ–å­¦ä¹ çš„æ–¹æ³•</strong> å¼ºåŒ–å­¦ä¹ (RL)å·²å¹¿æ³›åº”ç”¨äºå¾®æœåŠ¡çš„èµ„æºç®¡ç†ã€‚MIRAS[35]é‡‡ç”¨åŸºäºæ¨¡å‹çš„RLæ–¹æ³•è¿›è¡Œå†³ç­–ï¼Œé¿å…äº†çœŸå®ç¯å¢ƒçš„é«˜é‡‡æ ·å¤æ‚åº¦ã€‚FIRM[4]åˆ©ç”¨æ”¯æŒå‘é‡æœº(SVM)è¯†åˆ«å¾®æœåŠ¡ä¸­çš„å…³é”®è·¯å¾„ï¼Œå¹¶åˆ©ç”¨æ·±åº¦ç¡®å®šæ€§ç­–ç•¥æ¢¯åº¦(DDPG)ç®—æ³•ä¸ºè·¯å¾„ä¸Šçš„å¾®æœåŠ¡åˆ¶å®šæ··åˆæ‰©å±•ç­–ç•¥ã€‚åŸºäºå¼ºåŒ–å­¦ä¹ çš„æ–¹æ³•éœ€è¦åœ¨æ¢ç´¢è¿‡ç¨‹ä¸­ä¸æ–­ä¸ç¯å¢ƒè¿›è¡Œäº¤äº’ï¼Œå¹¶ä¸”æ— æ³•é€‚åº”åŠ¨æ€å¾®æœåŠ¡æ¶æ„ã€‚</p>
<p>æ€»ä¹‹ï¼Œå°½ç®¡å‰é¢æåˆ°çš„è‡ªåŠ¨ç¼©æ”¾æŠ€æœ¯æœ‰å„è‡ªçš„ä¼˜åŠ¿ï¼Œä½†å®ƒä»¬å¾ˆå°‘å…³æ³¨æ€§èƒ½ç“¶é¢ˆã€‚ä¸ºéç“¶é¢ˆå¾®æœåŠ¡æ¶ˆè€—è®¡ç®—æœºèµ„æºå°†ä¸å¯é¿å…åœ°å¢åŠ æ‰©å±•æˆæœ¬å’Œå»¶é•¿å†³ç­–æ—¶é—´ã€‚å¦ä¸€æ–¹é¢ï¼Œæˆ‘ä»¬çš„æ–¹æ³•ä¾§é‡äºå®šä½æ€§èƒ½ç“¶é¢ˆã€‚</p>
<p><strong>3.System Design</strong></p>
<p>æˆ‘ä»¬æå‡ºäº†PBScalerï¼Œä¸€ä¸ªä»¥PBä¸ºä¸­å¿ƒçš„è‡ªåŠ¨ç¼©æ”¾æ§åˆ¶å™¨ï¼Œç”¨äºå®šä½PBså¹¶ä¼˜åŒ–å®ƒä»¬çš„å‰¯æœ¬ã€‚å¦‚å›¾4æ‰€ç¤ºï¼ŒPBScaleråŒ…æ‹¬ä¸‰ä¸ªç»„ä»¶:</p>
<p>1)åº¦é‡æ”¶é›†å™¨<strong>Metric Collector</strong>:ä¸ºäº†æä¾›å¯¹åº”ç”¨ç¨‹åºçŠ¶æ€çš„å®æ—¶æ´å¯Ÿï¼Œæˆ‘ä»¬è®¾è®¡äº†ä¸€ä¸ªåº¦é‡æ”¶é›†å™¨ï¼Œå®ƒä»¥å›ºå®šçš„é—´éš”ä»Prometheus4æ•è·å¹¶é›†æˆç›‘è§†åº¦é‡ã€‚</p>
<p>2)æ€§èƒ½ç“¶é¢ˆåˆ†æ<strong>Performance Bottleneck Analysis</strong>:åœ¨åº¦é‡æ”¶é›†å™¨çš„å¸®åŠ©ä¸‹ï¼Œè¯¥ç»„ä»¶æ‰§è¡ŒSLOè¿è§„æ£€æµ‹å’Œå†—ä½™æ£€æŸ¥ï¼Œä»¥è¯†åˆ«å¼‚å¸¸è¡Œä¸ºçš„å¾®æœåŠ¡ã€‚æ¥ä¸‹æ¥ï¼Œç“¶é¢ˆå®šä½è¿‡ç¨‹å°†è¢«è§¦å‘ä»¥ç²¾ç¡®å®šä½å¼‚å¸¸å¾®æœåŠ¡ä¸­çš„PBsã€‚</p>
<p>3)ç¼©æ”¾å†³ç­–<strong>Scaling Decision</strong>:è¯¥ç»„ä»¶æ—¨åœ¨ä½¿ç”¨è¿›åŒ–ç®—æ³•ç¡®å®šPBsçš„æœ€ä½³å‰¯æœ¬æ•°é‡ã€‚æœ€åï¼ŒPBScalerç”Ÿæˆå…·æœ‰ä¼˜åŒ–ç­–ç•¥çš„é…ç½®æ–‡ä»¶ï¼Œå¹¶å°†å…¶æäº¤ç»™kubernetes-client5, kubernetes-client5è°ƒèŠ‚å¾®æœåŠ¡çš„å‰¯æœ¬è®¡æ•°ã€‚</p>
<p><strong>3.1 Metric Collector</strong></p>
<p>è‡ªåŠ¨ä¼¸ç¼©ç³»ç»Ÿä¾èµ–äºå¯¹æŒ‡æ ‡çš„å®æ—¶è®¿é—®ï¼Œä¾‹å¦‚å†…å­˜ä½¿ç”¨æ•°æ®ã€ç³»ç»Ÿè´Ÿè½½å’Œå°¾éƒ¨å»¶è¿Ÿï¼Œä»¥ç¡®å®šæ˜¯å¦åº”è¯¥æ‰§è¡Œå¼¹æ€§ä¼¸ç¼©ä»¥åŠåº”è¯¥åœ¨å¾®æœåŠ¡åº”ç”¨ç¨‹åºä¸­åˆ†é…å¤šå°‘èµ„æºã€‚ä¸éœ€è¦æ·±å…¥äº†è§£ç¨‹åºå’Œä»£ç æ³¨å…¥çš„åŸºäºè·Ÿè¸ªçš„ç›‘è§†å™¨ä¸åŒ[7]ï¼ŒMetric Collectoræ ¹æ®æœåŠ¡ç½‘æ ¼æŠ¥å‘ŠæŒ‡æ ‡ï¼Œä»¥æœ€å¤§é™åº¦åœ°å‡å°‘å¯¹ä¸šåŠ¡æµçš„ä¸­æ–­ã€‚å¦‚è¡¨1æ‰€ç¤ºï¼ŒPBScalerä½¿ç”¨Prometheuså’Œkube-state-metricsæ¥æ”¶é›†å’Œåˆ†ç±»è¿™äº›æŒ‡æ ‡ï¼ŒåŒ…æ‹¬<strong>å“åº”å»¶è¿Ÿ</strong>ã€å¾®æœåŠ¡ä¹‹é—´çš„<strong>è°ƒç”¨å…³ç³»</strong>ã€<strong>èµ„æºæ¶ˆè€—</strong>å’Œå¾®æœåŠ¡<strong>å·¥ä½œè´Ÿè½½</strong>ã€‚</p>
<p>![æˆªå±2023-07-08 16.12.07](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-08 16.12.07.png)</p>
<p>![æˆªå±2023-07-08 16.15.24](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-08 16.15.24.png)</p>
<p>ä¾‹å¦‚ï¼Œå®¹å™¨cpuä½¿ç”¨ç§’æ€»æ•°æ˜¯Prometheusä¸­çš„ä¸€ä¸ªæ ‡ç­¾ï¼Œå®ƒè®°å½•äº†å®¹å™¨çº§åˆ«çš„ä¸­å¤®å¤„ç†å•å…ƒ(Central Processing Unit, cpu)ä½¿ç”¨æƒ…å†µã€‚æˆ‘ä»¬å°†Prometheusçš„ç›‘è§†é—´éš”è®¾ç½®ä¸º5ç§’ï¼Œå¹¶å°†æ”¶é›†åˆ°çš„æŒ‡æ ‡æ•°æ®å­˜å‚¨åœ¨æ—¶é—´åºåˆ—æ•°æ®åº“ä¸­ã€‚æ¯ä¸ªå¾®æœåŠ¡çš„P90å°¾éƒ¨å»¶è¿Ÿè¢«æ”¶é›†å¹¶ç”¨äºè¡¨ç¤ºåº”ç”¨ç¨‹åºçš„æ€§èƒ½ã€‚è°ƒç”¨å…³ç³»æš—ç¤ºäº†å¾®æœåŠ¡ä¹‹é—´çš„å…³è”ï¼Œå¯ç”¨äºæ„å»ºå¾®æœåŠ¡å…³è”å›¾ã€‚</p>
<p>æœåŠ¡ç½‘æ ¼Service Mesh</p>
<p>æœåŠ¡ç½‘æ ¼æ˜¯ä¸€ç§åŸºç¡€è®¾æ–½ï¼Œå®ƒä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿåœ¨ä¸éœ€è¦é¢å¤–ä»£ç çš„æƒ…å†µä¸‹å‘äº‘åº”ç”¨ç¨‹åºæ·»åŠ é«˜çº§åŠŸèƒ½ï¼Œå¦‚å¯è§‚å¯Ÿæ€§å’Œæµé‡ç®¡ç†ã€‚ä¸€ä¸ªæµè¡Œçš„å¼€æºæœåŠ¡ç½‘æ ¼å®ç°æ˜¯Istio7ï¼Œæ—¨åœ¨ä¸Kubernetesæ— ç¼é›†æˆã€‚å½“ä¸€ä¸ªpodåœ¨Kubernetesä¸­å¯åŠ¨æ—¶ï¼ŒIstioåœ¨podä¸­å¯åŠ¨ä¸€ä¸ªç‰¹ä½¿ä»£ç†æ¥æ‹¦æˆªç½‘ç»œæµé‡ï¼Œä»è€Œå®ç°å·¥ä½œè´Ÿè½½å¹³è¡¡å’Œç›‘æ§ã€‚</p>
<p><strong>3.2 Performance Bottleneck Analysis</strong></p>
<p>æ€§èƒ½ç“¶é¢ˆåˆ†æ(PBA)æ˜¯ä¸€ä¸ªæ—¨åœ¨å‘ç°å¾®æœåŠ¡åº”ç”¨ç¨‹åºä¸­æ€§èƒ½ä¸‹é™å’Œèµ„æºæµªè´¹çš„è¿‡ç¨‹ï¼Œä»¥æ¨æ–­å½“å‰é—®é¢˜çš„PBsã€‚å¦‚ç¬¬1èŠ‚æ‰€è¿°ï¼Œé€šè¿‡å‡†ç¡®å®šä½è¿™äº›ç“¶é¢ˆï¼ŒPBAå¯ä»¥æé«˜è‡ªåŠ¨æ‰©å±•çš„æ€§èƒ½å¹¶å‡å°‘è¿‡åº¦çš„èµ„æºæ¶ˆè€—ã€‚ç®—æ³•1æè¿°äº†PBScalerä¸­çš„PBAè¿‡ç¨‹ã€‚</p>
<p>![æˆªå±2023-07-09 14.19.35](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-09 14.19.35.png)</p>
<p><strong>3.2.1 SLO Violation Detection</strong></p>
<p>ä¸ºäº†æ£€æµ‹å¾®æœåŠ¡ä¸­çš„å¼‚å¸¸ï¼ŒPBScalerä½¿ç”¨æœåŠ¡æ°´å¹³ç›®æ ‡(slo)ä¸ç‰¹å®šæŒ‡æ ‡è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœå¾®æœåŠ¡æœ‰å¤§é‡çš„SLOè¿è§„ï¼Œå³æ€§èƒ½ä¸‹é™ï¼Œåˆ™è¢«è®¤ä¸ºæ˜¯å¼‚å¸¸çš„ã€‚å¦‚[14]ã€[27]æ‰€è¿°ï¼Œæ£€æµ‹è¿åSLOæ˜¯è§¦å‘ç“¶é¢ˆå®šä½çš„å…³é”®æ­¥éª¤ã€‚å¯ä»¥åˆ©ç”¨Metric Collectoræ”¶é›†çš„è°ƒç”¨å…³ç³»æ¥æ„å»ºå¾®æœåŠ¡å…³è”å›¾Gcã€‚PBScaleræ¯15ç§’æ£€æŸ¥Gcä¸­æ‰€æœ‰è°ƒç”¨è¾¹çš„P90å°¾éƒ¨å»¶è¿Ÿï¼Œä»¥åŠæ—¶æ£€æµ‹æ€§èƒ½ä¸‹é™ã€‚å¦‚æœè°ƒç”¨çš„å°¾éƒ¨å»¶è¿Ÿè¶…è¿‡é¢„å®šçš„é˜ˆå€¼(å¦‚SLO)ï¼Œåˆ™è°ƒç”¨çš„è¢«è°ƒç”¨å¾®æœåŠ¡å°†è¢«æ·»åŠ åˆ°å¼‚å¸¸å¾®æœåŠ¡é›†ä¸­ï¼Œå¹¶ä¸”å°†æ¿€æ´»ç“¶é¢ˆæœ¬åœ°åŒ–è¿‡ç¨‹ã€‚ä¸ºäº†è€ƒè™‘å¾®æœåŠ¡å»¶è¿Ÿä¸­å¶å°”å‡ºç°çš„å™ªå£°ï¼Œé˜ˆå€¼è®¾ç½®ä¸ºslox (1 + Î±&#x2F;2)ï¼Œå…¶ä¸­Î±ç”¨äºè°ƒæ•´å¯¹å™ªå£°çš„å®¹å¿åº¦</p>
<p><strong>3.2.2 Redundancy Checking</strong></p>
<p>åœ¨æ²¡æœ‰æ€§èƒ½å¼‚å¸¸çš„æƒ…å†µä¸‹ï¼Œä¸€äº›å¾®æœåŠ¡å¯èƒ½ä¼šè¢«åˆ†é…æ¯”æ‰€éœ€æ›´å¤šçš„èµ„æºã€‚ç„¶è€Œï¼Œä»…ä»…é€šè¿‡åº¦é‡æ¥è¯†åˆ«è¿™æ ·çš„æƒ…å†µæ˜¯å¾ˆå›°éš¾çš„ï¼Œè¿™å¯èƒ½ä¼šæµªè´¹æœ‰é™çš„ç¡¬ä»¶èµ„æºã€‚ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œæœ‰å¿…è¦ç¡®å®šå“ªäº›å¾®æœåŠ¡åˆ†é…äº†å¤šä½™çš„èµ„æºã€‚PBScalerä½¿ç”¨å¾®æœåŠ¡æ¯ç§’çš„å·¥ä½œè´Ÿè½½å˜åŒ–ç‡æ¥ç¡®å®šèµ„æºæ˜¯å¦å†—ä½™ã€‚</p>
<p>æ­¤ç­–ç•¥æ¯”ä»…ä¾èµ–èµ„æºæ¶ˆè€—æ›´æœ‰æ•ˆï¼Œå› ä¸ºä¸åŒçš„å¾®æœåŠ¡å¯¹å¼‚æ„èµ„æºçš„æ•æ„Ÿæ€§å¯èƒ½ä¸åŒã€‚å†—ä½™æ£€æŸ¥èƒŒåçš„ä¸»è¦æ€æƒ³æ˜¯é‡‡ç”¨å‡è®¾æ£€éªŒæ¥æ£€æµ‹å¾®æœåŠ¡å½“å‰çš„å·¥ä½œè´Ÿè½½wi cæ˜¯å¦æ˜¾è‘—ä½äºå…¶è¿‡å»çš„å·¥ä½œè´Ÿè½½(è¡¨ç¤ºä¸ºwi p)ã€‚æ˜¾è‘—ç¨‹åº¦é€šè¿‡å‚æ•°Î²tæ¥è°ƒæ•´ï¼Œå‡è®¾æ£€éªŒå¯ä»¥è¡¨ç¤ºä¸º:</p>
<p>![æˆªå±2023-07-09 14.18.53](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-09 14.18.53.png)</p>
<p>ä¸ºäº†æ‰§è¡Œå‡è®¾æ£€éªŒï¼Œæˆ‘ä»¬é¦–å…ˆä»Metric Collectorè·å–ç›®æ ‡å¾®æœåŠ¡çš„å½“å‰å’Œå†å²å·¥ä½œè´Ÿè½½ã€‚ç„¶åæˆ‘ä»¬ä½¿ç”¨å•ä¾§æ£€éªŒæ¥è®¡ç®—p-value Pã€‚å¦‚æœPä¸è¶…è¿‡ç½®ä¿¡æ°´å¹³cl(é»˜è®¤è®¾ç½®ä¸º0.05)ï¼Œæˆ‘ä»¬æ‹’ç»é›¶å‡è®¾H0ï¼Œå¹¶è®¤ä¸ºå¾®æœåŠ¡iå…·æœ‰å†—ä½™èµ„æºã€‚</p>
<p>![æˆªå±2023-07-09 14.21.30](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-09 14.21.30.png)</p>
<p><strong>3.2.3 Bottleneck Localisation</strong></p>
<p>ç”±äºå¾®æœåŠ¡åº”ç”¨ç¨‹åºä¸­å¤æ‚çš„äº¤äº’[36]ï¼Œå¹¶ä¸æ˜¯æ¯ä¸ªå¼‚å¸¸çš„å¾®æœåŠ¡éƒ½éœ€è¦æ‰©å±•ã€‚ä¾‹å¦‚ï¼Œå›¾5è¯´æ˜äº†ç“¶é¢ˆå¾®æœåŠ¡(ä¾‹å¦‚ï¼ŒProduct)çš„æ€§èƒ½ä¸‹é™å¦‚ä½•æ²¿ç€è°ƒç”¨é“¾ä¼ æ’­åˆ°å®ƒçš„ä¸Šæ¸¸å¾®æœåŠ¡(ä¾‹å¦‚ï¼Œrecommendation, Frontendå’ŒCheckout)ï¼Œå³ä½¿ä¸Šæ¸¸å¾®æœåŠ¡æ²¡æœ‰è¿‡è½½ã€‚å› æ­¤ï¼Œåªæœ‰ç“¶é¢ˆå¾®æœåŠ¡å¿…é¡»è¢«æ‰©å±•ï¼Œè€Œå…¶ä»–å¼‚å¸¸å¾®æœåŠ¡åªæ˜¯è¢«ç‰µè¿ã€‚ä¸ºäº†ç²¾ç¡®å®šä½ç“¶é¢ˆå¾®æœåŠ¡ï¼Œæˆ‘ä»¬å¼•å…¥äº†å¼‚å¸¸æ½œåŠ›çš„æ¦‚å¿µï¼Œå®ƒèšé›†äº†ç»™å®šä½ç½®ä¸Šæ‰€æœ‰å¾®æœåŠ¡çš„å¼‚å¸¸å½±å“ã€‚ç”±äºPBè¢«è®¸å¤šå—å…¶å½±å“çš„å¼‚å¸¸å¾®æœåŠ¡æ‰€åŒ…å›´ï¼Œå› æ­¤PBçš„å¼‚å¸¸æ½œåŠ›é€šå¸¸å¾ˆé«˜ã€‚æˆ‘ä»¬è®¾è®¡äº†ä¸€ç§æ–°çš„ç“¶é¢ˆå®šä½ç®—æ³•TopoRankï¼Œè¯¥ç®—æ³•åœ¨éšæœºè¡Œèµ°ä¸­å¼•å…¥æ‹“æ‰‘åŠ¿ç†è®º(TPT)æ¥è®¡ç®—æ‰€æœ‰å¼‚å¸¸å¾®æœåŠ¡çš„å¾—åˆ†ï¼Œå¹¶æœ€ç»ˆè¾“å‡ºä¸€ä¸ªæ’ååˆ—è¡¨(rl)ã€‚åœ¨rlä¸­å¾—åˆ†æœ€é«˜çš„å¾®æœåŠ¡å¯ä»¥è¢«è¯†åˆ«ä¸ºPBsã€‚</p>
<p>![æˆªå±2023-07-09 14.25.11](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-09 14.25.11.png)</p>
<p>TPTæºäºç‰©ç†å­¦ä¸­â€œåœºâ€çš„æ¦‚å¿µï¼Œåœ¨å„ç§è‘—ä½œä¸­è¢«å¹¿æ³›åº”ç”¨[37]ï¼Œ[38]æ¥è¡¡é‡å¤æ‚ç½‘ç»œä¸­èŠ‚ç‚¹ä¹‹é—´çš„ç›¸äº’å½±å“ã€‚ç”±äºå¾®æœåŠ¡å…³è”å›¾ä¹Ÿå¯ä»¥è¢«è§†ä¸ºä¸€ä¸ªå¤æ‚çš„ç½‘ç»œï¼Œæˆ‘ä»¬ä½¿ç”¨TPTæ¥è¯„ä¼°å¾®æœåŠ¡çš„å¼‚å¸¸æ½œåŠ›ã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬å·²ç»è§‚å¯Ÿåˆ°ï¼Œåœ¨å¾®æœåŠ¡å…³è”å›¾Gcä¸­ï¼Œç¦»PBsæ›´è¿‘çš„å¾®æœåŠ¡ï¼Œå³é‚£äº›è·³æ•°è¾ƒå°‘çš„å¾®æœåŠ¡ï¼Œæ›´æœ‰å¯èƒ½å‡ºç°å¼‚å¸¸ï¼Œå› ä¸ºå®ƒä»¬ç»å¸¸é¢‘ç¹åœ°ç›´æ¥æˆ–é—´æ¥è°ƒç”¨PBsã€‚åŸºäºè¿™ä¸€è§‚å¯Ÿï¼Œæˆ‘ä»¬ä½¿ç”¨TPTè¯„ä¼°å¾®æœåŠ¡çš„å¼‚å¸¸æ½œåŠ›ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬é¦–å…ˆé€šè¿‡è¯†åˆ«å¼‚å¸¸å¾®æœåŠ¡åŠå…¶åœ¨Gcä¸­çš„è°ƒç”¨å…³ç³»æ¥æå–å¼‚å¸¸å­å›¾Gaã€‚ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨TPTè®¡ç®—å¼‚å¸¸å­å›¾Gaä¸­å¾®æœåŠ¡viçš„æ‹“æ‰‘åŠ¿ã€‚</p>
<p>![æˆªå±2023-07-09 14.26.52](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-09 14.26.52.png)</p>
<p>Nä¸ºviçš„ä¸Šæ¸¸å¾®æœåŠ¡æ•°ï¼Œmjä¸ºvjçš„å¼‚å¸¸ç¨‹åº¦ã€‚PBScalerå°†å¼‚å¸¸ç¨‹åº¦å®šä¹‰ä¸ºå¾®æœåŠ¡åœ¨ä¸€ä¸ªæ—¶é—´çª—å£å†…è¿åSLOçš„æ¬¡æ•°ã€‚djiè¡¨ç¤ºä»vjåˆ°viæ‰€éœ€çš„æœ€å°è·³æ•°ã€‚æˆ‘ä»¬ä½¿ç”¨å½±å“å› å­Ïƒæ¥æ§åˆ¶å¾®æœåŠ¡çš„å½±å“èŒƒå›´ã€‚</p>
<p>ç„¶è€Œï¼Œå…·æœ‰é«˜æ‹“æ‰‘æ½œåœ¨å€¼çš„å¾®æœåŠ¡ä¸ä¸€å®šæ˜¯PBsï¼Œå› ä¸ºå¼‚å¸¸é€šå¸¸æ²¿ç€å¾®æœåŠ¡ç›¸å…³å›¾ä¼ æ’­ã€‚å› æ­¤ï¼Œå•çº¯ä¾é TPTè¯Šæ–­PBsæ˜¯ä¸å¤Ÿçš„ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒPBScalerç»“åˆäº†ä¸ªæ€§åŒ–PageRankç®—æ³•[39]æ¥é€†è½¬å¼‚å¸¸å­å›¾Gaä¸Šçš„å¼‚å¸¸ä¼ æ’­å¹¶å®šä½PBsã€‚è®¾Pä¸ºGaä¸Piçš„è½¬ç§»çŸ©é˜µï¼Œjä¸ºå¼‚å¸¸ä»viè·Ÿè¸ªåˆ°å…¶ä¸‹æ¸¸èŠ‚ç‚¹vjçš„æ¦‚ç‡ã€‚ç»™å®šè¾“å‡ºåº¦ä¸ºdçš„viï¼Œæ ‡å‡†ä¸ªæ€§åŒ–PageRankç®—æ³•å°†Pi,jé›†åˆä¸º:</p>
<p>![æˆªå±2023-07-09 14.29.14](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-09 14.29.14.png)</p>
<p>è¿™æ„å‘³ç€è¯¥ç®—æ³•ä¸ä¼šåå‘äºä»»ä½•ä¸‹æ¸¸å¾®æœåŠ¡ã€‚ç„¶è€Œï¼Œè¿™ä¸ªå®šä¹‰æ²¡æœ‰è€ƒè™‘ä¸‹æ¸¸å¾®æœåŠ¡å’Œå½“å‰å¾®æœåŠ¡å¼‚å¸¸ä¹‹é—´çš„å…³è”ã€‚å› æ­¤ï¼ŒPBScaleré€šè¿‡æ›´å¤šåœ°å…³æ³¨ä¸ä¸Šæ¸¸å“åº”æ—¶é—´æ›´ç›¸å…³çš„ä¸‹æ¸¸å¾®æœåŠ¡æ¥è°ƒæ•´è®¡ç®—ã€‚å¯¹äºæ¯ä¸ªå¾®æœåŠ¡vi, PBScaleræ”¶é›†å°¾éƒ¨å»¶è¿Ÿåºåˆ—(li)å’Œä¸€ç»„åº¦é‡æ•°ç»„Mi &#x3D; {m1, m2ï¼ŒÂ·Â·Â·ï¼Œmk}ï¼Œå…¶ä¸­mkå¯ä»¥è¢«è§†ä¸ºç»™å®šæ—¶é—´çª—å£å†…åº¦é‡(ä¾‹å¦‚ï¼Œå†…å­˜ä½¿ç”¨)çš„æ³¢åŠ¨æ•°ç»„ã€‚PBScalerå®šä¹‰Pi,jå–å†³äºMjä¸­liä¸åº¦é‡æ•°ç»„ä¹‹é—´çš„Pearsonç›¸å…³ç³»æ•°çš„æœ€å¤§å€¼:</p>
<p>![æˆªå±2023-07-09 14.31.44](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-09 14.31.44.png)</p>
<p>ä¸ªæ€§åŒ–PageRankç®—æ³•é€šè¿‡åœ¨æœ‰å‘å›¾ä¸Šéšæœºè¡Œèµ°æ¥ç¡®å®šæ¯ä¸ªèŠ‚ç‚¹çš„å—æ¬¢è¿ç¨‹åº¦ã€‚ç„¶è€Œï¼Œä¸€äº›èŠ‚ç‚¹å¯èƒ½æ°¸è¿œä¸ä¼šæŒ‡å‘å…¶ä»–èŠ‚ç‚¹ï¼Œå¯¼è‡´æ‰€æœ‰èŠ‚ç‚¹çš„åˆ†æ•°åœ¨å¤šæ¬¡è¿­ä»£åè¶‹äºé›¶ã€‚ä¸ºäº†é¿å…è½å…¥è¿™ä¸ªâ€œé™·é˜±â€ï¼Œåº”ç”¨äº†ä¸€ä¸ªé˜»å°¼å› å­Î´ï¼Œå®ƒå…è®¸ç®—æ³•æ ¹æ®é¢„å®šä¹‰çš„è§„åˆ™ä»è¿™äº›èŠ‚ç‚¹è·³å‡ºæ¥ã€‚é€šå¸¸Î´è®¾ä¸º0.15ã€‚ä¸ªæ€§åŒ–PageRankè¡¨ç¤ºå¦‚ä¸‹:</p>
<p>![æˆªå±2023-07-09 14.33.44](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-09 14.33.44.png)</p>
<p>å…¶ä¸­vè¡¨ç¤ºæ¯ä¸ªå¾®æœåŠ¡èŠ‚ç‚¹è¢«è¯Šæ–­ä¸ºPBçš„æ¦‚ç‡ã€‚åå¥½å‘é‡uä½œä¸ºä¸ªæ€§åŒ–è§„åˆ™ï¼Œå¼•å¯¼ç®—æ³•è·³å‡ºé™·é˜±ã€‚uçš„å€¼ç”±æ¯ä¸ªèŠ‚ç‚¹çš„å¼‚å¸¸åŠ¿å†³å®šã€‚å¼‚å¸¸æ½œåŠ›è¾ƒå¤§çš„èŠ‚ç‚¹ä¼˜å…ˆä½œä¸ºç®—æ³•çš„èµ·å§‹ç‚¹ã€‚ç¬¬kæ¬¡è¿­ä»£çš„æ–¹ç¨‹å¯ä»¥è¡¨ç¤ºä¸º:</p>
<p>![æˆªå±2023-07-09 14.34.19](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-09 14.34.19.png)</p>
<p>ç»è¿‡å¤šè½®è¿­ä»£ï¼Œvé€æ¸æ”¶æ•›ã€‚PBScalerç„¶åå¯¹æœ€ç»ˆç»“æœè¿›è¡Œæ’åºå¹¶ç”Ÿæˆæ’ååˆ—è¡¨ã€‚æ’ååˆ—è¡¨å¾—åˆ†æœ€é«˜çš„å‰kä¸ªå¾®æœåŠ¡å¯ä»¥è¢«è¯†åˆ«ä¸ºPBsã€‚TopoRankçš„æ•´ä¸ªè¿‡ç¨‹æè¿°ä¸ºç®—æ³•2ã€‚</p>
<p><strong>3.3 Scaling Decision</strong></p>
<p>ç»™å®šæ€§èƒ½ç“¶é¢ˆåˆ†æç¡®å®šçš„PBsï¼Œå°†å¯¹PBsçš„å‰¯æœ¬è¿›è¡Œç¼©æ”¾ï¼Œä»¥æœ€å°åŒ–åº”ç”¨ç¨‹åºçš„èµ„æºæ¶ˆè€—ï¼ŒåŒæ—¶ç¡®ä¿å¾®æœåŠ¡çš„ç«¯åˆ°ç«¯å»¶è¿Ÿç¬¦åˆSLOã€‚å°½ç®¡å¤§é‡çš„å‰¯æœ¬å¯ä»¥ç¼“è§£æ€§èƒ½ä¸‹é™é—®é¢˜ï¼Œä½†å®ƒä»¬ä¹Ÿä¼šæ¶ˆè€—å¤§é‡çš„èµ„æºã€‚å› æ­¤ï¼Œå¿…é¡»åœ¨æ€§èƒ½ä¿è¯å’Œèµ„æºæ¶ˆè€—ä¹‹é—´ä¿æŒå¹³è¡¡ã€‚ç¼©æ”¾å†³ç­–çš„è¿‡ç¨‹å°†è¢«å»ºæ¨¡ä¸ºä¸€ä¸ªçº¦æŸä¼˜åŒ–é—®é¢˜ï¼Œä»¥å®ç°è¿™ç§å¹³è¡¡ã€‚</p>
<p><strong>3.3.1 Constrained Optimation Model</strong></p>
<p>æˆ‘ä»¬åœºæ™¯ä¸­çš„è‡ªåŠ¨ç¼©æ”¾ä¼˜åŒ–è¯•å›¾ç¡®å®šä¸€ä¸ªåˆ†é…æ¨¡å¼ï¼Œè¯¥æ¨¡å¼ä¸ºæ¯ä¸ªPBåˆ†é…å¯å˜æ•°é‡çš„å‰¯æœ¬ã€‚ç»™å®šnä¸ªéœ€è¦ç¼©æ”¾çš„PBsï¼Œæˆ‘ä»¬å°†ç­–ç•¥å®šä¹‰ä¸ºé›†åˆX &#x3D; {x1, x2ï¼ŒÂ·Â·Â·ï¼Œxn}ï¼Œå…¶ä¸­xiè¡¨ç¤ºåˆ†é…ç»™pbiçš„å‰¯æœ¬æ•°é‡ã€‚åœ¨ä¼˜åŒ–ä¹‹å‰ï¼ŒPBsçš„åˆå§‹å‰¯æœ¬æ•°é‡å¯ä»¥è¡¨ç¤ºä¸ºC &#x3D; {c1, c2ï¼ŒÂ·Â·Â·ï¼Œcn}ã€‚åº”è¯¥æ³¨æ„çš„æ˜¯ï¼ŒPBScalerä¸­çš„å‰¯æœ¬çº¦æŸåº”è¯¥åˆ†åˆ«ä¸ºæŒ‰æ¯”ä¾‹ç¼©å°å’ŒæŒ‰æ¯”ä¾‹æ‰©å¤§çš„æµç¨‹å®šä¹‰ã€‚åœ¨æ‰©å±•è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯¹PBsçš„å‰¯æœ¬æ•°é‡è¿›è¡Œäº†å¦‚ä¸‹é™åˆ¶:</p>
<p>![æˆªå±2023-07-09 14.36.59](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-09 14.36.59.png)</p>
<p>å…¶ä¸­c^maxè¡¨ç¤ºç»™å®šæœ‰é™çš„æœåŠ¡å™¨èµ„æºï¼Œå¾®æœåŠ¡å¯ä»¥æ‰©å±•åˆ°çš„æœ€å¤§å‰¯æœ¬æ•°é‡ã€‚åœ¨ç¼©å°è¿‡ç¨‹ä¸­ï¼Œå‰¯æœ¬æ•°é‡çš„çº¦æŸå¯ä»¥è¡¨ç¤ºä¸º:</p>
<p>![æˆªå±2023-07-09 14.38.06](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-09 14.38.06.png)</p>
<p>åœ¨Eq.(8,å°±æ˜¯ä¸Šé¢è¿™ä¸ªå…¬ç¤º)ä¸­ï¼ŒÎ³(é»˜è®¤å€¼ä¸º2)è¡¨ç¤ºå¤åˆ¶å‡å°‘çš„æœ€å¤§æ•°é‡ã€‚è¿™ä¸ªé™åˆ¶æ˜¯åˆç†çš„ï¼Œå› ä¸ºæ­£å¦‚åœ¨å®éªŒä¸­è§‚å¯Ÿåˆ°çš„é‚£æ ·ï¼Œå¤§å¹…å‡å°‘å¾®æœåŠ¡å‰¯æœ¬çš„æ•°é‡å¯èƒ½ä¼šå¯¼è‡´çŸ­æš‚çš„å»¶è¿Ÿå³°å€¼ã€‚</p>
<p>ç¼©æ”¾å†³ç­–çš„ç›®æ ‡æ˜¯å°½é‡å‡å°‘åº”ç”¨ç¨‹åºçš„èµ„æºæ¶ˆè€—ï¼ŒåŒæ—¶ä¿æŒå…¶æ€§èƒ½ã€‚åº”ç”¨ç¨‹åºæ€§èƒ½é€šå¸¸ç”¨ç”¨æˆ·æ›´å…³å¿ƒçš„SLOè¿è§„æ¥è¡¨ç¤ºã€‚å› æ­¤ï¼Œåº”ç”¨ç¨‹åºæ€§èƒ½å¥–åŠ±å¯ä»¥ç»†åŒ–ä¸º:</p>
<p>![æˆªå±2023-07-09 14.40.23](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-09 14.40.23.png)</p>
<p>åœ¨ä¼˜åŒ–è¿‡ç¨‹ä¸­ï¼Œåº”ç”¨ç¨‹åºçš„èµ„æºæ¶ˆè€—(å¦‚CPUå’Œå†…å­˜ä½¿ç”¨)æ˜¯ä¸å¯é¢„æµ‹çš„ã€‚ä¸ºäº†ä¿å®ˆåœ°ä¼°è®¡èµ„æºæ¶ˆè€—ï¼Œæˆ‘ä»¬è€ƒè™‘PBå‰¯æœ¬ä¸å¯åˆ†é…å‰¯æœ¬çš„æœ€å¤§æ•°é‡çš„æ¯”ç‡ï¼Œè€Œä¸æ˜¯è®¡ç®—CPUå’Œå†…å­˜çš„æˆæœ¬ã€‚æˆ‘ä»¬å°†èµ„æºå¥–åŠ±è®¡ç®—ä¸º:</p>
<p>![æˆªå±2023-07-09 14.41.36](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-09 14.41.36.png)</p>
<p>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯åœ¨ä¿è¯æ€§èƒ½çš„åŒæ—¶å°½é‡å‡å°‘èµ„æºæ¶ˆè€—ã€‚æˆ‘ä»¬åˆ©ç”¨åŠ æƒçº¿æ€§ç»„åˆ(WLC)æ–¹æ³•æ¥å¹³è¡¡è¿™ä¸¤ä¸ªç›®æ ‡ã€‚æœ€ç»ˆä¼˜åŒ–ç›®æ ‡å®šä¹‰ä¸º:</p>
<p>![æˆªå±2023-07-09 14.43.20](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-09 14.43.20.png)</p>
<p>å¼ä¸­Î»âˆˆ[0,1]ã€‚æˆ‘ä»¬å°†Î»è®¾ç½®ä¸ºå‚æ•°ï¼Œä»¥å¹³è¡¡åº”ç”¨ç¨‹åºæ€§èƒ½å’Œèµ„æºæ¶ˆè€—ã€‚</p>
<p><strong>3.3.2 SLO Violation Predictor</strong></p>
<p>ä¸ºäº†è®¡ç®—æ€§èƒ½å¥–åŠ±R1ï¼Œéœ€è¦è¯„ä¼°ç­–ç•¥æ˜¯å¦ä¼šå¯¼è‡´åœ¨çº¿åº”ç”¨ç¨‹åºè¿åSLOã€‚ä¸€ç§ç®€å•çš„æ–¹æ³•æ˜¯ç›´æ¥åœ¨åœ¨çº¿ç”³è¯·ä¸­æ‰§è¡Œå€™é€‰ç­–ç•¥ï¼Œå¹¶ç­‰å¾…ç›‘æ§ç³»ç»Ÿçš„åé¦ˆã€‚ç„¶è€Œï¼Œåœ¨çº¿åº”ç”¨ç¨‹åºä¸­é¢‘ç¹ç¼©æ”¾å¼•èµ·çš„æŒ¯è¡æ˜¯ä¸å¯é¿å…çš„ã€‚å¦ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨å†å²åº¦é‡æ•°æ®è®­ç»ƒè¯„ä¼°æ¨¡å‹ï¼Œè¯¥æ¨¡å‹å¯ä»¥æ¨¡æ‹Ÿåœ¨çº¿åº”ç”¨çš„åé¦ˆã€‚åœ¨ä¸ä¸åœ¨çº¿åº”ç”¨ç¨‹åºäº¤äº’çš„æƒ…å†µä¸‹ï¼Œè¯¥æ¨¡å‹æ ¹æ®åº”ç”¨ç¨‹åºçš„å½“å‰çŠ¶æ€é¢„æµ‹åº”ç”¨ç¨‹åºçš„æ€§èƒ½ã€‚</p>
<p>æˆ‘ä»¬ä½¿ç”¨å‘é‡ræ¥è¡¨ç¤ºæ‰§è¡Œæ‰©å±•ç­–ç•¥xåæ¯ä¸ªå¾®æœåŠ¡çš„å‰¯æœ¬æ•°é‡ã€‚wæ˜¯è¡¨ç¤ºæ¯ä¸ªå¾®æœåŠ¡å½“å‰å·¥ä½œè´Ÿè½½çš„å‘é‡ã€‚ç”±äºç“¶é¢ˆæ„ŸçŸ¥ä¼˜åŒ–çš„æ—¶é—´æˆæœ¬è¾ƒä½ï¼Œæˆ‘ä»¬å¯ä»¥åˆç†åœ°å‡è®¾wåœ¨æ­¤æœŸé—´ä¸ä¼šå‘ç”Ÿæ˜¾è‘—å˜åŒ–(å‚è§4.2èŠ‚)ã€‚ç»™å®šç”±å·¥ä½œè´Ÿè½½wå’Œæ‰€æœ‰å¾®æœåŠ¡å‰¯æœ¬rè¡¨ç¤ºçš„åº”ç”¨çŠ¶æ€ï¼Œä¸€ä¸ªSLOè¿ä¾‹é¢„æµ‹å™¨å¯ä»¥è®¾è®¡ä¸º:</p>
<p>![æˆªå±2023-07-09 14.47.43](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-09 14.47.43.png)</p>
<p>å…¶ä¸­Ïˆæ˜¯ä¸€ä¸ªäºŒå…ƒåˆ†ç±»æ¨¡å‹ã€‚é€‰æ‹©åˆé€‚çš„åˆ†ç±»æ¨¡å‹çš„ç»†èŠ‚å°†åœ¨4.3èŠ‚ä¸­è®¨è®ºã€‚ç”¨äºè®­ç»ƒçš„å†å²åº¦é‡æ•°æ®å¯ä»¥ä½¿ç”¨ç»å…¸ç¼©æ”¾æ–¹æ³•(é»˜è®¤æ˜¯Kubernetesè‡ªåŠ¨ç¼©æ”¾å™¨)æˆ–éšæœºæ–¹æ³•ç”Ÿæˆã€‚æˆ‘ä»¬åœ¨3ä¸ªèŠ‚ç‚¹(å…±44ä¸ªCPUæ ¸å’Œ220gb RAM)ä¸Šéƒ¨ç½²äº†ä¸€ä¸ªå¼€æºå¾®æœåŠ¡ç³»ç»Ÿï¼Œå¹¶è¿›è¡Œäº†å¼¹æ€§æ‰©å±•ã€‚æ™®ç½—ç±³ä¿®æ–¯ä»¥å›ºå®šçš„æ—¶é—´é—´éš”æ”¶é›†æ¯ä¸ªå¾®æœåŠ¡çš„å·¥ä½œè´Ÿè½½å’ŒP90å°¾éƒ¨å»¶è¿Ÿã€‚é€šè¿‡æ¯”è¾ƒå‰ç«¯å¾®æœåŠ¡çš„å°¾éƒ¨å»¶è¿Ÿå’ŒSLOï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°æ ‡è®°æ¯ä¸ªæ—¶é—´é—´éš”çš„ç›‘æ§æ•°æ®ã€‚</p>
<p>![æˆªå±2023-07-09 14.48.39](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-09 14.48.39.png)</p>
<p>Section 4.3ã€‚ç”¨äºè®­ç»ƒçš„å†å²åº¦é‡æ•°æ®å¯ä»¥ä½¿ç”¨ç»å…¸ç¼©æ”¾æ–¹æ³•(é»˜è®¤æ˜¯Kubernetesè‡ªåŠ¨ç¼©æ”¾å™¨)æˆ–éšæœºæ–¹æ³•ç”Ÿæˆã€‚æˆ‘ä»¬åœ¨3ä¸ªèŠ‚ç‚¹(å…±44ä¸ªCPUæ ¸å’Œ220gb RAM)ä¸Šéƒ¨ç½²äº†ä¸€ä¸ªå¼€æºå¾®æœåŠ¡ç³»ç»Ÿï¼Œå¹¶è¿›è¡Œäº†å¼¹æ€§æ‰©å±•ã€‚æ™®ç½—ç±³ä¿®æ–¯ä»¥å›ºå®šçš„æ—¶é—´é—´éš”æ”¶é›†æ¯ä¸ªå¾®æœåŠ¡çš„å·¥ä½œè´Ÿè½½å’ŒP90å°¾éƒ¨å»¶è¿Ÿã€‚é€šè¿‡æ¯”è¾ƒå‰ç«¯å¾®æœåŠ¡çš„å°¾éƒ¨å»¶è¿Ÿå’ŒSLOï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°æ ‡è®°æ¯ä¸ªæ—¶é—´é—´éš”çš„ç›‘æ§æ•°æ®ã€‚</p>
<p><strong>3.3.3 Autoscaling Optimisation</strong></p>
<p>å¦‚ç¬¬3.3.1èŠ‚æ‰€è¿°ï¼Œæ€§èƒ½å’Œèµ„æºæ¶ˆè€—ä¹‹é—´çš„æƒè¡¡å¯ä»¥å»ºæ¨¡ä¸ºçº¦æŸä¼˜åŒ–é—®é¢˜ã€‚ä¸ºäº†æ‰¾åˆ°æ¥è¿‘æœ€ä¼˜çš„ç­–ç•¥ï¼ŒPBScalerä½¿ç”¨é—ä¼ ç®—æ³•(GA)æ¥ç”Ÿæˆå’Œä¼˜åŒ–æ‰©å±•ç­–ç•¥ï¼Œä»¥å‡å°‘èµ„æºæ¶ˆè€—ï¼ŒåŒæ—¶æ»¡è¶³SLOè¦æ±‚ã€‚é—ä¼ ç®—æ³•é€šè¿‡æ¨¡æ‹Ÿè¿›åŒ–ä¸­çš„è‡ªç„¶é€‰æ‹©ï¼Œåœ¨æ·˜æ±°åŠ£ç­‰å­ä»£çš„åŒæ—¶æé«˜ä¼˜ç­‰å­ä»£ã€‚é¦–å…ˆï¼Œé—ä¼ ç®—æ³•æ‰§è¡Œéšæœºæœç´¢æ¥åˆå§‹åŒ–ç­–ç•¥ç©ºé—´ä¸­çš„æŸ“è‰²ä½“ç§ç¾¤ï¼Œæ¯æ¡æŸ“è‰²ä½“è¡¨ç¤ºä¼˜åŒ–é—®é¢˜çš„æ½œåœ¨ç­–ç•¥ã€‚æ¥ä¸‹æ¥ï¼Œåœ¨æ¯æ¬¡è¿­ä»£ä¸­ï¼Œå°†é€‰æ‹©å…·æœ‰é«˜é€‚åº”åº¦çš„ç²¾è‹±æŸ“è‰²ä½“(ç§°ä¸ºç²¾è‹±)è¿›è¡Œäº¤å‰æˆ–çªå˜ä»¥äº§ç”Ÿä¸‹ä¸€ä»£ã€‚</p>
<p>æˆ‘ä»¬åœºæ™¯ä¸­çš„è‡ªåŠ¨ç¼©æ”¾ä¼˜åŒ–æ—¨åœ¨ç¡®å®šä¸€ç§ç¼©æ”¾ç­–ç•¥ï¼Œè¯¥ç­–ç•¥ä¸ºæ¯ä¸ªPBåˆ†é…å¯å˜æ•°é‡çš„å‰¯æœ¬ã€‚è‡ªç¼©æ”¾ä¼˜åŒ–è¿‡ç¨‹å¦‚å›¾6æ‰€ç¤ºã€‚ä¸€å¼€å§‹ï¼ŒPBScalerè·å¾—æ¯ä¸ªå¾®æœåŠ¡å½“å‰çš„å‰¯æœ¬æ•°é‡rå’Œå·¥ä½œè´Ÿè½½wã€‚åœ¨æ€§èƒ½ç“¶é¢ˆåˆ†æä¹‹åï¼ŒPBScalerä»rä¸­è¯†åˆ«PBsï¼Œå¹¶å°†å®ƒä»¬è¿‡æ»¤å‡ºæ¥ï¼Œå¾—åˆ°r â€˜ã€‚ç„¶åï¼Œå†³ç­–è€…ç”ŸæˆPBsç­–ç•¥çš„æ€»ä½“ã€‚ç”±äºè¦æ‰©å±•çš„å¾®æœåŠ¡æ•°é‡ä¼šå½±å“ä¼˜åŒ–ç®—æ³•çš„é€Ÿåº¦å’Œæ•ˆæœ(ç¬¬4.3èŠ‚)ï¼ŒPBScalerå‡è®¾åªæœ‰PBséœ€è¦è¿›è¡Œå¼¹æ€§æ‰©å±•ã€‚æ¢å¥è¯è¯´ï¼Œr â€˜ä¸­çš„å‰¯æœ¬æ•°é‡å°†ä¿æŒä¸å˜ã€‚SLOè¿ä¾‹é¢„æµ‹å™¨è´Ÿè´£è¯„ä¼°ç”Ÿæˆçš„ç­–ç•¥ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¯¥ç­–ç•¥ä¸r â€˜åˆå¹¶ï¼Œå¹¶ä¸wä¸€èµ·è¾“å…¥åˆ°SLOè¿è§„é¢„æµ‹å™¨ä¸­ã€‚é€šè¿‡é—ä¼ ç®—æ³•é€‰æ‹©ä¼˜ç­–ç•¥Xbestï¼Œå¹¶ä¸r â€˜åˆå¹¶ï¼Œç”Ÿæˆæœ€ç»ˆå†³ç­–ã€‚</p>
<p>![æˆªå±2023-07-09 14.41.12](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-09 14.41.12.png)</p>
<p>åœ¨ä¼˜åŒ–é˜¶æ®µï¼Œå†³ç­–è€…ä½¿ç”¨é—ä¼ ç®—æ³•ç”Ÿæˆå¹¶æ”¹è¿›PBçš„ç¼©æ”¾ç­–ç•¥ï¼Œå¦‚ç®—æ³•3æ‰€è¿°ã€‚åœ¨æ¯ä¸ªPBçš„ç­–ç•¥èŒƒå›´å†…éšæœºç”Ÿæˆä¸€ä¸ªç§ç¾¤(ç¬¬1è¡Œ)åï¼ŒDecision Makeræ ¹æ®Eq.(11)ä¼°è®¡æ¯ä¸ªç­–ç•¥çš„é€‚åº”åº¦ï¼Œå¹¶å­˜å‚¨ç²¾è‹±(ç¬¬2-3è¡Œ)ã€‚åœ¨æ¯æ¬¡è¿­ä»£ä¸­ï¼Œé—ä¼ ç®—æ³•ä½¿ç”¨åŸºäºé”¦æ ‡èµ›çš„é€‰æ‹©ç®—å­æ¥æŒ‘é€‰ä¼˜ç§€çš„äº²æœ¬(ç¬¬6è¡Œ)ã€‚é€šè¿‡ä½¿ç”¨ä¸¤ä¸ªç‚¹äº¤å‰ç®—å­å’ŒåŒæŸ“è‰²ä½“çªå˜ç®—å­ï¼Œé€šè¿‡é‡ç»„å’Œçªå˜(ç¬¬7-8è¡Œ)äº§ç”Ÿæ–°çš„åä»£ã€‚é€šè¿‡æ¨¡æ‹Ÿè‡ªç„¶é€‰æ‹©ï¼Œæ–°çš„åä»£å’Œäº²æœ¬ç²¾è‹±å½¢æˆä¸€ä¸ªæ–°çš„ç§ç¾¤ï¼Œè¿›å…¥ä¸‹ä¸€ä¸ªè¿­ä»£(ç¬¬9è¡Œ)ã€‚å½“é—ä¼ ç®—æ³•è¾¾åˆ°æŒ‡å®šçš„è¿­ä»£æ¬¡æ•°æ—¶ï¼ŒDecision Makerè¿”å›é€‚åº”åº¦æœ€é«˜çš„ç¼©æ”¾å†³ç­–Xbestã€‚</p>
<p><strong>4 Evaluation</strong></p>
<p>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬è¯¦ç»†ä»‹ç»äº†è‡ªåŠ¨ç¼©æ”¾çš„å®éªŒåœºæ™¯ï¼ŒåŒ…æ‹¬PBScalerä¸å­¦æœ¯ç•Œå’Œå·¥ä¸šç•Œå‡ ç§æœ€å…ˆè¿›çš„è‡ªåŠ¨ç¼©æ”¾ç®—æ³•çš„æ¯”è¾ƒã€‚</p>
<p><strong>4.1 Experimental Setup</strong></p>
<p><strong>4.1.1 Microserice Platform</strong></p>
<p>å®éªŒåœ¨æˆ‘ä»¬çš„ç§æœ‰äº‘é›†ç¾¤ä¸­è¿›è¡Œï¼Œè¯¥é›†ç¾¤ç”±ä¸‰å°ç‰©ç†è®¡ç®—æœº(ä¸€ä¸ªä¸»èŠ‚ç‚¹å’Œä¸¤ä¸ªå·¥ä½œèŠ‚ç‚¹)ç»„æˆï¼Œå…±æœ‰44ä¸ªIntel 2.40 GHz CPUå†…æ ¸å’Œ220gb RAMã€‚ä¸ºäº†è¯„ä¼°è‡ªåŠ¨æ‰©å±•ï¼Œæˆ‘ä»¬é€‰æ‹©äº†ä¸¤ä¸ªå¼€æºå¾®æœåŠ¡åº”ç”¨ç¨‹åºä½œä¸ºåŸºå‡†:a)åœ¨çº¿ç²¾å“8ï¼Œä¸€ä¸ªç”±è°·æ­Œå¼€å‘çš„åŸºäºwebçš„ç”µå­å•†åŠ¡æ¼”ç¤ºåº”ç”¨ç¨‹åºã€‚è¯¥ç³»ç»Ÿé€šè¿‡10ä¸ªæ— çŠ¶æ€å¾®æœåŠ¡å’ŒRedisç¼“å­˜çš„åä½œï¼Œå®ç°äº†æµè§ˆäº§å“ã€å°†å•†å“æ·»åŠ åˆ°è´­ç‰©è½¦å’Œæ”¯ä»˜å¤„ç†ç­‰åŸºæœ¬åŠŸèƒ½ã€‚b) Train Ticket9:å¤æ—¦å¤§å­¦å¼€å‘çš„å¤§å‹å¼€æºå¾®æœåŠ¡ç³»ç»Ÿã€‚Train Ticketæ‹¥æœ‰40å¤šä¸ªå¾®æœåŠ¡ï¼Œå¹¶ä½¿ç”¨MongoDBå’ŒMySQLè¿›è¡Œæ•°æ®å­˜å‚¨ï¼Œå¯ä»¥æ»¡è¶³å„ç§å·¥ä½œæµç¨‹ï¼Œå¦‚åœ¨çº¿é—¨ç¥¨æµè§ˆï¼Œé¢„è®¢å’Œè´­ä¹°ã€‚ç”±äºé›†ç¾¤èµ„æºçš„é™åˆ¶ï¼Œæˆ‘ä»¬å°†æ¯ä¸ªå¾®æœåŠ¡é™åˆ¶ä¸ºä¸è¶…è¿‡8ä¸ªå‰¯æœ¬ã€‚æºä»£ç å¯åœ¨Githubä¸Šè·å¾—.</p>
<p><strong>4.1.2 Workload</strong></p>
<p>æˆ‘ä»¬è¯„ä¼°äº†PBScaleråœ¨å„ç§æµé‡åœºæ™¯ä¸‹çš„æœ‰æ•ˆæ€§ï¼Œä½¿ç”¨äº†2015å¹´3æœˆ16æ—¥Wiki-Pageviews[40]çš„çœŸå®ç»´åŸºç™¾ç§‘å·¥ä½œè´Ÿè½½ï¼Œä»¥åŠå—Abdullahç­‰äºº[41]çš„å®éªŒå¯å‘çš„äº”ç§æ¨¡æ‹Ÿå·¥ä½œè´Ÿè½½(EW1 ~ EW5)ã€‚æˆ‘ä»¬å°†å®é™…å·¥ä½œè´Ÿè½½å‹ç¼©åˆ°ä¸€ä¸ªå°æ—¶ï¼Œå¹¶å°†å…¶æ‰©å±•åˆ°é€‚åˆæˆ‘ä»¬é›†ç¾¤çš„çº§åˆ«ã€‚äº”ä¸ªæ¨¡æ‹Ÿå·¥ä½œè´Ÿè½½è¡¨ç°å‡ºä¸åŒçš„æ¨¡å¼ï¼Œä¾‹å¦‚å•å³°ã€å¤šå³°ã€ä¸Šå‡å’Œä¸‹é™ï¼Œå¹¶ä¸”æŒç»­æ—¶é—´é™åˆ¶ä¸º20åˆ†é’Ÿã€‚å›¾7æè¿°äº†è¿™äº›å·¥ä½œè´Ÿè½½çš„æ³¢åŠ¨æƒ…å†µã€‚</p>
<p><strong>4.1.3 Baseline Metrics</strong></p>
<p>æˆ‘ä»¬å°†PBScalerä¸å­¦æœ¯ç•Œå’Œå·¥ä¸šç•Œçš„å‡ ç§æœ€å…ˆè¿›çš„å¾®æœåŠ¡è‡ªåŠ¨æ‰©å±•æ–¹æ³•è¿›è¡Œæ¯”è¾ƒï¼Œè¿™äº›æ–¹æ³•ä»é™æ€é˜ˆå€¼ã€æ§åˆ¶ç†è®ºå’Œé»‘ç›’ä¼˜åŒ–çš„è§’åº¦æ‰§è¡Œå¾®æœåŠ¡çš„åŠ¨æ€æ°´å¹³æ‰©å±•ã€‚</p>
<p>Kubernetesæ°´å¹³Podè‡ªåŠ¨ç¼©æ”¾(<strong>KHPA</strong>):è¿™æ˜¯Kubernetesé»˜è®¤çš„æ°´å¹³ç¼©æ”¾æ–¹æ¡ˆã€‚é€šè¿‡ä¸ºç‰¹å®šçš„èµ„æºRå®šåˆ¶é˜ˆå€¼T (CPUä½¿ç”¨ç‡ä¸ºé»˜è®¤å€¼)ï¼Œå¹¶ä»å¾®æœåŠ¡çš„æ‰€æœ‰å‰¯æœ¬ä¸­èšåˆèµ„æºä½¿ç”¨URi, KHPAå°†å‰¯æœ¬çš„ç›®æ ‡æ•°é‡å®šä¹‰ä¸º</p>
<p>![æˆªå±2023-07-09 15.19.46](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-09 15.19.46.png)</p>
<p><strong>MicroScaler</strong>[15]:è¿™æ˜¯ä¸€ä¸ªè‡ªåŠ¨æ‰©å±•å·¥å…·ï¼Œå®ƒä½¿ç”¨é»‘ç›’ä¼˜åŒ–ç®—æ³•æ¥ç¡®å®šå¾®æœåŠ¡çš„æœ€ä½³å‰¯æœ¬æ•°é‡ã€‚MicroScalerè®¡ç®—å¾®æœåŠ¡çš„P90&#x2F;P50è¿›è¡Œåˆ†ç±»ï¼Œç„¶åæ‰§è¡Œè´å¶æ–¯ä¼˜åŒ–çš„å››æ¬¡è¿­ä»£æ¥åšå‡ºæ‰©å±•å†³ç­–ã€‚</p>
<p><strong>SHOWAR</strong>[11]:å®ƒæ˜¯ä¸€ç§æ··åˆè‡ªç¼©æ”¾æŠ€æœ¯ã€‚æˆ‘ä»¬åœ¨SHOWARä¸­å†ç°äº†æ°´å¹³ç¼©æ”¾éƒ¨åˆ†ï¼Œå®ƒä½¿ç”¨PIDæ§åˆ¶ç†è®ºä½¿è§‚å¯Ÿåˆ°çš„åº¦é‡é€æ¸æ¥è¿‘ç”¨æˆ·æŒ‡å®šçš„é˜ˆå€¼ã€‚åœ¨æˆ‘ä»¬çš„å®ç°ä¸­ï¼Œæˆ‘ä»¬ç”¨æ›´å¸¸è§çš„P90å»¶è¿Ÿæ›¿æ¢äº†è¿è¡Œé˜Ÿåˆ—å»¶è¿Ÿï¼Œå› ä¸ºå‰è€…éœ€è¦é¢å¤–çš„eBPFå·¥å…·ã€‚</p>
<p><strong>4.1.4 Experimental Parameters and Evaluation Criteria</strong></p>
<p>åœ¨æˆ‘ä»¬çš„å®éªŒä¸­ï¼Œæˆ‘ä»¬å°†æ™®ç½—ç±³ä¿®æ–¯çš„æ”¶é›†é—´éš”å›ºå®šä¸º5ç§’ã€‚éšç€å®éªŒæ—¶é—´å’Œå·¥ä½œè´Ÿè½½çš„å¢åŠ ï¼ŒMongoDBç­‰æœ‰çŠ¶æ€å¾®æœåŠ¡æ‰€éœ€çš„æ•°æ®é‡ä¹Ÿä¼šå¢åŠ ã€‚æœ€ç»ˆï¼Œæ•°æ®é‡å°†è¶…è¿‡å¯ç”¨å†…å­˜ï¼Œä»è€Œéœ€è¦ä½¿ç”¨ç£ç›˜å­˜å‚¨ã€‚è¿™ç§è½¬æ¢å¯èƒ½å¯¼è‡´æ— æ³•é€šè¿‡è‡ªåŠ¨ç¼©æ”¾æ¥è¡¥æ•‘çš„æ€§èƒ½ä¸‹é™ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å°†å·¥ä½œè´Ÿè½½æµ‹è¯•é™åˆ¶ä¸ºæ— çŠ¶æ€è·Ÿè¸ªã€‚åœ¨çº¿ç²¾å“åº—å’Œç«è½¦ç¥¨çš„SLOå€¼åˆ†åˆ«è®¾ç½®ä¸º500æ¯«ç§’å’Œ200æ¯«ç§’ã€‚åœ¨SLOè¿ä¾‹æ£€æµ‹å’Œå†—ä½™æ£€æŸ¥æ¨¡å—ä¸­ï¼ŒPBScaleré¦–å…ˆå°†åŠ¨ä½œè¾¹ç•ŒÎ±è®¾ç½®ä¸º0.2ï¼Œä»¥å‡å°‘å™ªå£°å¹²æ‰°ã€‚ç„¶åï¼Œæˆ‘ä»¬æ ¹æ®ç»éªŒå°†æ˜¾è‘—åº¦Î²è®¾ç½®ä¸º0.9ï¼Œä»¥æ§åˆ¶è§¦å‘æ‰©å±•çš„å·¥ä½œè´Ÿè½½æ°´å¹³ã€‚å¯¹äºç“¶é¢ˆå®šä½ï¼Œå°†æ‹“æ‰‘åŠ¿çš„å½±å“å› å­Ïƒè®¾ä¸º1ï¼Œå°†rlä¸­å¾—åˆ†æœ€é«˜çš„top-k (k &#x3D;2)ä¸ªå¾®æœåŠ¡è§†ä¸ºPBsã€‚</p>
<p>æˆ‘ä»¬é€‰æ‹©äº†SLOè¿è§„ç‡ã€èµ„æºæ¶ˆè€—å’Œå“åº”æ—¶é—´æ¥è¯„ä¼°è‡ªç¼©æ”¾æ–¹æ³•çš„æ€§èƒ½ã€‚å¦‚æœè‡ªåŠ¨ç¼©æ”¾æ–¹æ³•å¯ä»¥å‡å°‘å“åº”æ—¶é—´ã€SLOè¿è§„ç‡å’Œèµ„æºæ¶ˆè€—ï¼Œåˆ™è®¤ä¸ºå®ƒæ›´æœ‰æ•ˆã€‚æˆ‘ä»¬å°†SLOè¿ä¾‹ç‡å®šä¹‰ä¸ºç«¯åˆ°ç«¯P90å°¾éƒ¨å»¶è¿Ÿè¶…è¿‡SLOçš„ç™¾åˆ†æ¯”ã€‚èµ„æºæ¶ˆè€—æŒ‰ç…§[42]ç»™å‡ºçš„æ–¹æ³•è®¡ç®—ï¼Œå…¶ä¸­CPUä»·æ ¼ä¸º0.00003334$ (vCPU&#x2F;s)ï¼Œå†…å­˜ä»·æ ¼ä¸º0.00001389$ (G&#x2F;s)ã€‚æ€»èµ„æºæ¶ˆè€—ç”±å†…å­˜æˆæœ¬å’ŒCPUæˆæœ¬ç›¸åŠ å¾—åˆ°ã€‚</p>
<p>![æˆªå±2023-07-09 15.23.18](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-09 15.23.18.png)</p>
<p>![æˆªå±2023-07-09 15.24.13](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-09 15.24.13.png)</p>
<p><strong>4.2 Performance Evaluation</strong></p>
<p>è¡¨2æ¯”è¾ƒäº†å…·æœ‰ä¸åŒå·¥ä½œè´Ÿè½½çš„ä¸¤ä¸ªå¾®æœåŠ¡åº”ç”¨ç¨‹åºä¸­å››ç§è‡ªåŠ¨ä¼¸ç¼©æ–¹æ³•çš„SLOè¿åç‡å’Œèµ„æºæˆæœ¬ã€‚Noneæ–¹æ³•ç”¨ä½œå¼•ç”¨ï¼Œä¸æ‰§è¡Œè‡ªåŠ¨ç¼©æ”¾æ“ä½œã€‚å…¶ç»“æœä»¥ç°è‰²è¡¨ç¤ºï¼Œå¹¶è¢«æ’é™¤åœ¨æ¯”è¾ƒä¹‹å¤–ã€‚</p>
<p>![æˆªå±2023-07-09 15.25.47](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-09 15.25.47.png)</p>
<p>ä¸€èˆ¬æ¥è¯´ï¼ŒPBScaleråœ¨å‡å°‘ä¸¤ä¸ªå¾®æœåŠ¡ç³»ç»Ÿä¸­å…­ä¸ªå·¥ä½œè´Ÿè½½ä¸‹çš„SLOè¿è§„å’Œæœ€å°åŒ–èµ„æºå¼€é”€æ–¹é¢ä¼˜äºå…¶ä»–ç«äº‰æ–¹æ³•ã€‚å…¶ä¸­ï¼ŒPBScaleråœ¨ç«è½¦ç¥¨ä¸­çš„SLOè¿è§„ç‡æ¯”åŸºçº¿æ–¹æ³•å¹³å‡é™ä½4.96%ï¼Œèµ„æºæˆæœ¬å¹³å‡é™ä½0.24ç¾å…ƒã€‚ç»“æœè¡¨æ˜ï¼ŒPBScalerå¯ä»¥å¿«é€Ÿã€ç²¾ç¡®åœ°å¯¹å¤§è§„æ¨¡å¾®æœåŠ¡ç³»ç»Ÿä¸­çš„ç“¶é¢ˆå¾®æœåŠ¡è¿›è¡Œå¼¹æ€§æ‰©å±•ï¼Œä»è€Œå‡å°‘äº†SLOè¿è§„ï¼ŒèŠ‚çœäº†èµ„æºã€‚å¯¹äºOnline Boutiqueä¸­çš„6ä¸ªå·¥ä½œè´Ÿè½½ï¼ŒPBScalerè¿˜åœ¨å…¶ä¸­4ä¸ªæ¨¡æ‹Ÿå·¥ä½œè´Ÿè½½ä¸­å®ç°äº†æœ€ä½çš„SLOè¿è§„ï¼Œå¹¶åœ¨3ä¸ªæ¨¡æ‹Ÿå·¥ä½œè´Ÿè½½ä¸­å®ç°äº†æœ€ä½çš„èµ„æºæ¶ˆè€—ã€‚</p>
<p>å›¾8æç»˜äº†å…­ç§å·¥ä½œè´Ÿè½½ä¸‹ä¸åŒæ–¹æ³•çš„å»¶è¿Ÿåˆ†å¸ƒç®±å½¢å›¾ï¼Œæ¢è®¨äº†æ¯ç§æ–¹æ³•å¯¹å¾®æœåŠ¡ç³»ç»Ÿæ€§èƒ½çš„å½±å“ã€‚å¯ä»¥çœ‹å‡ºï¼Œå¤§å¤šæ•°è‡ªåŠ¨ç¼©æ”¾æ–¹æ³•éƒ½å¯ä»¥ä¿æŒå»¶è¿Ÿåˆ†å¸ƒçš„ä¸­ä½æ•°ä½äºçº¢è‰²è™šçº¿(SLO)ã€‚ä½†æ˜¯ï¼Œåªæœ‰PBScalerè¿›ä¸€æ­¥å°†ç¬¬ä¸‰ä¸ªå››åˆ†ä½æ•°é™ä½åˆ°æ‰€æœ‰å·¥ä½œè´Ÿè½½çš„SLOä»¥ä¸‹ã€‚</p>
<p>ä¸ºäº†è¯„ä¼°ä½¿ç”¨PBScalerè¿›è¡Œå¼¹æ€§ç¼©æ”¾çš„æ—¶é—´æˆæœ¬ï¼Œæ”¶é›†å¹¶è®¡ç®—äº†PBScalerä¸­æ¯ä¸ªæ¨¡å—æ‰€éœ€çš„å¹³å‡æ—¶é—´ã€‚å¦‚è¡¨3æ‰€ç¤ºï¼ŒOnline Boutiqueä¸­æ‰€æœ‰PBScaleræ¨¡å—çš„æ€»æ—¶é—´æˆæœ¬å°äºä¸€ä¸ªç›‘æ§é—´éš”(å³5s)ï¼Œè€ŒTrain Ticketçš„ç›¸åŒåº¦é‡å°äºä¸¤ä¸ªç›‘æ§é—´éš”ã€‚ç”±äºPBAç¼©å°äº†å†³ç­–èŒƒå›´ï¼Œå½“åº”ç”¨ç¨‹åºä»Online Boutiqueåˆ‡æ¢åˆ°Train Ticketæ—¶ï¼Œå°½ç®¡å¾®æœåŠ¡çš„æ•°é‡å¢åŠ äº†ï¼Œä½†å†³ç­–è€…çš„æ—¶é—´æˆæœ¬å¹¶æ²¡æœ‰å¢åŠ å¤ªå¤š(ä¸è¶…è¿‡6.6%)ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬è®¤è¯†åˆ°éšç€å¾®æœåŠ¡è§„æ¨¡çš„å¢é•¿ï¼ŒPBAçš„æ—¶é—´æ¶ˆè€—ä¼šè¿…é€Ÿå¢åŠ ï¼Œè¿™å°†æ˜¯æˆ‘ä»¬æœªæ¥çš„å·¥ä½œã€‚</p>
<p>![æˆªå±2023-07-09 15.29.10](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-09 15.29.10.png)</p>
<p>![æˆªå±2023-07-09 15.29.50](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-09 15.29.50.png)</p>
<p><strong>4.3 Effectiveness Analysis of Components</strong></p>
<p><strong>4.3.1 Performance Comparision of Bottleneck Localization</strong></p>
<p>ä¸ºäº†è¯„ä¼°TopoRankç®—æ³•æ˜¯å¦èƒ½æœ‰æ•ˆå®šä½çªå‘å·¥ä½œè´Ÿè½½å¼•èµ·çš„PBsï¼Œæˆ‘ä»¬é€šè¿‡Chaos Meshå°†CPUè¿‡è½½ã€å†…å­˜æº¢å‡ºå’Œç½‘ç»œæ‹¥å¡ç­‰å¼‚å¸¸æ³¨å…¥åˆ°Online Boutiqueå’ŒTrain Ticketä¸­ã€‚è¿™äº›å¼‚å¸¸é€šå¸¸æ˜¯ç”±é«˜å·¥ä½œè´Ÿè½½æ¡ä»¶å¼•èµ·çš„ã€‚ä½¿ç”¨TopoRankç®—æ³•åˆ†æåº¦é‡å¹¶ç¡®å®šè¿™äº›å¼‚å¸¸çš„æ€§èƒ½ç“¶é¢ˆã€‚ç„¶åå°†å®šä½ç»“æœä¸micrororca[27]è¿›è¡Œæ¯”è¾ƒï¼Œmicrororcaæ˜¯å¾®æœåŠ¡æ ¹æœ¬åŸå› åˆ†æçš„åŸºçº¿æ–¹æ³•ã€‚AC@kæµ‹é‡å‰kä¸ªç»“æœä¸­å®é™…PBsçš„ç²¾åº¦ï¼ŒAvg@kæ˜¯å‰kä¸ªç»“æœçš„å¹³å‡ç²¾åº¦ã€‚è¿™äº›æŒ‡æ ‡çš„è®¡ç®—æ–¹æ³•å¦‚ä¸‹ã€‚Aè¡¨ç¤ºå¾®æœåŠ¡çš„é›†åˆï¼ŒRT@kè¡¨ç¤ºæ’ååˆ—è¡¨ä¸­æ’åå‰kçš„å¾®æœåŠ¡ã€‚</p>
<p>![æˆªå±2023-07-09 15.32.15](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:æˆªå±2023-07-09 15.32.15.png)</p>
<p>å›¾9ç»™å‡ºäº†TopoRankå’ŒMicroRCAåœ¨ä¸åŒå¾®æœåŠ¡åº”ç”¨ä¸­çš„AC@1å’ŒAvg@5å€¼ã€‚ç»“æœè¡¨æ˜ï¼ŒTopoRankåœ¨è¿™ä¸¤ä¸ªæŒ‡æ ‡ä¸Šéƒ½ä¼˜äºMicroRCAã€‚è¿™ä¸»è¦æ˜¯ç”±äºTopoRankåœ¨æ‰§è¡Œä¸ªæ€§åŒ–PageRankæ—¶è€ƒè™‘äº†å¼‚å¸¸å¯èƒ½æ€§å’Œå¾®æœåŠ¡ä¾èµ–å…³ç³»ã€‚</p>
<p>ç“¶é¢ˆå®šä½çš„ä¸»è¦ç›®çš„æ˜¯ç¼©å°ç­–ç•¥ç©ºé—´ï¼ŒåŠ å¿«æœ€ä¼˜ç­–ç•¥çš„å‘ç°ã€‚æˆ‘ä»¬åœ¨PBså’Œæ‰€æœ‰å¾®æœåŠ¡ä¸Šæ‰§è¡Œé—ä¼ ç®—æ³•è¿­ä»£ï¼Œä»¥è¯æ˜ç“¶é¢ˆå®šä½å¯¹ä¼˜åŒ–çš„å½±å“ã€‚å›¾10æè¿°äº†å¾®æœåŠ¡ç³»ç»Ÿä¸‹çš„è¿­ä»£è¿‡ç¨‹ï¼Œå¹¶è¡¨æ˜éšç€äººå£(Pop)çš„å¢åŠ ï¼Œpbæ„ŸçŸ¥ç­–ç•¥åœ¨é€‚åº”åº¦æ–¹é¢æ˜æ˜¾ä¼˜äºé€‚ç”¨äºæ‰€æœ‰å¾®æœåŠ¡çš„æ–¹æ³•ã€‚è¯¥ç­–ç•¥å¯ä»¥åœ¨ä¸åˆ°5æ¬¡è¿­ä»£ä¸­è·å¾—è¾ƒå¥½çš„é€‚åº”åº¦ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œæ¶‰åŠæ‰€æœ‰å¾®æœåŠ¡çš„æ–¹æ³•éœ€è¦æ›´å¤§çš„ç§ç¾¤å’Œæ›´å¤šçš„è¿­ä»£æ‰èƒ½è¾¾åˆ°ç›¸åŒçš„é€‚åº”åº¦æ°´å¹³ã€‚è¿™æ˜¯ç”±äºpbæ„ŸçŸ¥ç­–ç•¥å¸®åŠ©é—ä¼ ç®—æ³•ç²¾ç¡®åœ°ç¼©å°äº†ä¼˜åŒ–èŒƒå›´ï¼ŒåŠ é€Ÿäº†ä¼˜è§£çš„è·å–ã€‚</p>
<p><strong>4.3.2 Effectiveness of the SLO Violation Predictor</strong></p>
<p>SLOè¿ä¾‹é¢„æµ‹å™¨çš„ç›®æ ‡æ˜¯ç›´æ¥é¢„æµ‹ä¼˜åŒ–ç­–ç•¥çš„ç»“æœï¼Œè€Œä¸æ˜¯ç­‰å¾…åœ¨çº¿åº”ç”¨ç¨‹åºçš„åé¦ˆã€‚æˆ‘ä»¬æ ¹æ®æ¯ä¸ªå¾®æœåŠ¡çš„å‰¯æœ¬æ•°é‡å’Œå·¥ä½œè´Ÿè½½æ¥ç¡®å®šæ˜¯å¦ä¼šå‡ºç°æ€§èƒ½é—®é¢˜ã€‚ä¸ºé¢„æµ‹ä»»åŠ¡é€‰æ‹©åˆé€‚çš„äºŒåˆ†ç±»æ¨¡å‹è‡³å…³é‡è¦ã€‚ä»¥5ç§’çš„æ•°æ®æ”¶é›†é—´éš”ï¼Œæˆ‘ä»¬åœ¨æˆ‘ä»¬çš„é›†ç¾¤ä¸­æ”¶é›†äº†ä¸¤ä¸ªæ•°æ®é›†ï¼ŒåŒ…æ‹¬3.1kçš„ç«è½¦ç¥¨å†å²é‡‡æ ·æ•°æ®é›†(a)å’Œ1.5kçš„åœ¨çº¿ç²¾å“æ•°æ®é›†(B)ã€‚ä¸ºäº†å¯¹è¿™ä¸¤ä¸ªæ•°æ®é›†è¿›è¡Œè®­ç»ƒå’Œæµ‹è¯•ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†å››ç§ç»å…¸çš„æœºå™¨å­¦ä¹ æ–¹æ³•ï¼ŒåŒ…æ‹¬æ”¯æŒå‘é‡æœº(SVM)ã€éšæœºæ£®æ—(Random Forest)ã€å¤šå±‚æ„ŸçŸ¥å™¨(Multilayer Perceptron)å’Œå†³ç­–æ ‘(Decision Tree)ã€‚è¡¨4ç»™å‡ºäº†å››ç§æ¨¡å‹å¯¹SLOè¿è§„é¢„æµ‹çš„å‡†ç¡®ç‡å’Œå¬å›ç‡ã€‚æ ¹æ®ä¸¤ä¸ªæ•°æ®é›†çš„æ•ˆæœï¼Œæˆ‘ä»¬æœ€ç»ˆé€‰æ‹©éšæœºæ£®æ—ä½œä¸ºSLOè¿ä¾‹é¢„æµ‹çš„ä¸»è¦ç®—æ³•ã€‚</p>
<p>ä¸ºäº†è¯æ˜SLOè¿ä¾‹é¢„æµ‹å™¨å¯ä»¥æ›¿ä»£æ¥è‡ªçœŸå®ç¯å¢ƒçš„åé¦ˆï¼Œæˆ‘ä»¬å°†ä½¿ç”¨SLOè¿ä¾‹é¢„æµ‹å™¨çš„PBScalerä¸ä»åœ¨çº¿ç³»ç»Ÿæ”¶é›†åé¦ˆçš„MicroScalerè¿›è¡Œäº†æ¯”è¾ƒã€‚æˆ‘ä»¬å°†çªå‘å·¥ä½œè´Ÿè½½æ³¨å…¥Online Boutiqueï¼Œå¹¶ä»…ä½¿ä¸€ä¸ªå¾®æœåŠ¡å¼‚å¸¸ï¼Œä»¥æ¶ˆé™¤ä¸¤ç§æ–¹æ³•åœ¨ç“¶é¢ˆå®šä½æ–¹é¢çš„å·®å¼‚ã€‚å¦‚å›¾11æ‰€ç¤ºï¼Œåœ¨é¢„æµ‹å™¨çš„å¼•å¯¼ä¸‹ï¼ŒPBScalerçš„å†³ç­–å°è¯•æ¬¡æ•°å’Œé¢‘ç‡è¿œä½äºMicroScalerã€‚å‡å°‘é›†ç¾¤ä¸­çš„åœ¨çº¿å°è¯•å°†æ˜æ˜¾é™ä½æŒ¯è¡çš„é£é™©ã€‚</p>
<p><strong>5 Conclusion</strong></p>
<p>æœ¬æ–‡ä»‹ç»äº†PBScalerï¼Œä¸€ä¸ªç“¶é¢ˆæ„ŸçŸ¥è‡ªåŠ¨ä¼¸ç¼©æ¡†æ¶ï¼Œæ—¨åœ¨é˜²æ­¢åŸºäºå¾®æœåŠ¡çš„åº”ç”¨ç¨‹åºçš„æ€§èƒ½é€€åŒ–ã€‚PBScalerä½¿ç”¨æœåŠ¡ç½‘æ ¼æŠ€æœ¯æ”¶é›†åº”ç”¨ç¨‹åºçš„å®æ—¶æ€§èƒ½æŒ‡æ ‡ï¼Œå¹¶åŠ¨æ€æ„å»ºå¾®æœåŠ¡ä¹‹é—´çš„å…³è”å›¾ã€‚ä¸ºäº†å¤„ç†ç”±å¤–éƒ¨åŠ¨æ€å·¥ä½œè´Ÿè½½å’Œå¾®æœåŠ¡ä¹‹é—´å¤æ‚è°ƒç”¨å¼•èµ·çš„å¾®æœåŠ¡å¼‚å¸¸ï¼ŒPBScaleré‡‡ç”¨åŸºäºæ‹“æ‰‘åŠ¿ç†è®ºçš„éšæœºæ¸¸åŠ¨ç®—æ³•TopoRankæ¥è¯†åˆ«ç“¶é¢ˆå¾®æœåŠ¡ã€‚æ­¤å¤–ï¼ŒPBScaleré‡‡ç”¨ç¦»çº¿è¿›åŒ–ç®—æ³•ï¼Œåœ¨SLOè¿è§„é¢„æµ‹å™¨çš„æŒ‡å¯¼ä¸‹ä¼˜åŒ–ç¼©æ”¾ç­–ç•¥ã€‚å®éªŒç»“æœè¡¨æ˜ï¼ŒPBScalerå¯ä»¥åœ¨æœ€å°åŒ–èµ„æºæ¶ˆè€—çš„åŒæ—¶å®ç°è¾ƒä½çš„SLOè¿è§„ã€‚åœ¨æœªæ¥ï¼Œæˆ‘ä»¬è®¡åˆ’ä»ä»¥ä¸‹ä¸¤ä¸ªæ–¹é¢æ”¹è¿›æˆ‘ä»¬çš„å·¥ä½œã€‚é¦–å…ˆï¼Œæˆ‘ä»¬å°†æ¢ç´¢åœ¨ç»†ç²’åº¦èµ„æº(ä¾‹å¦‚ï¼ŒCPUå’Œå†…å­˜)ç®¡ç†ä¸­ä½¿ç”¨ç“¶é¢ˆæ„ŸçŸ¥çš„æ½œåŠ›ã€‚å…¶æ¬¡ï¼Œæˆ‘ä»¬å°†æ¢è®¨å¦‚ä½•è§„é¿è‡ªæ‰©å±•ä¸­æœ‰çŠ¶æ€å¾®æœåŠ¡çš„å¹²æ‰°ï¼Œå› ä¸ºæœ‰çŠ¶æ€å¾®æœåŠ¡çš„æ€§èƒ½ä¸‹é™å¯èƒ½ä¼šç ´åè‡ªæ‰©å±•æ§åˆ¶å™¨ã€‚ç¬¬ä¸‰ï¼Œæé«˜å¤§è§„æ¨¡å¾®æœåŠ¡ç³»ç»Ÿæ€§èƒ½ç“¶é¢ˆåˆ†æçš„æ•ˆç‡ã€‚</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Courses/" rel="tag">Courses</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-docker"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/06/17/docker/"
    >docker</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/06/17/docker/" class="article-date">
  <time datetime="2023-06-17T09:13:50.000Z" itemprop="datePublished">2023-06-17</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/java/">java</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h1><h2 id="dockerå®¹å™¨ä½¿ç”¨"><a href="#dockerå®¹å™¨ä½¿ç”¨" class="headerlink" title="dockerå®¹å™¨ä½¿ç”¨"></a>dockerå®¹å™¨ä½¿ç”¨</h2><h3 id="Pull-images"><a href="#Pull-images" class="headerlink" title="Pull images"></a><strong>Pull images</strong></h3><p><code>docker pull</code> å¯ä»¥æ¥è½½å…¥é•œåƒ</p>
<h3 id="Run-containers"><a href="#Run-containers" class="headerlink" title="Run containers"></a><strong>Run containers</strong></h3><p><code>docker run -it ubuntu /bin/bash</code></p>
<p>å‚æ•°è¯´æ˜ï¼š</p>
<ul>
<li><strong>-i</strong>: äº¤äº’å¼æ“ä½œã€‚</li>
<li><strong>-t</strong>: ç»ˆç«¯ã€‚</li>
<li><strong>ubuntu</strong>: ubuntu é•œåƒã€‚</li>
<li><strong>&#x2F;bin&#x2F;bash</strong>ï¼šæ”¾åœ¨é•œåƒååçš„æ˜¯å‘½ä»¤ï¼Œè¿™é‡Œæˆ‘ä»¬å¸Œæœ›æœ‰ä¸ªäº¤äº’å¼ Shellï¼Œå› æ­¤ç”¨çš„æ˜¯ &#x2F;bin&#x2F;bashã€‚</li>
</ul>
<h3 id="Exit-terminal"><a href="#Exit-terminal" class="headerlink" title="Exit terminal"></a><strong>E</strong>xit terminal</h3><p><code>exit</code></p>
<h3 id="æŸ¥çœ‹æ‰€æœ‰çš„å®¹å™¨å‘½ä»¤å¦‚ä¸‹ï¼š"><a href="#æŸ¥çœ‹æ‰€æœ‰çš„å®¹å™¨å‘½ä»¤å¦‚ä¸‹ï¼š" class="headerlink" title="æŸ¥çœ‹æ‰€æœ‰çš„å®¹å™¨å‘½ä»¤å¦‚ä¸‹ï¼š"></a><strong>æŸ¥çœ‹æ‰€æœ‰çš„å®¹å™¨å‘½ä»¤å¦‚ä¸‹ï¼š</strong></h3><p><code>docker ps -a</code></p>
<p>ç„¶åå¯ä»¥ç”¨</p>
<p><code>docker start</code>æ¥å¯åŠ¨å·²ç»å…³é—­çš„å®¹å™¨</p>
<p><code>docker stop</code>æ¥å…³é—­å®¹å™¨</p>
<p><code>docker restart</code></p>
<h3 id="è¿›å…¥å®¹å™¨"><a href="#è¿›å…¥å®¹å™¨" class="headerlink" title="è¿›å…¥å®¹å™¨"></a><strong>è¿›å…¥å®¹å™¨</strong></h3><p>åœ¨ä½¿ç”¨ <strong>-d</strong> å‚æ•°æ—¶ï¼Œå®¹å™¨å¯åŠ¨åä¼šè¿›å…¥åå°ã€‚æ­¤æ—¶æƒ³è¦è¿›å…¥å®¹å™¨ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æŒ‡ä»¤è¿›å…¥ï¼š</p>
<ul>
<li><strong>docker attach</strong></li>
<li><strong>docker exec</strong>ï¼šæ¨èå¤§å®¶ä½¿ç”¨ docker exec å‘½ä»¤ï¼Œå› ä¸ºæ­¤å‘½ä»¤ä¼šé€€å‡ºå®¹å™¨ç»ˆç«¯ï¼Œä½†ä¸ä¼šå¯¼è‡´å®¹å™¨çš„åœæ­¢ã€‚</li>
</ul>
<p><strong>attach å‘½ä»¤</strong>ï¼Œå¦‚æœä»è¿™ä¸ªå®¹å™¨é€€å‡ºï¼Œä¼šå¯¼è‡´å®¹å™¨çš„åœæ­¢ã€‚</p>
<h3 id="å¯¼å‡ºæˆ–è€…å¯¼å…¥å®¹å™¨"><a href="#å¯¼å‡ºæˆ–è€…å¯¼å…¥å®¹å™¨" class="headerlink" title="å¯¼å‡ºæˆ–è€…å¯¼å…¥å®¹å™¨"></a><strong>å¯¼å‡ºæˆ–è€…å¯¼å…¥å®¹å™¨</strong></h3><p><strong>å¯¼å‡ºå®¹å™¨</strong></p>
<p>å¦‚æœè¦å¯¼å‡ºæœ¬åœ°æŸä¸ªå®¹å™¨ï¼Œå¯ä»¥ä½¿ç”¨ <strong>docker export</strong> å‘½ä»¤ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">export</span> 1e560fca3906 &gt; ubuntu.tar</span><br></pre></td></tr></table></figure>

<p><strong>å¯¼å…¥å®¹å™¨å¿«ç…§</strong></p>
<p>å¯ä»¥ä½¿ç”¨ docker import ä»å®¹å™¨å¿«ç…§æ–‡ä»¶ä¸­å†å¯¼å…¥ä¸ºé•œåƒï¼Œä»¥ä¸‹å®ä¾‹å°†å¿«ç…§æ–‡ä»¶ ubuntu.tar å¯¼å…¥åˆ°é•œåƒ test&#x2F;ubuntu:v1:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> docker/ubuntu.tar | docker import - <span class="built_in">test</span>/ubuntu:v1</span><br></pre></td></tr></table></figure>

<p>æ­¤å¤–ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æŒ‡å®š URL æˆ–è€…æŸä¸ªç›®å½•æ¥å¯¼å…¥ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker import http://example.com/exampleimage.tgz example/imagerep</span><br></pre></td></tr></table></figure>

<h3 id="åˆ é™¤å®¹å™¨"><a href="#åˆ é™¤å®¹å™¨" class="headerlink" title="åˆ é™¤å®¹å™¨"></a><strong>åˆ é™¤å®¹å™¨</strong></h3><p>åˆ é™¤å®¹å™¨ä½¿ç”¨ <strong>docker rm</strong> å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">rm</span> -f 1e560fca3906</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢çš„å‘½ä»¤å¯ä»¥æ¸…ç†æ‰æ‰€æœ‰å¤„äºç»ˆæ­¢çŠ¶æ€çš„å®¹å™¨ã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker container prune</span><br></pre></td></tr></table></figure>



<h3 id="è¿è¡Œweb"><a href="#è¿è¡Œweb" class="headerlink" title="è¿è¡Œweb"></a><strong>è¿è¡Œweb</strong></h3><p>å‰é¢æˆ‘ä»¬è¿è¡Œçš„å®¹å™¨å¹¶æ²¡æœ‰ä¸€äº›ä»€ä¹ˆç‰¹åˆ«çš„ç”¨å¤„ã€‚</p>
<p>æ¥ä¸‹æ¥è®©æˆ‘ä»¬å°è¯•ä½¿ç”¨ docker æ„å»ºä¸€ä¸ª web åº”ç”¨ç¨‹åºã€‚</p>
<p>æˆ‘ä»¬å°†åœ¨dockerå®¹å™¨ä¸­è¿è¡Œä¸€ä¸ª Python Flask åº”ç”¨æ¥è¿è¡Œä¸€ä¸ªwebåº”ç”¨ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker pull training/webapp  <span class="comment"># è½½å…¥é•œåƒ</span></span><br><span class="line">docker run -d -P training/webapp python app.py</span><br></pre></td></tr></table></figure>

<ul>
<li>**-d:**è®©å®¹å™¨åœ¨åå°è¿è¡Œã€‚</li>
<li>**-P:**å°†å®¹å™¨å†…éƒ¨ä½¿ç”¨çš„ç½‘ç»œç«¯å£éšæœºæ˜ å°„åˆ°æˆ‘ä»¬ä½¿ç”¨çš„ä¸»æœºä¸Šã€‚</li>
</ul>
<p><strong>ç«¯å£ä¿¡æ¯</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PORTS</span><br><span class="line">0.0.0.0:32769-&gt;5000/tcp</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ -p å‚æ•°æ¥è®¾ç½®ä¸ä¸€æ ·çš„ç«¯å£</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker run -d -p 5000:5000 training/webapp python app.py</span><br></pre></td></tr></table></figure>



<h3 id="ç½‘ç»œç«¯å£çš„å¿«æ·æ–¹å¼"><a href="#ç½‘ç»œç«¯å£çš„å¿«æ·æ–¹å¼" class="headerlink" title="ç½‘ç»œç«¯å£çš„å¿«æ·æ–¹å¼"></a>ç½‘ç»œç«¯å£çš„å¿«æ·æ–¹å¼</h3><p>é€šè¿‡ <strong>docker ps</strong> å‘½ä»¤å¯ä»¥æŸ¥çœ‹åˆ°å®¹å™¨çš„ç«¯å£æ˜ å°„ï¼Œ<strong>docker</strong> è¿˜æä¾›äº†å¦ä¸€ä¸ªå¿«æ·æ–¹å¼ <strong>docker port</strong>ï¼Œä½¿ç”¨ <strong>docker port</strong> å¯ä»¥æŸ¥çœ‹æŒ‡å®š ï¼ˆID æˆ–è€…åå­—ï¼‰å®¹å™¨çš„æŸä¸ªç¡®å®šç«¯å£æ˜ å°„åˆ°å®¿ä¸»æœºçš„ç«¯å£å·ã€‚</p>
<p>ä¸Šé¢æˆ‘ä»¬åˆ›å»ºçš„ web åº”ç”¨å®¹å™¨ ID ä¸º <strong>bf08b7f2cd89</strong> åå­—ä¸º <strong>wizardly_chandrasekhar</strong>ã€‚</p>
<p>æˆ‘å¯ä»¥ä½¿ç”¨ <strong>docker port bf08b7f2cd89</strong> æˆ– <strong>docker port wizardly_chandrasekhar</strong> æ¥æŸ¥çœ‹å®¹å™¨ç«¯å£çš„æ˜ å°„æƒ…å†µã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ docker port bf08b7f2cd89</span><br><span class="line">5000/tcp -&gt; 0.0.0.0:5000</span><br><span class="line"></span><br><span class="line">$ docker port wizardly_chandrasekhar</span><br><span class="line">5000/tcp -&gt; 0.0.0.0:5000</span><br></pre></td></tr></table></figure>



<h3 id="æŸ¥çœ‹-WEB-åº”ç”¨ç¨‹åºæ—¥å¿—"><a href="#æŸ¥çœ‹-WEB-åº”ç”¨ç¨‹åºæ—¥å¿—" class="headerlink" title="æŸ¥çœ‹ WEB åº”ç”¨ç¨‹åºæ—¥å¿—"></a>æŸ¥çœ‹ WEB åº”ç”¨ç¨‹åºæ—¥å¿—</h3><p>docker logs [IDæˆ–è€…åå­—] å¯ä»¥æŸ¥çœ‹å®¹å™¨å†…éƒ¨çš„æ ‡å‡†è¾“å‡ºã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">runoob@runoob:~$ docker logs -f bf08b7f2cd89</span><br><span class="line"> * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)</span><br><span class="line">192.168.239.1 - - [09/May/2016 16:30:37] <span class="string">&quot;GET / HTTP/1.1&quot;</span> 200 -</span><br><span class="line">192.168.239.1 - - [09/May/2016 16:30:37] <span class="string">&quot;GET /favicon.ico HTTP/1.1&quot;</span> 404 -</span><br></pre></td></tr></table></figure>

<p><strong>-f:</strong> è®© <strong>docker logs</strong> åƒä½¿ç”¨ <strong>tail -f</strong> ä¸€æ ·æ¥è¾“å‡ºå®¹å™¨å†…éƒ¨çš„æ ‡å‡†è¾“å‡ºã€‚</p>
<p>ä»ä¸Šé¢ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°åº”ç”¨ç¨‹åºä½¿ç”¨çš„æ˜¯ 5000 ç«¯å£å¹¶ä¸”èƒ½å¤ŸæŸ¥çœ‹åˆ°åº”ç”¨ç¨‹åºçš„è®¿é—®æ—¥å¿—ã€‚</p>
<h3 id="æŸ¥çœ‹WEBåº”ç”¨ç¨‹åºå®¹å™¨çš„è¿›ç¨‹"><a href="#æŸ¥çœ‹WEBåº”ç”¨ç¨‹åºå®¹å™¨çš„è¿›ç¨‹" class="headerlink" title="æŸ¥çœ‹WEBåº”ç”¨ç¨‹åºå®¹å™¨çš„è¿›ç¨‹"></a>æŸ¥çœ‹WEBåº”ç”¨ç¨‹åºå®¹å™¨çš„è¿›ç¨‹</h3><p>æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ docker top æ¥æŸ¥çœ‹å®¹å™¨å†…éƒ¨è¿è¡Œçš„è¿›ç¨‹</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">runoob@runoob:~$ docker top wizardly_chandrasekhar</span><br><span class="line">UID     PID         PPID          ...       TIME                CMD</span><br><span class="line">root    23245       23228         ...       00:00:00            python app.py</span><br></pre></td></tr></table></figure>



<h3 id="æ£€æŸ¥-WEB-åº”ç”¨ç¨‹åº"><a href="#æ£€æŸ¥-WEB-åº”ç”¨ç¨‹åº" class="headerlink" title="æ£€æŸ¥ WEB åº”ç”¨ç¨‹åº"></a>æ£€æŸ¥ WEB åº”ç”¨ç¨‹åº</h3><p>ä½¿ç”¨ <strong>docker inspect</strong> æ¥æŸ¥çœ‹ Docker çš„åº•å±‚ä¿¡æ¯ã€‚å®ƒä¼šè¿”å›ä¸€ä¸ª JSON æ–‡ä»¶è®°å½•ç€ Docker å®¹å™¨çš„é…ç½®å’ŒçŠ¶æ€ä¿¡æ¯ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">runoob@runoob:~$ docker inspect wizardly_chandrasekhar</span><br><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&quot;Id&quot;</span>: <span class="string">&quot;bf08b7f2cd897b5964943134aa6d373e355c286db9b9885b1f60b6e8f82b2b85&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Created&quot;</span>: <span class="string">&quot;2018-09-17T01:41:26.174228707Z&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Path&quot;</span>: <span class="string">&quot;python&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Args&quot;</span>: [</span><br><span class="line">            <span class="string">&quot;app.py&quot;</span></span><br><span class="line">        ],</span><br><span class="line">        <span class="string">&quot;State&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;Status&quot;</span>: <span class="string">&quot;running&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Running&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="string">&quot;Paused&quot;</span>: <span class="literal">false</span>,9</span><br><span class="line">            <span class="string">&quot;Restarting&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="string">&quot;OOMKilled&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="string">&quot;Dead&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="string">&quot;Pid&quot;</span>: 23245,</span><br><span class="line">            <span class="string">&quot;ExitCode&quot;</span>: 0,</span><br><span class="line">            <span class="string">&quot;Error&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">            <span class="string">&quot;StartedAt&quot;</span>: <span class="string">&quot;2018-09-17T01:41:26.494185806Z&quot;</span>,</span><br><span class="line">            <span class="string">&quot;FinishedAt&quot;</span>: <span class="string">&quot;0001-01-01T00:00:00Z&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">......</span><br></pre></td></tr></table></figure>

<h3 id="é‡å¯WEBåº”ç”¨å®¹å™¨"><a href="#é‡å¯WEBåº”ç”¨å®¹å™¨" class="headerlink" title="é‡å¯WEBåº”ç”¨å®¹å™¨"></a>é‡å¯WEBåº”ç”¨å®¹å™¨</h3><p>å·²ç»åœæ­¢çš„å®¹å™¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‘½ä»¤ docker start æ¥å¯åŠ¨ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">runoob@runoob:~$ docker start wizardly_chandrasekhar</span><br><span class="line">wizardly_chandrasekhar</span><br></pre></td></tr></table></figure>

<p>docker ps -l æŸ¥è¯¢æœ€åä¸€æ¬¡åˆ›å»ºçš„å®¹å™¨ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#  docker ps -l </span><br><span class="line">CONTAINER ID        IMAGE                             PORTS                     NAMES</span><br><span class="line">bf08b7f2cd89        training/webapp     ...        0.0.0.0:5000-&gt;5000/tcp    wizardly_chandrasekhar</span><br></pre></td></tr></table></figure>

<p>æ­£åœ¨è¿è¡Œçš„å®¹å™¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <strong>docker restart</strong> å‘½ä»¤æ¥é‡å¯ã€‚</p>
<hr>
<h3 id="ç§»é™¤WEBåº”ç”¨å®¹å™¨"><a href="#ç§»é™¤WEBåº”ç”¨å®¹å™¨" class="headerlink" title="ç§»é™¤WEBåº”ç”¨å®¹å™¨"></a>ç§»é™¤WEBåº”ç”¨å®¹å™¨</h3><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ docker rm å‘½ä»¤æ¥åˆ é™¤ä¸éœ€è¦çš„å®¹å™¨</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">runoob@runoob:~$ docker <span class="built_in">rm</span> wizardly_chandrasekhar  </span><br><span class="line">wizardly_chandrasekhar</span><br></pre></td></tr></table></figure>

<p>åˆ é™¤å®¹å™¨æ—¶ï¼Œå®¹å™¨å¿…é¡»æ˜¯åœæ­¢çŠ¶æ€ï¼Œå¦åˆ™ä¼šæŠ¥å¦‚ä¸‹é”™è¯¯</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">runoob@runoob:~$ docker <span class="built_in">rm</span> wizardly_chandrasekhar</span><br><span class="line">Error response from daemon: You cannot remove a running container bf08b7f2cd897b5964943134aa6d373e355c286db9b9885b1f60b6e8f82b2b85. Stop the container before attempting removal or force remove</span><br></pre></td></tr></table></figure>



<h2 id="Dockeré•œåƒ"><a href="#Dockeré•œåƒ" class="headerlink" title="Dockeré•œåƒ"></a>Dockeré•œåƒ</h2><p><strong>docker images</strong></p>
<p>å„ä¸ªé€‰é¡¹è¯´æ˜:</p>
<ul>
<li><strong>REPOSITORYï¼š</strong>è¡¨ç¤ºé•œåƒçš„ä»“åº“æº</li>
<li><strong>TAGï¼š</strong>é•œåƒçš„æ ‡ç­¾</li>
<li><strong>IMAGE IDï¼š</strong>é•œåƒID</li>
<li><strong>CREATEDï¼š</strong>é•œåƒåˆ›å»ºæ—¶é—´</li>
<li><strong>SIZEï¼š</strong>é•œåƒå¤§å°</li>
</ul>
<p>åŒä¸€ä»“åº“æºå¯ä»¥æœ‰å¤šä¸ª TAGï¼Œä»£è¡¨è¿™ä¸ªä»“åº“æºçš„ä¸åŒä¸ªç‰ˆæœ¬ï¼Œå¦‚ ubuntu ä»“åº“æºé‡Œï¼Œæœ‰ 15.10ã€14.04 ç­‰å¤šä¸ªä¸åŒçš„ç‰ˆæœ¬ï¼Œæˆ‘ä»¬ä½¿ç”¨ REPOSITORY:TAG æ¥å®šä¹‰ä¸åŒçš„é•œåƒã€‚</p>
<p>æ‰€ä»¥ï¼Œæˆ‘ä»¬å¦‚æœè¦ä½¿ç”¨ç‰ˆæœ¬ä¸º15.10çš„ubuntuç³»ç»Ÿé•œåƒæ¥è¿è¡Œå®¹å™¨æ—¶ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -t -i ubuntu:15.10 /bin/bash </span><br></pre></td></tr></table></figure>

<p>å¦‚æœä½ ä¸æŒ‡å®šä¸€ä¸ªé•œåƒçš„ç‰ˆæœ¬æ ‡ç­¾ï¼Œä¾‹å¦‚ä½ åªä½¿ç”¨ ubuntuï¼Œdocker å°†é»˜è®¤ä½¿ç”¨ ubuntu:latest é•œåƒã€‚</p>
<h3 id="è·å–ä¸€ä¸ªæ–°çš„é•œåƒ"><a href="#è·å–ä¸€ä¸ªæ–°çš„é•œåƒ" class="headerlink" title="è·å–ä¸€ä¸ªæ–°çš„é•œåƒ"></a>è·å–ä¸€ä¸ªæ–°çš„é•œåƒ</h3><p>å½“æˆ‘ä»¬åœ¨æœ¬åœ°ä¸»æœºä¸Šä½¿ç”¨ä¸€ä¸ªä¸å­˜åœ¨çš„é•œåƒæ—¶ Docker å°±ä¼šè‡ªåŠ¨ä¸‹è½½è¿™ä¸ªé•œåƒã€‚å¦‚æœæˆ‘ä»¬æƒ³é¢„å…ˆä¸‹è½½è¿™ä¸ªé•œåƒï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ docker pull å‘½ä»¤æ¥ä¸‹è½½å®ƒã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Crunoob@runoob:~$ docker pull ubuntu:13.10</span><br><span class="line">13.10: Pulling from library/ubuntu</span><br><span class="line">6599cadaf950: Pull complete </span><br><span class="line">23eda618d451: Pull complete </span><br><span class="line">f0be3084efe9: Pull complete </span><br><span class="line">52de432f084b: Pull complete </span><br><span class="line">a3ed95caeb02: Pull complete </span><br><span class="line">Digest: sha256:15b79a6654811c8d992ebacdfbd5152fcf3d165e374e264076aa435214a947a3</span><br><span class="line">Status: Downloaded newer image <span class="keyword">for</span> ubuntu:13.10</span><br></pre></td></tr></table></figure>

<p>ä¸‹è½½å®Œæˆåï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™ä¸ªé•œåƒæ¥è¿è¡Œå®¹å™¨ã€‚</p>
<h3 id="æŸ¥æ‰¾é•œåƒ"><a href="#æŸ¥æ‰¾é•œåƒ" class="headerlink" title="æŸ¥æ‰¾é•œåƒ"></a>æŸ¥æ‰¾é•œåƒ</h3><p>æˆ‘ä»¬å¯ä»¥ä» Docker Hub ç½‘ç«™æ¥æœç´¢é•œåƒï¼ŒDocker Hub ç½‘å€ä¸ºï¼š <strong><a target="_blank" rel="noopener" href="https://hub.docker.com/">https://hub.docker.com/</a></strong></p>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ docker search å‘½ä»¤æ¥æœç´¢é•œåƒã€‚æ¯”å¦‚æˆ‘ä»¬éœ€è¦ä¸€ä¸ª httpd çš„é•œåƒæ¥ä½œä¸ºæˆ‘ä»¬çš„ web æœåŠ¡ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ docker search å‘½ä»¤æœç´¢ httpd æ¥å¯»æ‰¾é€‚åˆæˆ‘ä»¬çš„é•œåƒã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker search httpd</span><br></pre></td></tr></table></figure>



<p><strong>NAME:</strong> é•œåƒä»“åº“æºçš„åç§°</p>
<p><strong>DESCRIPTION:</strong> é•œåƒçš„æè¿°</p>
<p><strong>OFFICIAL:</strong> æ˜¯å¦ docker å®˜æ–¹å‘å¸ƒ</p>
<p><strong>stars:</strong> ç±»ä¼¼ Github é‡Œé¢çš„ starï¼Œè¡¨ç¤ºç‚¹èµã€å–œæ¬¢çš„æ„æ€ã€‚</p>
<p><strong>AUTOMATED:</strong> è‡ªåŠ¨æ„å»ºã€‚</p>
<h3 id="æ‹–å–é•œåƒ"><a href="#æ‹–å–é•œåƒ" class="headerlink" title="æ‹–å–é•œåƒ"></a>æ‹–å–é•œåƒ</h3><p>æˆ‘ä»¬å†³å®šä½¿ç”¨ä¸Šå›¾ä¸­çš„ httpd å®˜æ–¹ç‰ˆæœ¬çš„é•œåƒï¼Œä½¿ç”¨å‘½ä»¤ docker pull æ¥ä¸‹è½½é•œåƒã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">runoob@runoob:~$ docker pull httpd</span><br><span class="line">Using default tag: latest</span><br><span class="line">latest: Pulling from library/httpd</span><br><span class="line">8b87079b7a06: Pulling fs layer </span><br><span class="line">a3ed95caeb02: Download complete </span><br><span class="line">0d62ec9c6a76: Download complete </span><br><span class="line">a329d50397b9: Download complete </span><br><span class="line">ea7c1f032b5c: Waiting </span><br><span class="line">be44112b72c7: Waiting</span><br></pre></td></tr></table></figure>

<p>ä¸‹è½½å®Œæˆåï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªé•œåƒäº†ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">runoob@runoob:~$ docker run httpd</span><br></pre></td></tr></table></figure>



<h3 id="åˆ é™¤é•œåƒ"><a href="#åˆ é™¤é•œåƒ" class="headerlink" title="åˆ é™¤é•œåƒ"></a>åˆ é™¤é•œåƒ</h3><p>é•œåƒåˆ é™¤ä½¿ç”¨ <strong>docker rmi</strong> å‘½ä»¤ï¼Œæ¯”å¦‚æˆ‘ä»¬åˆ é™¤ hello-world é•œåƒï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker rmi hello-world</span><br></pre></td></tr></table></figure>





<h3 id="å½“æˆ‘ä»¬ä»-docker-é•œåƒä»“åº“ä¸­ä¸‹è½½çš„é•œåƒä¸èƒ½æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼å¯¹é•œåƒè¿›è¡Œæ›´æ”¹ã€‚"><a href="#å½“æˆ‘ä»¬ä»-docker-é•œåƒä»“åº“ä¸­ä¸‹è½½çš„é•œåƒä¸èƒ½æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼å¯¹é•œåƒè¿›è¡Œæ›´æ”¹ã€‚" class="headerlink" title="å½“æˆ‘ä»¬ä» docker é•œåƒä»“åº“ä¸­ä¸‹è½½çš„é•œåƒä¸èƒ½æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼å¯¹é•œåƒè¿›è¡Œæ›´æ”¹ã€‚"></a>å½“æˆ‘ä»¬ä» docker é•œåƒä»“åº“ä¸­ä¸‹è½½çš„é•œåƒä¸èƒ½æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼å¯¹é•œåƒè¿›è¡Œæ›´æ”¹ã€‚</h3><ul>
<li>1ã€ä»å·²ç»åˆ›å»ºçš„å®¹å™¨ä¸­æ›´æ–°é•œåƒï¼Œå¹¶ä¸”æäº¤è¿™ä¸ªé•œåƒ</li>
<li>2ã€ä½¿ç”¨ Dockerfile æŒ‡ä»¤æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„é•œåƒ</li>
</ul>
<h4 id="æ›´æ–°é•œåƒ"><a href="#æ›´æ–°é•œåƒ" class="headerlink" title="æ›´æ–°é•œåƒ"></a>æ›´æ–°é•œåƒ</h4><p>æ›´æ–°é•œåƒä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨é•œåƒæ¥åˆ›å»ºä¸€ä¸ªå®¹å™¨ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">runoob@runoob:~$ docker run -t -i ubuntu:15.10 /bin/bash</span><br><span class="line">root@e218edb10161:/<span class="comment"># </span></span><br></pre></td></tr></table></figure>

<p>åœ¨è¿è¡Œçš„å®¹å™¨å†…ä½¿ç”¨ <strong>apt-get update</strong> å‘½ä»¤è¿›è¡Œæ›´æ–°ã€‚</p>
<p>åœ¨å®Œæˆæ“ä½œä¹‹åï¼Œè¾“å…¥ exit å‘½ä»¤æ¥é€€å‡ºè¿™ä¸ªå®¹å™¨ã€‚</p>
<p>æ­¤æ—¶ ID ä¸º e218edb10161 çš„å®¹å™¨ï¼Œæ˜¯æŒ‰æˆ‘ä»¬çš„éœ€æ±‚æ›´æ”¹çš„å®¹å™¨ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å‘½ä»¤ docker commit æ¥æäº¤å®¹å™¨å‰¯æœ¬ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker commit -m=<span class="string">&quot;has update&quot;</span> -a=<span class="string">&quot;runoob&quot;</span> e218edb10161 runoob/ubuntu:v2</span><br><span class="line">sha256:70bf1840fd7c0d2d8ef0a42a817eb29f854c1af8f7c59fc03ac7bdee9545aff8</span><br></pre></td></tr></table></figure>

<p>å„ä¸ªå‚æ•°è¯´æ˜ï¼š</p>
<ul>
<li><strong>-m:</strong> æäº¤çš„æè¿°ä¿¡æ¯</li>
<li><strong>-a:</strong> æŒ‡å®šé•œåƒä½œè€…</li>
<li><strong>e218edb10161ï¼š</strong>å®¹å™¨ ID</li>
<li><strong>runoob&#x2F;ubuntu:v2:</strong> æŒ‡å®šè¦åˆ›å»ºçš„ç›®æ ‡é•œåƒå</li>
</ul>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <strong>docker images</strong> å‘½ä»¤æ¥æŸ¥çœ‹æˆ‘ä»¬çš„æ–°é•œåƒ <strong>runoob&#x2F;ubuntu:v2</strong>ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">runoob@runoob:~$ docker images</span><br><span class="line">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">runoob/ubuntu       v2                  70bf1840fd7c        15 seconds ago      158.5 MB</span><br><span class="line">ubuntu              14.04               90d5884b1ee0        5 days ago          188 MB</span><br><span class="line">php                 5.6                 f40e9e0f10c8        9 days ago          444.8 MB</span><br><span class="line">nginx               latest              6f8d099c3adc        12 days ago         182.7 MB</span><br><span class="line">mysql               5.6                 f2e8d6c772c0        3 weeks ago         324.6 MB</span><br><span class="line">httpd               latest              02ef73cf1bc0        3 weeks ago         194.4 MB</span><br><span class="line">ubuntu              15.10               4e3b13c8a266        4 weeks ago         136.3 MB</span><br><span class="line">hello-world         latest              690ed74de00f        6 months ago        960 B</span><br><span class="line">training/webapp     latest              6fae60ef3446        12 months ago       348.8 MB</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨æˆ‘ä»¬çš„æ–°é•œåƒ <strong>runoob&#x2F;ubuntu</strong> æ¥å¯åŠ¨ä¸€ä¸ªå®¹å™¨</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">runoob@runoob:~$ docker run -t -i runoob/ubuntu:v2 /bin/bash                            </span><br><span class="line">root@1a9fbdeb5da3:/<span class="comment">#</span></span><br></pre></td></tr></table></figure>



<h4 id="æ„å»ºé•œåƒ"><a href="#æ„å»ºé•œåƒ" class="headerlink" title="æ„å»ºé•œåƒ"></a>æ„å»ºé•œåƒ</h4><p>æˆ‘ä»¬ä½¿ç”¨å‘½ä»¤ <strong>docker build</strong> ï¼Œ ä»é›¶å¼€å§‹æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„é•œåƒã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ª Dockerfile æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«ä¸€ç»„æŒ‡ä»¤æ¥å‘Šè¯‰ Docker å¦‚ä½•æ„å»ºæˆ‘ä»¬çš„é•œåƒã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">runoob@runoob:~$ <span class="built_in">cat</span> Dockerfile </span><br><span class="line">FROM    centos:6.7</span><br><span class="line">MAINTAINER      Fisher <span class="string">&quot;fisher@sudops.com&quot;</span></span><br><span class="line"></span><br><span class="line">RUN     /bin/echo <span class="string">&#x27;root:123456&#x27;</span> |chpasswd</span><br><span class="line">RUN     useradd runoob</span><br><span class="line">RUN     /bin/echo <span class="string">&#x27;runoob:123456&#x27;</span> |chpasswd</span><br><span class="line">RUN     /bin/echo -e <span class="string">&quot;LANG=\&quot;en_US.UTF-8\&quot;&quot;</span> &gt;/etc/default/local</span><br><span class="line">EXPOSE  22</span><br><span class="line">EXPOSE  80</span><br><span class="line">CMD     /usr/sbin/sshd -D</span><br></pre></td></tr></table></figure>

<p>æ¯ä¸€ä¸ªæŒ‡ä»¤éƒ½ä¼šåœ¨é•œåƒä¸Šåˆ›å»ºä¸€ä¸ªæ–°çš„å±‚ï¼Œæ¯ä¸€ä¸ªæŒ‡ä»¤çš„å‰ç¼€éƒ½å¿…é¡»æ˜¯å¤§å†™çš„ã€‚</p>
<p>ç¬¬ä¸€æ¡FROMï¼ŒæŒ‡å®šä½¿ç”¨å“ªä¸ªé•œåƒæº</p>
<p>RUN æŒ‡ä»¤å‘Šè¯‰docker åœ¨é•œåƒå†…æ‰§è¡Œå‘½ä»¤ï¼Œå®‰è£…äº†ä»€ä¹ˆã€‚ã€‚ã€‚</p>
<p>ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨ Dockerfile æ–‡ä»¶ï¼Œé€šè¿‡ docker build å‘½ä»¤æ¥æ„å»ºä¸€ä¸ªé•œåƒã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">runoob@runoob:~$ docker build -t runoob/centos:6.7 .</span><br><span class="line">Sending build context to Docker daemon 17.92 kB</span><br><span class="line">Step 1 : FROM centos:6.7</span><br><span class="line"> ---&amp;gt; d95b5ca17cc3</span><br><span class="line">Step 2 : MAINTAINER Fisher <span class="string">&quot;fisher@sudops.com&quot;</span></span><br><span class="line"> ---&amp;gt; Using cache</span><br><span class="line"> ---&amp;gt; 0c92299c6f03</span><br><span class="line">Step 3 : RUN /bin/echo <span class="string">&#x27;root:123456&#x27;</span> |chpasswd</span><br><span class="line"> ---&amp;gt; Using cache</span><br><span class="line"> ---&amp;gt; 0397ce2fbd0a</span><br><span class="line">Step 4 : RUN useradd runoob</span><br><span class="line">......</span><br></pre></td></tr></table></figure>

<p>å‚æ•°è¯´æ˜ï¼š</p>
<ul>
<li><strong>-t</strong> ï¼šæŒ‡å®šè¦åˆ›å»ºçš„ç›®æ ‡é•œåƒå</li>
<li><strong>.</strong> ï¼šDockerfile æ–‡ä»¶æ‰€åœ¨ç›®å½•ï¼Œå¯ä»¥æŒ‡å®šDockerfile çš„ç»å¯¹è·¯å¾„</li>
</ul>
<p>ä½¿ç”¨docker images æŸ¥çœ‹åˆ›å»ºçš„é•œåƒå·²ç»åœ¨åˆ—è¡¨ä¸­å­˜åœ¨,é•œåƒIDä¸º860c279d2fec</p>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ–°çš„é•œåƒæ¥åˆ›å»ºå®¹å™¨</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">runoob@runoob:~$ docker run -t -i runoob/centos:6.7  /bin/bash</span><br><span class="line">[root@41c28d18b5fb /]<span class="comment"># id runoob</span></span><br><span class="line">uid=500(runoob) gid=500(runoob) <span class="built_in">groups</span>=500(runoob)</span><br></pre></td></tr></table></figure>

<p>ä»ä¸Šé¢çœ‹åˆ°æ–°é•œåƒå·²ç»åŒ…å«æˆ‘ä»¬åˆ›å»ºçš„ç”¨æˆ· runoobã€‚</p>
<h4 id="è®¾ç½®é•œåƒæ ‡ç­¾"><a href="#è®¾ç½®é•œåƒæ ‡ç­¾" class="headerlink" title="è®¾ç½®é•œåƒæ ‡ç­¾"></a>è®¾ç½®é•œåƒæ ‡ç­¾</h4><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ docker tag å‘½ä»¤ï¼Œä¸ºé•œåƒæ·»åŠ ä¸€ä¸ªæ–°çš„æ ‡ç­¾ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">runoob@runoob:~$ docker tag 860c279d2fec runoob/centos:dev</span><br></pre></td></tr></table></figure>

<p>docker tag é•œåƒIDï¼Œè¿™é‡Œæ˜¯ 860c279d2fec ,ç”¨æˆ·åç§°ã€é•œåƒæºå(repository name)å’Œæ–°çš„æ ‡ç­¾å(tag)ã€‚</p>
<p>ä½¿ç”¨ docker images å‘½ä»¤å¯ä»¥çœ‹åˆ°ï¼ŒIDä¸º860c279d2fecçš„é•œåƒå¤šä¸€ä¸ªæ ‡ç­¾ã€‚</p>
<h2 id="Docker-å®¹å™¨è¿æ¥"><a href="#Docker-å®¹å™¨è¿æ¥" class="headerlink" title="Docker å®¹å™¨è¿æ¥"></a>Docker å®¹å™¨è¿æ¥</h2><p>è®©å¤–éƒ¨ä¹Ÿå¯ä»¥è®¿é—®è¿™äº›åº”ç”¨ï¼Œå¯ä»¥é€šè¿‡ <strong>-P</strong> æˆ– <strong>-p</strong> å‚æ•°æ¥æŒ‡å®šç«¯å£æ˜ å°„ã€‚</p>
<h3 id="ç½‘ç»œç«¯å£æ˜ å°„"><a href="#ç½‘ç»œç«¯å£æ˜ å°„" class="headerlink" title="ç½‘ç»œç«¯å£æ˜ å°„"></a>ç½‘ç»œç«¯å£æ˜ å°„</h3><p>æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª python åº”ç”¨çš„å®¹å™¨ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">runoob@runoob:~$ docker run -d -P training/webapp python app.py</span><br><span class="line">fce072cc88cee71b1cdceb57c2821d054a4a59f67da6b416fceb5593f059fc6d</span><br></pre></td></tr></table></figure>

<p>å¦å¤–ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šå®¹å™¨ç»‘å®šçš„ç½‘ç»œåœ°å€ï¼Œæ¯”å¦‚ç»‘å®š 127.0.0.1ã€‚</p>
<p>æˆ‘ä»¬ä½¿ç”¨ <strong>-P</strong> ç»‘å®šç«¯å£å·ï¼Œä½¿ç”¨ <strong>docker ps</strong> å¯ä»¥çœ‹åˆ°å®¹å™¨ç«¯å£ 5000 ç»‘å®šä¸»æœºç«¯å£ 32768ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">runoob@runoob:~$ docker ps</span><br><span class="line">CONTAINER ID    IMAGE               COMMAND            ...           PORTS                     NAMES</span><br><span class="line">fce072cc88ce    training/webapp     <span class="string">&quot;python app.py&quot;</span>    ...     0.0.0.0:32768-&gt;5000/tcp   grave_hopper</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ <strong>-p</strong> æ ‡è¯†æ¥æŒ‡å®šå®¹å™¨ç«¯å£ç»‘å®šåˆ°ä¸»æœºç«¯å£ã€‚</p>
<p>ä¸¤ç§æ–¹å¼çš„åŒºåˆ«æ˜¯:</p>
<ul>
<li><strong>-P :<strong>æ˜¯å®¹å™¨å†…éƒ¨ç«¯å£</strong>éšæœº</strong>æ˜ å°„åˆ°ä¸»æœºçš„ç«¯å£ã€‚</li>
<li><strong>-p :</strong> æ˜¯å®¹å™¨å†…éƒ¨ç«¯å£ç»‘å®šåˆ°<strong>æŒ‡å®š</strong>çš„ä¸»æœºç«¯å£ã€‚ï¼ˆä¸Šé¢çš„-Pçš„å°±æ˜¯éšæœºåˆ†é…çš„32768ç«¯å£ï¼Œè€Œä¸‹é¢çš„åˆ™åˆ†é…äº†ä¸»æœºçš„5000ç«¯å£ï¼‰</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">runoob@runoob:~$ docker run -d -p 5000:5000 training/webapp python app.py</span><br></pre></td></tr></table></figure>



<p>å¦å¤–ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šå®¹å™¨ç»‘å®šçš„ç½‘ç»œåœ°å€ï¼Œæ¯”å¦‚ç»‘å®š 127.0.0.1ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 127.0.0.1:5001:5000 training/webapp python app.py</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡è®¿é—® 127.0.0.1:5001 æ¥è®¿é—®å®¹å™¨çš„ 5000 ç«¯å£ã€‚</p>
<p>ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œé»˜è®¤éƒ½æ˜¯ç»‘å®š tcp ç«¯å£ï¼Œå¦‚æœè¦ç»‘å®š UDP ç«¯å£ï¼Œå¯ä»¥åœ¨ç«¯å£åé¢åŠ ä¸Š <strong>&#x2F;udp</strong>ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 127.0.0.1:5000:5000/udp training/webapp python app.py</span><br></pre></td></tr></table></figure>



<p><strong>docker port</strong> å‘½ä»¤å¯ä»¥è®©æˆ‘ä»¬å¿«æ·åœ°æŸ¥çœ‹ç«¯å£çš„ç»‘å®šæƒ…å†µã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">runoob@runoob:~$ docker port adoring_stonebraker 5000</span><br></pre></td></tr></table></figure>



<h3 id="Docker-å®¹å™¨äº’è”"><a href="#Docker-å®¹å™¨äº’è”" class="headerlink" title="Docker å®¹å™¨äº’è”"></a>Docker å®¹å™¨äº’è”</h3><p>ç«¯å£æ˜ å°„å¹¶ä¸æ˜¯å”¯ä¸€æŠŠ docker è¿æ¥åˆ°å¦ä¸€ä¸ªå®¹å™¨çš„æ–¹æ³•ã€‚</p>
<p>docker æœ‰ä¸€ä¸ªè¿æ¥ç³»ç»Ÿå…è®¸å°†å¤šä¸ªå®¹å™¨è¿æ¥åœ¨ä¸€èµ·ï¼Œå…±äº«è¿æ¥ä¿¡æ¯ã€‚</p>
<p>docker è¿æ¥ä¼šåˆ›å»ºä¸€ä¸ªçˆ¶å­å…³ç³»ï¼Œå…¶ä¸­çˆ¶å®¹å™¨å¯ä»¥çœ‹åˆ°å­å®¹å™¨çš„ä¿¡æ¯ã€‚</p>
<h4 id="å®¹å™¨å‘½å"><a href="#å®¹å™¨å‘½å" class="headerlink" title="å®¹å™¨å‘½å"></a>å®¹å™¨å‘½å</h4><p>å½“æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå®¹å™¨çš„æ—¶å€™ï¼Œdocker ä¼šè‡ªåŠ¨å¯¹å®ƒè¿›è¡Œå‘½åã€‚å¦å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ <strong>â€“name</strong> æ ‡è¯†æ¥å‘½åå®¹å™¨ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">runoob@runoob:~$  docker run -d -P --name runoob training/webapp python app.py</span><br></pre></td></tr></table></figure>



<h4 id="æ–°å»ºç½‘ç»œ"><a href="#æ–°å»ºç½‘ç»œ" class="headerlink" title="æ–°å»ºç½‘ç»œ"></a>æ–°å»ºç½‘ç»œ</h4><p>ä¸‹é¢å…ˆåˆ›å»ºä¸€ä¸ªæ–°çš„ Docker ç½‘ç»œã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker network create -d bridge test-net</span><br></pre></td></tr></table></figure>

<p>å‚æ•°è¯´æ˜ï¼š</p>
<p><strong>-d</strong>ï¼šå‚æ•°æŒ‡å®š Docker ç½‘ç»œç±»å‹ï¼Œæœ‰ bridgeã€overlayã€‚</p>
<p>å…¶ä¸­ overlay ç½‘ç»œç±»å‹ç”¨äº Swarm modeï¼Œåœ¨æœ¬å°èŠ‚ä¸­ä½ å¯ä»¥å¿½ç•¥å®ƒã€‚</p>
<h3 id="è¿æ¥å®¹å™¨"><a href="#è¿æ¥å®¹å™¨" class="headerlink" title="è¿æ¥å®¹å™¨"></a>è¿æ¥å®¹å™¨</h3><p>è¿è¡Œä¸€ä¸ªå®¹å™¨å¹¶è¿æ¥åˆ°æ–°å»ºçš„ test-net ç½‘ç»œ:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker run -itd --name test1 --network test-net ubuntu /bin/bash</span><br></pre></td></tr></table></figure>

<p>æ‰“å¼€æ–°çš„ç»ˆç«¯ï¼Œå†è¿è¡Œä¸€ä¸ªå®¹å™¨å¹¶åŠ å…¥åˆ° test-net ç½‘ç»œ:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker run -itd --name test2 --network test-net ubuntu /bin/bash</span><br></pre></td></tr></table></figure>

<p>ç”¨pingå‘½ä»¤è¯æ˜test1å’Œtest2éƒ½åŠ å…¥äº†test-netä¸­ã€‚</p>
<p>å¦‚æœ test1ã€test2 å®¹å™¨å†…ä¸­æ—  ping å‘½ä»¤ï¼Œåˆ™åœ¨å®¹å™¨å†…æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£… pingï¼ˆå³å­¦å³ç”¨ï¼šå¯ä»¥åœ¨ä¸€ä¸ªå®¹å™¨é‡Œå®‰è£…å¥½ï¼Œæäº¤å®¹å™¨åˆ°é•œåƒï¼Œåœ¨ä»¥æ–°çš„é•œåƒé‡æ–°è¿è¡Œä»¥ä¸Šä¿©ä¸ªå®¹å™¨ï¼‰ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt-get update</span><br><span class="line">apt install iputils-ping</span><br></pre></td></tr></table></figure>

<p><img src="/../images/docker-net3.png" alt="docker-net3"></p>
<p>è¿™é‡Œåœ¨test1ä¸­å¯ä»¥pingé€štest2</p>
<p>è¿™æ ·ï¼Œtest1 å®¹å™¨å’Œ test2 å®¹å™¨å»ºç«‹äº†äº’è”å…³ç³»ã€‚</p>
<p>å¦‚æœä½ æœ‰å¤šä¸ªå®¹å™¨ä¹‹é—´éœ€è¦äº’ç›¸è¿æ¥ï¼Œæ¨èä½¿ç”¨ Docker Compose.</p>
<h4 id="é…ç½®-DNS"><a href="#é…ç½®-DNS" class="headerlink" title="é…ç½® DNS"></a>é…ç½® DNS</h4><p>æˆ‘ä»¬å¯ä»¥åœ¨å®¿ä¸»æœºçš„ &#x2F;etc&#x2F;docker&#x2F;daemon.json æ–‡ä»¶ä¸­å¢åŠ ä»¥ä¸‹å†…å®¹æ¥è®¾ç½®å…¨éƒ¨å®¹å™¨çš„ DNSï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;dns&quot;</span> : [</span><br><span class="line">    <span class="string">&quot;114.114.114.114&quot;</span>,</span><br><span class="line">    <span class="string">&quot;8.8.8.8&quot;</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è®¾ç½®åï¼Œå¯åŠ¨å®¹å™¨çš„ DNS ä¼šè‡ªåŠ¨é…ç½®ä¸º 114.114.114.114 å’Œ 8.8.8.8ã€‚</p>
<p>é…ç½®å®Œï¼Œéœ€è¦é‡å¯ docker æ‰èƒ½ç”Ÿæ•ˆã€‚</p>
<p>æŸ¥çœ‹å®¹å™¨çš„ DNS æ˜¯å¦ç”Ÿæ•ˆå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼Œå®ƒä¼šè¾“å‡ºå®¹å™¨çš„ DNS ä¿¡æ¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker run -it --<span class="built_in">rm</span>  ubuntu  <span class="built_in">cat</span> etc/resolv.conf</span><br></pre></td></tr></table></figure>



<p><strong>æ‰‹åŠ¨æŒ‡å®šå®¹å™¨çš„é…ç½®</strong></p>
<p>å¦‚æœåªæƒ³åœ¨æŒ‡å®šçš„å®¹å™¨è®¾ç½® DNSï¼Œåˆ™å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š	</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker run -it --<span class="built_in">rm</span> -h host_ubuntu  --dns=114.114.114.114 --dns-search=test.com ubuntu</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œçš„å‚æ•°è¯´æ˜ä¸€ä¸‹:</p>
<p><strong>â€“rm</strong>ï¼šå®¹å™¨é€€å‡ºæ—¶è‡ªåŠ¨æ¸…ç†å®¹å™¨å†…éƒ¨çš„æ–‡ä»¶ç³»ç»Ÿã€‚</p>
<p><strong>-h HOSTNAME æˆ–è€… â€“hostname&#x3D;HOSTNAME</strong>ï¼š è®¾å®šå®¹å™¨çš„ä¸»æœºåï¼Œå®ƒä¼šè¢«å†™åˆ°å®¹å™¨å†…çš„ &#x2F;etc&#x2F;hostname å’Œ &#x2F;etc&#x2F;hostsã€‚</p>
<p><strong>â€“dns&#x3D;IP_ADDRESS</strong>ï¼š æ·»åŠ  DNS æœåŠ¡å™¨åˆ°å®¹å™¨çš„ &#x2F;etc&#x2F;resolv.conf ä¸­ï¼Œè®©å®¹å™¨ç”¨è¿™ä¸ªæœåŠ¡å™¨æ¥è§£ææ‰€æœ‰ä¸åœ¨ &#x2F;etc&#x2F;hosts ä¸­çš„ä¸»æœºåã€‚</p>
<p><strong>â€“dns-search&#x3D;DOMAIN</strong>ï¼š è®¾å®šå®¹å™¨çš„æœç´¢åŸŸï¼Œå½“è®¾å®šæœç´¢åŸŸä¸º .example.com æ—¶ï¼Œåœ¨æœç´¢ä¸€ä¸ªåä¸º host çš„ä¸»æœºæ—¶ï¼ŒDNS ä¸ä»…æœç´¢ hostï¼Œè¿˜ä¼šæœç´¢ host.example.comã€‚</p>
<p>å¦‚æœåœ¨å®¹å™¨å¯åŠ¨æ—¶æ²¡æœ‰æŒ‡å®š <strong>â€“dns</strong> å’Œ <strong>â€“dns-search</strong>ï¼ŒDocker ä¼šé»˜è®¤ç”¨å®¿ä¸»ä¸»æœºä¸Šçš„ &#x2F;etc&#x2F;resolv.conf æ¥é…ç½®å®¹å™¨çš„ DNSã€‚</p>
<h2 id="Docker-Repositoryä»“åº“ç®¡ç†"><a href="#Docker-Repositoryä»“åº“ç®¡ç†" class="headerlink" title="Docker Repositoryä»“åº“ç®¡ç†"></a>Docker Repositoryä»“åº“ç®¡ç†</h2><p>Repo contains images.</p>
<p>Docker Hub is a offical repo which is managed by docker.</p>
<p><strong>æ‹‰å–é•œåƒ</strong></p>
<p>ä½ å¯ä»¥é€šè¿‡ docker search å‘½ä»¤æ¥æŸ¥æ‰¾å®˜æ–¹ä»“åº“ä¸­çš„é•œåƒï¼Œå¹¶åˆ©ç”¨ docker pull å‘½ä»¤æ¥å°†å®ƒä¸‹è½½åˆ°æœ¬åœ°ã€‚</p>
<p>æ¯”å¦‚ä½ è¦æœç´¢ubuntu, ä½ å°±å¯ä»¥ä½¿ç”¨ä»¥ä¸‹çš„å‘½ä»¤</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker search ubuntu</span><br></pre></td></tr></table></figure>

<p><img src="/../images/20230618135435373.png" alt="image-20230618135435373"></p>
<p>ç„¶åä½ å°±å¯ä»¥ä½¿ç”¨<code>docker pull ubuntu</code>å‘½ä»¤</p>
<p><strong>æ¨é€é•œåƒ</strong></p>
<p>åœ¨ç”¨æˆ·ç™»é™†docker hubä¹‹åï¼Œä½ ä¹Ÿå¯ä»¥æ¨é€è‡ªå·±çš„é•œåƒåˆ°docker hubï¼Œä½¿ç”¨<code>docker push</code>å‘½ä»¤</p>
<p>ä»¥ä¸‹å‘½ä»¤ä¸­çš„ username è¯·æ›¿æ¢ä¸ºä½ çš„ Docker è´¦å·ç”¨æˆ·åã€‚</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker tag ubuntu:18.04 username/ubuntu:18.04</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker image <span class="built_in">ls</span></span></span><br><span class="line"></span><br><span class="line">REPOSITORY      TAG        IMAGE ID            CREATED           ...  </span><br><span class="line">ubuntu          18.04      275d79972a86        6 days ago        ...  </span><br><span class="line">username/ubuntu 18.04      275d79972a86        6 days ago        ...  </span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker push username/ubuntu:18.04</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker search username/ubuntu</span></span><br><span class="line"></span><br><span class="line">NAME             DESCRIPTION       STARS         OFFICIAL    AUTOMATED</span><br><span class="line">username/ubuntu</span><br></pre></td></tr></table></figure>



<h2 id="Docker-Dockerfile"><a href="#Docker-Dockerfile" class="headerlink" title="Docker Dockerfile"></a>Docker Dockerfile</h2><p>A Dockerfile is a text document that contains all the commands a user could call on the command line to assemble an image. Essentially, Dockerfiles are sets of instructions that Docker uses to build a Docker image automatically.</p>
<h3 id="ä½¿ç”¨dockerfileæ¥å®šåˆ¶é•œåƒ"><a href="#ä½¿ç”¨dockerfileæ¥å®šåˆ¶é•œåƒ" class="headerlink" title="ä½¿ç”¨dockerfileæ¥å®šåˆ¶é•œåƒ"></a>ä½¿ç”¨dockerfileæ¥å®šåˆ¶é•œåƒ</h3><p>ä»¥å®šåˆ¶ä¸€ä¸ªnginxé•œåƒä¸ºä¾‹å­ï¼Œ<strong>æ„å»ºå¥½çš„é•œåƒå†…ä¼šæœ‰ä¸€ä¸ª &#x2F;usr&#x2F;share&#x2F;nginx&#x2F;html&#x2F;index.html æ–‡ä»¶</strong></p>
<p><strong>1.åœ¨ä¸€ä¸ªç©ºç›®å½•ä¸‹ï¼Œæ–°å»ºä¸€ä¸ªåä¸º Dockerfile æ–‡ä»¶ï¼Œå¹¶åœ¨æ–‡ä»¶å†…æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">FROM nginx</span><br><span class="line">RUN echo &#x27;è¿™æ˜¯ä¸€ä¸ªæœ¬åœ°æ„å»ºçš„nginxé•œåƒ&#x27; &gt; /usr/share/nginx/html/index.html</span><br></pre></td></tr></table></figure>



<p><strong>2.Fromå’ŒRunæŒ‡ä»¤çš„ä½œç”¨</strong></p>
<p>FROMï¼šå®šåˆ¶çš„é•œåƒéƒ½æ˜¯åŸºäº FROM çš„é•œåƒï¼Œè¿™é‡Œçš„ nginx å°±æ˜¯å®šåˆ¶éœ€è¦çš„åŸºç¡€é•œåƒã€‚åç»­çš„æ“ä½œéƒ½æ˜¯åŸºäº nginxã€‚</p>
<p>RUNï¼šç”¨äºæ‰§è¡Œåé¢è·Ÿç€çš„å‘½ä»¤è¡Œå‘½ä»¤ã€‚æœ‰ä»¥ä¸‹ä¿©ç§æ ¼å¼ï¼š</p>
<p>shellæ ¼å¼:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">RUN &lt;å‘½ä»¤è¡Œå‘½ä»¤&gt;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">&lt;å‘½ä»¤è¡Œå‘½ä»¤&gt; ç­‰åŒäºï¼Œåœ¨ç»ˆç«¯æ“ä½œçš„ shell å‘½ä»¤ã€‚</span></span><br></pre></td></tr></table></figure>

<p>exec æ ¼å¼ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">RUN [&quot;å¯æ‰§è¡Œæ–‡ä»¶&quot;, &quot;å‚æ•°1&quot;, &quot;å‚æ•°2&quot;]</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¾‹å¦‚ï¼š</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">RUN [<span class="string">&quot;./test.php&quot;</span>, <span class="string">&quot;dev&quot;</span>, <span class="string">&quot;offline&quot;</span>] ç­‰ä»·äº RUN ./test.php dev offline</span></span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„</strong>ï¼šDockerfile çš„æŒ‡ä»¤æ¯æ‰§è¡Œä¸€æ¬¡éƒ½ä¼šåœ¨ docker ä¸Šæ–°å»ºä¸€å±‚ã€‚æ‰€ä»¥è¿‡å¤šæ— æ„ä¹‰çš„å±‚ï¼Œä¼šé€ æˆé•œåƒè†¨èƒ€è¿‡å¤§ã€‚ä¾‹å¦‚ï¼š</p>
<p>FROM centos<br>RUN <strong>yum</strong> -y <strong>install</strong> <strong>wget</strong><br>RUN <strong>wget</strong> -O redis.tar.gz â€œ<a target="_blank" rel="noopener" href="http://download.redis.io/releases/redis-5.0.3.tar.gz&quot;">http://download.redis.io/releases/redis-5.0.3.tar.gz&quot;</a><br>RUN <strong>tar</strong> -xvf redis.tar.gz</p>
<p>ä»¥ä¸Šæ‰§è¡Œä¼šåˆ›å»º 3 å±‚é•œåƒã€‚å¯ç®€åŒ–ä¸ºä»¥ä¸‹æ ¼å¼ï¼š</p>
<p>FROM centos<br>RUN <strong>yum</strong> -y <strong>install</strong> <strong>wget</strong> <br>  <strong>&amp;&amp;</strong> <strong>wget</strong> -O redis.tar.gz â€œ<a target="_blank" rel="noopener" href="http://download.redis.io/releases/redis-5.0.3.tar.gz&quot;">http://download.redis.io/releases/redis-5.0.3.tar.gz&quot;</a> <br>  <strong>&amp;&amp;</strong> <strong>tar</strong> -xvf redis.tar.gz</p>
<p>å¦‚ä¸Šï¼Œä»¥ <strong>&amp;&amp;</strong> ç¬¦å·è¿æ¥å‘½ä»¤ï¼Œè¿™æ ·æ‰§è¡Œåï¼Œåªä¼šåˆ›å»º 1 å±‚é•œåƒã€‚</p>
<h3 id="å¼€å§‹æ„å»ºé•œåƒ"><a href="#å¼€å§‹æ„å»ºé•œåƒ" class="headerlink" title="å¼€å§‹æ„å»ºé•œåƒ"></a><strong>å¼€å§‹æ„å»ºé•œåƒ</strong></h3><p>åœ¨ Dockerfile æ–‡ä»¶çš„å­˜æ”¾ç›®å½•ä¸‹ï¼Œæ‰§è¡Œæ„å»ºåŠ¨ä½œ</p>
<p>ç¤ºä¾‹ï¼Œé€šè¿‡ç›®å½•ä¸‹çš„ Dockerfile æ„å»ºä¸€ä¸ª nginx:v3 (é•œåƒåç§°:é•œåƒæ ‡ç­¾)ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker build -t nginx:v3 .</span><br></pre></td></tr></table></figure>

<p>The <code>.</code> specifies the build context or the path to the directory containing the Dockerfile.</p>
<p><img src="/../images/dockerfile2.png" alt="dockerfile2"></p>
<p>ä»¥ä¸Šæ˜¾ç¤ºï¼Œè¯´æ˜å·²ç»æ„å»ºæˆåŠŸã€‚</p>
<h3 id="ä¸Šä¸‹æ–‡è·¯å¾„"><a href="#ä¸Šä¸‹æ–‡è·¯å¾„" class="headerlink" title="ä¸Šä¸‹æ–‡è·¯å¾„"></a>ä¸Šä¸‹æ–‡è·¯å¾„</h3><p> <code>.</code> æ˜¯ä¸Šä¸‹æ–‡è·¯å¾„ï¼Œé‚£ä¹ˆä»€ä¹ˆæ˜¯ä¸Šä¸‹æ–‡è·¯å¾„å‘¢ï¼Ÿ</p>
<p>ä¸Šä¸‹æ–‡è·¯å¾„ï¼Œæ˜¯æŒ‡ docker åœ¨æ„å»ºé•œåƒï¼Œæœ‰æ—¶å€™æƒ³è¦ä½¿ç”¨åˆ°æœ¬æœºçš„æ–‡ä»¶ï¼ˆæ¯”å¦‚å¤åˆ¶ï¼‰ï¼Œdocker build å‘½ä»¤å¾—çŸ¥è¿™ä¸ªè·¯å¾„åï¼Œä¼šå°†è·¯å¾„ä¸‹çš„æ‰€æœ‰å†…å®¹æ‰“åŒ…ã€‚</p>
<p><strong>è§£æ</strong>ï¼šç”±äº docker çš„è¿è¡Œæ¨¡å¼æ˜¯ C&#x2F;Sã€‚æˆ‘ä»¬æœ¬æœºæ˜¯ Cï¼Œdocker å¼•æ“æ˜¯ Sã€‚å®é™…çš„æ„å»ºè¿‡ç¨‹æ˜¯åœ¨ docker å¼•æ“ä¸‹å®Œæˆçš„ï¼Œæ‰€ä»¥è¿™ä¸ªæ—¶å€™æ— æ³•ç”¨åˆ°æˆ‘ä»¬æœ¬æœºçš„æ–‡ä»¶ã€‚è¿™å°±éœ€è¦æŠŠæˆ‘ä»¬æœ¬æœºçš„æŒ‡å®šç›®å½•ä¸‹çš„æ–‡ä»¶ä¸€èµ·æ‰“åŒ…æä¾›ç»™ docker å¼•æ“ä½¿ç”¨ã€‚</p>
<p>å¦‚æœæœªè¯´æ˜æœ€åä¸€ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆé»˜è®¤ä¸Šä¸‹æ–‡è·¯å¾„å°±æ˜¯ Dockerfile æ‰€åœ¨çš„ä½ç½®ã€‚</p>
<p><strong>æ³¨æ„</strong>ï¼šä¸Šä¸‹æ–‡è·¯å¾„ä¸‹ä¸è¦æ”¾æ— ç”¨çš„æ–‡ä»¶ï¼Œå› ä¸ºä¼šä¸€èµ·æ‰“åŒ…å‘é€ç»™ docker å¼•æ“ï¼Œå¦‚æœæ–‡ä»¶è¿‡å¤šä¼šé€ æˆè¿‡ç¨‹ç¼“æ…¢ã€‚</p>
<h3 id="dockerfileçš„æŒ‡ä»¤è¯¦è§£"><a href="#dockerfileçš„æŒ‡ä»¤è¯¦è§£" class="headerlink" title="dockerfileçš„æŒ‡ä»¤è¯¦è§£"></a>dockerfileçš„æŒ‡ä»¤è¯¦è§£</h3><p><strong>ç®€æ´ç‰ˆ</strong></p>
<ul>
<li>FROM</li>
</ul>
<p>æ„å»ºé•œåƒåŸºäºå“ªä¸ªé•œåƒ</p>
<ul>
<li>MAINTAINER</li>
</ul>
<p>é•œåƒç»´æŠ¤è€…å§“åæˆ–é‚®ç®±åœ°å€</p>
<ul>
<li>RUN</li>
</ul>
<p>æ„å»ºé•œåƒæ—¶è¿è¡Œçš„æŒ‡ä»¤</p>
<ul>
<li>CMD</li>
</ul>
<p>è¿è¡Œå®¹å™¨æ—¶æ‰§è¡Œçš„shellç¯å¢ƒ</p>
<ul>
<li>VOLUME</li>
</ul>
<p>æŒ‡å®šå®¹å™¨æŒ‚è½½ç‚¹åˆ°å®¿ä¸»æœºè‡ªåŠ¨ç”Ÿæˆçš„ç›®å½•æˆ–å…¶ä»–å®¹å™¨</p>
<ul>
<li>USER</li>
</ul>
<p>ä¸ºRUNã€CMDã€å’Œ ENTRYPOINT æ‰§è¡Œå‘½ä»¤æŒ‡å®šè¿è¡Œç”¨æˆ·</p>
<ul>
<li>WORKDIR</li>
</ul>
<p>ä¸º RUNã€CMDã€ENTRYPOINTã€COPY å’Œ ADD è®¾ç½®å·¥ä½œç›®å½•ï¼Œå°±æ˜¯åˆ‡æ¢ç›®å½•</p>
<ul>
<li>HEALTHCHECH</li>
</ul>
<p>å¥åº·æ£€æŸ¥</p>
<ul>
<li>ARG</li>
</ul>
<p>æ„å»ºæ—¶æŒ‡å®šçš„ä¸€äº›å‚æ•°</p>
<ul>
<li>EXPOSE</li>
</ul>
<p>å£°æ˜å®¹å™¨çš„æœåŠ¡ç«¯å£ï¼ˆä»…ä»…æ˜¯å£°æ˜ï¼‰</p>
<ul>
<li>ENV</li>
</ul>
<p>è®¾ç½®å®¹å™¨ç¯å¢ƒå˜é‡</p>
<ul>
<li>ADD</li>
</ul>
<p>æ‹·è´æ–‡ä»¶æˆ–ç›®å½•åˆ°å®¹å™¨ä¸­ï¼Œå¦‚æœæ˜¯URLæˆ–å‹ç¼©åŒ…ä¾¿ä¼šè‡ªåŠ¨ä¸‹è½½æˆ–è‡ªåŠ¨è§£å‹</p>
<ul>
<li>COPY</li>
</ul>
<p>æ‹·è´æ–‡ä»¶æˆ–ç›®å½•åˆ°å®¹å™¨ä¸­ï¼Œè·ŸADDç±»ä¼¼ï¼Œä½†ä¸å…·å¤‡è‡ªåŠ¨ä¸‹è½½æˆ–è§£å‹çš„åŠŸèƒ½</p>
<ul>
<li>ENTRYPOINT</li>
</ul>
<p>è¿è¡Œå®¹å™¨æ—¶æ‰§è¡Œçš„shellå‘½ä»¤</p>
<hr>
<p><strong>è¯¦ç»†ç‰ˆ</strong></p>
<h4 id="COPY"><a href="#COPY" class="headerlink" title="COPY"></a>COPY</h4><p>å¤åˆ¶æŒ‡ä»¤ï¼Œä»ä¸Šä¸‹æ–‡ç›®å½•ä¸­å¤åˆ¶æ–‡ä»¶æˆ–è€…ç›®å½•åˆ°å®¹å™¨é‡ŒæŒ‡å®šè·¯å¾„ã€‚</p>
<p>æ ¼å¼ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">COPY [--<span class="built_in">chown</span>=&lt;user&gt;:&lt;group&gt;] &lt;æºè·¯å¾„1&gt;...  &lt;ç›®æ ‡è·¯å¾„&gt;</span><br><span class="line">COPY [--<span class="built_in">chown</span>=&lt;user&gt;:&lt;group&gt;] [<span class="string">&quot;&lt;æºè·¯å¾„1&gt;&quot;</span>,...  <span class="string">&quot;&lt;ç›®æ ‡è·¯å¾„&gt;&quot;</span>]</span><br></pre></td></tr></table></figure>

<p>**[â€“chown&#x3D;<user>:<group>]**ï¼šå¯é€‰å‚æ•°ï¼Œç”¨æˆ·æ”¹å˜å¤åˆ¶åˆ°å®¹å™¨å†…æ–‡ä»¶çš„æ‹¥æœ‰è€…å’Œå±ç»„ã€‚</group></user></p>
<p>**&lt;æºè·¯å¾„&gt;**ï¼šæºæ–‡ä»¶æˆ–è€…æºç›®å½•ï¼Œè¿™é‡Œå¯ä»¥æ˜¯é€šé…ç¬¦è¡¨è¾¾å¼ï¼Œå…¶é€šé…ç¬¦è§„åˆ™è¦æ»¡è¶³ Go çš„ filepath.Match è§„åˆ™ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">COPY hom* /mydir/</span><br><span class="line">COPY hom?.txt /mydir/</span><br></pre></td></tr></table></figure>

<p>**&lt;ç›®æ ‡è·¯å¾„&gt;**ï¼šå®¹å™¨å†…çš„æŒ‡å®šè·¯å¾„ï¼Œè¯¥è·¯å¾„ä¸ç”¨äº‹å…ˆå»ºå¥½ï¼Œè·¯å¾„ä¸å­˜åœ¨çš„è¯ï¼Œä¼šè‡ªåŠ¨åˆ›å»ºã€‚</p>
<h4 id="ADD"><a href="#ADD" class="headerlink" title="ADD"></a>ADD</h4><p>ADD æŒ‡ä»¤å’Œ COPY çš„ä½¿ç”¨æ ¼ç±»ä¼¼ï¼ˆåŒæ ·éœ€æ±‚ä¸‹ï¼Œå®˜æ–¹æ¨èä½¿ç”¨ COPYï¼‰ã€‚åŠŸèƒ½ä¹Ÿç±»ä¼¼ï¼Œä¸åŒä¹‹å¤„å¦‚ä¸‹ï¼š</p>
<ul>
<li>ADD çš„ä¼˜ç‚¹ï¼šåœ¨æ‰§è¡Œ &lt;æºæ–‡ä»¶&gt; ä¸º tar å‹ç¼©æ–‡ä»¶çš„è¯ï¼Œå‹ç¼©æ ¼å¼ä¸º gzip, bzip2 ä»¥åŠ xz çš„æƒ…å†µä¸‹ï¼Œä¼šè‡ªåŠ¨å¤åˆ¶å¹¶è§£å‹åˆ° &lt;ç›®æ ‡è·¯å¾„&gt;ã€‚</li>
<li>ADD çš„ç¼ºç‚¹ï¼šåœ¨ä¸è§£å‹çš„å‰æä¸‹ï¼Œæ— æ³•å¤åˆ¶ tar å‹ç¼©æ–‡ä»¶ã€‚ä¼šä»¤é•œåƒæ„å»ºç¼“å­˜å¤±æ•ˆï¼Œä»è€Œå¯èƒ½ä¼šä»¤é•œåƒæ„å»ºå˜å¾—æ¯”è¾ƒç¼“æ…¢ã€‚å…·ä½“æ˜¯å¦ä½¿ç”¨ï¼Œå¯ä»¥æ ¹æ®æ˜¯å¦éœ€è¦è‡ªåŠ¨è§£å‹æ¥å†³å®šã€‚</li>
</ul>
<h4 id="CMD"><a href="#CMD" class="headerlink" title="CMD"></a>CMD</h4><p>ç±»ä¼¼äº RUN æŒ‡ä»¤ï¼Œç”¨äºè¿è¡Œç¨‹åºï¼Œä½†äºŒè€…è¿è¡Œçš„æ—¶é—´ç‚¹ä¸åŒ:</p>
<ul>
<li>CMD åœ¨docker run æ—¶è¿è¡Œã€‚</li>
<li>RUN æ˜¯åœ¨ docker buildã€‚</li>
</ul>
<p><strong>ä½œç”¨</strong>ï¼šä¸ºå¯åŠ¨çš„å®¹å™¨æŒ‡å®šé»˜è®¤è¦è¿è¡Œçš„ç¨‹åºï¼Œç¨‹åºè¿è¡Œç»“æŸï¼Œå®¹å™¨ä¹Ÿå°±ç»“æŸã€‚CMD æŒ‡ä»¤æŒ‡å®šçš„ç¨‹åºå¯è¢« docker run å‘½ä»¤è¡Œå‚æ•°ä¸­æŒ‡å®šè¦è¿è¡Œçš„ç¨‹åºæ‰€è¦†ç›–ã€‚</p>
<p><strong>æ³¨æ„</strong>ï¼šå¦‚æœ Dockerfile ä¸­å¦‚æœå­˜åœ¨å¤šä¸ª CMD æŒ‡ä»¤ï¼Œä»…æœ€åä¸€ä¸ªç”Ÿæ•ˆã€‚</p>
<p>æ ¼å¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CMD &lt;shell å‘½ä»¤&gt; </span><br><span class="line">CMD [&quot;&lt;å¯æ‰§è¡Œæ–‡ä»¶æˆ–å‘½ä»¤&gt;&quot;,&quot;&lt;param1&gt;&quot;,&quot;&lt;param2&gt;&quot;,...] </span><br><span class="line">CMD [&quot;&lt;param1&gt;&quot;,&quot;&lt;param2&gt;&quot;,...]  # è¯¥å†™æ³•æ˜¯ä¸º ENTRYPOINT æŒ‡ä»¤æŒ‡å®šçš„ç¨‹åºæä¾›é»˜è®¤å‚æ•°</span><br></pre></td></tr></table></figure>

<p>æ¨èä½¿ç”¨ç¬¬äºŒç§æ ¼å¼ï¼Œæ‰§è¡Œè¿‡ç¨‹æ¯”è¾ƒæ˜ç¡®ã€‚ç¬¬ä¸€ç§æ ¼å¼å®é™…ä¸Šåœ¨è¿è¡Œçš„è¿‡ç¨‹ä¸­ä¹Ÿä¼šè‡ªåŠ¨è½¬æ¢æˆç¬¬äºŒç§æ ¼å¼è¿è¡Œï¼Œå¹¶ä¸”é»˜è®¤å¯æ‰§è¡Œæ–‡ä»¶æ˜¯ shã€‚</p>
<h4 id="ENTRYPOINT"><a href="#ENTRYPOINT" class="headerlink" title="ENTRYPOINT"></a>ENTRYPOINT</h4><p>ç±»ä¼¼äº CMD æŒ‡ä»¤ï¼Œä½†å…¶ä¸ä¼šè¢« docker run çš„å‘½ä»¤è¡Œå‚æ•°æŒ‡å®šçš„æŒ‡ä»¤æ‰€è¦†ç›–ï¼Œè€Œä¸”è¿™äº›å‘½ä»¤è¡Œå‚æ•°ä¼šè¢«å½“ä½œå‚æ•°é€ç»™ ENTRYPOINT æŒ‡ä»¤æŒ‡å®šçš„ç¨‹åºã€‚</p>
<p>ä½†æ˜¯, å¦‚æœè¿è¡Œ docker run æ—¶ä½¿ç”¨äº† â€“entrypoint é€‰é¡¹ï¼Œå°†è¦†ç›– ENTRYPOINT æŒ‡ä»¤æŒ‡å®šçš„ç¨‹åºã€‚</p>
<p><strong>ä¼˜ç‚¹</strong>ï¼šåœ¨æ‰§è¡Œ docker run çš„æ—¶å€™å¯ä»¥æŒ‡å®š ENTRYPOINT è¿è¡Œæ‰€éœ€çš„å‚æ•°ã€‚</p>
<p><strong>æ³¨æ„</strong>ï¼šå¦‚æœ Dockerfile ä¸­å¦‚æœå­˜åœ¨å¤šä¸ª ENTRYPOINT æŒ‡ä»¤ï¼Œä»…æœ€åä¸€ä¸ªç”Ÿæ•ˆã€‚</p>
<p>æ ¼å¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ENTRYPOINT [&quot;&lt;executeable&gt;&quot;,&quot;&lt;param1&gt;&quot;,&quot;&lt;param2&gt;&quot;,...]</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥æ­é… CMD å‘½ä»¤ä½¿ç”¨ï¼šä¸€èˆ¬æ˜¯å˜å‚æ‰ä¼šä½¿ç”¨ CMD ï¼Œè¿™é‡Œçš„ CMD ç­‰äºæ˜¯åœ¨ç»™ ENTRYPOINT ä¼ å‚ï¼Œä»¥ä¸‹ç¤ºä¾‹ä¼šæåˆ°ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<p>å‡è®¾å·²é€šè¿‡ Dockerfile æ„å»ºäº† nginx:test é•œåƒï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">FROM nginx</span><br><span class="line"></span><br><span class="line">ENTRYPOINT [&quot;nginx&quot;, &quot;-c&quot;] # å®šå‚</span><br><span class="line">CMD [&quot;/etc/nginx/nginx.conf&quot;] # å˜å‚ </span><br></pre></td></tr></table></figure>

<p>1ã€ä¸ä¼ å‚è¿è¡Œ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker run  nginx:test</span><br></pre></td></tr></table></figure>

<p>å®¹å™¨å†…ä¼šé»˜è®¤è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå¯åŠ¨ä¸»è¿›ç¨‹ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx -c /etc/nginx/nginx.conf</span><br></pre></td></tr></table></figure>

<p>2ã€ä¼ å‚è¿è¡Œ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker run  nginx:test -c /etc/nginx/new.conf</span><br></pre></td></tr></table></figure>

<p>å®¹å™¨å†…ä¼šé»˜è®¤è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå¯åŠ¨ä¸»è¿›ç¨‹(&#x2F;etc&#x2F;nginx&#x2F;new.conf:å‡è®¾å®¹å™¨å†…å·²æœ‰æ­¤æ–‡ä»¶)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx -c /etc/nginx/new.conf</span><br></pre></td></tr></table></figure>

<h4 id="ENV"><a href="#ENV" class="headerlink" title="ENV"></a>ENV</h4><p>è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œå®šä¹‰äº†ç¯å¢ƒå˜é‡ï¼Œé‚£ä¹ˆåœ¨åç»­çš„æŒ‡ä»¤ä¸­ï¼Œå°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªç¯å¢ƒå˜é‡ã€‚</p>
<p>æ ¼å¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ENV &lt;key&gt; &lt;value&gt;</span><br><span class="line">ENV &lt;key1&gt;=&lt;value1&gt; &lt;key2&gt;=&lt;value2&gt;...</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸‹ç¤ºä¾‹è®¾ç½® NODE_VERSION &#x3D; 7.2.0 ï¼Œ åœ¨åç»­çš„æŒ‡ä»¤ä¸­å¯ä»¥é€šè¿‡ $NODE_VERSION å¼•ç”¨ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ENV NODE_VERSION 7.2.0</span><br><span class="line"></span><br><span class="line">RUN curl -SLO &quot;https://nodejs.org/dist/v$NODE_VERSION/node-v$NODE_VERSION-linux-x64.tar.xz&quot; \</span><br><span class="line">  &amp;&amp; curl -SLO &quot;https://nodejs.org/dist/v$NODE_VERSION/SHASUMS256.txt.asc&quot;</span><br></pre></td></tr></table></figure>

<h4 id="ARG"><a href="#ARG" class="headerlink" title="ARG"></a>ARG</h4><p>æ„å»ºå‚æ•°ï¼Œä¸ ENV ä½œç”¨ä¸€è‡´ã€‚ä¸è¿‡ä½œç”¨åŸŸä¸ä¸€æ ·ã€‚ARG è®¾ç½®çš„ç¯å¢ƒå˜é‡ä»…å¯¹ Dockerfile å†…æœ‰æ•ˆï¼Œä¹Ÿå°±æ˜¯è¯´åªæœ‰ docker build çš„è¿‡ç¨‹ä¸­æœ‰æ•ˆï¼Œæ„å»ºå¥½çš„é•œåƒå†…ä¸å­˜åœ¨æ­¤ç¯å¢ƒå˜é‡ã€‚</p>
<p>æ„å»ºå‘½ä»¤ docker build ä¸­å¯ä»¥ç”¨ â€“build-arg &lt;å‚æ•°å&gt;&#x3D;&lt;å€¼&gt; æ¥è¦†ç›–ã€‚</p>
<p>æ ¼å¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ARG &lt;å‚æ•°å&gt;[=&lt;é»˜è®¤å€¼&gt;]</span><br></pre></td></tr></table></figure>

<h4 id="VOLUME"><a href="#VOLUME" class="headerlink" title="VOLUME"></a>VOLUME</h4><p>å®šä¹‰åŒ¿åæ•°æ®å·ã€‚åœ¨å¯åŠ¨å®¹å™¨æ—¶å¿˜è®°æŒ‚è½½æ•°æ®å·ï¼Œä¼šè‡ªåŠ¨æŒ‚è½½åˆ°åŒ¿åå·ã€‚</p>
<p>ä½œç”¨ï¼š</p>
<ul>
<li>é¿å…é‡è¦çš„æ•°æ®ï¼Œå› å®¹å™¨é‡å¯è€Œä¸¢å¤±ï¼Œè¿™æ˜¯éå¸¸è‡´å‘½çš„ã€‚</li>
<li>é¿å…å®¹å™¨ä¸æ–­å˜å¤§ã€‚</li>
</ul>
<p>æ ¼å¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">VOLUME [&quot;&lt;è·¯å¾„1&gt;&quot;, &quot;&lt;è·¯å¾„2&gt;&quot;...]</span><br><span class="line">VOLUME &lt;è·¯å¾„&gt;</span><br></pre></td></tr></table></figure>

<p>åœ¨å¯åŠ¨å®¹å™¨ docker run çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ -v å‚æ•°ä¿®æ”¹æŒ‚è½½ç‚¹ã€‚</p>
<h4 id="EXPOSE"><a href="#EXPOSE" class="headerlink" title="EXPOSE"></a>EXPOSE</h4><p>ä»…ä»…åªæ˜¯å£°æ˜ç«¯å£ã€‚</p>
<p>ä½œç”¨ï¼š</p>
<ul>
<li>å¸®åŠ©é•œåƒä½¿ç”¨è€…ç†è§£è¿™ä¸ªé•œåƒæœåŠ¡çš„å®ˆæŠ¤ç«¯å£ï¼Œä»¥æ–¹ä¾¿é…ç½®æ˜ å°„ã€‚</li>
<li>åœ¨è¿è¡Œæ—¶ä½¿ç”¨éšæœºç«¯å£æ˜ å°„æ—¶ï¼Œä¹Ÿå°±æ˜¯ docker run -P æ—¶ï¼Œä¼šè‡ªåŠ¨éšæœºæ˜ å°„ EXPOSE çš„ç«¯å£ã€‚</li>
</ul>
<p>æ ¼å¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EXPOSE &lt;ç«¯å£1&gt; [&lt;ç«¯å£2&gt;...]</span><br></pre></td></tr></table></figure>

<h4 id="WORKDIR"><a href="#WORKDIR" class="headerlink" title="WORKDIR"></a>WORKDIR</h4><p>æŒ‡å®šå·¥ä½œç›®å½•ã€‚ç”¨ WORKDIR æŒ‡å®šçš„å·¥ä½œç›®å½•ï¼Œä¼šåœ¨æ„å»ºé•œåƒçš„æ¯ä¸€å±‚ä¸­éƒ½å­˜åœ¨ã€‚ä»¥åå„å±‚çš„å½“å‰ç›®å½•å°±è¢«æ”¹ä¸ºæŒ‡å®šçš„ç›®å½•ï¼Œå¦‚è¯¥ç›®å½•ä¸å­˜åœ¨ï¼ŒWORKDIR ä¼šå¸®ä½ å»ºç«‹ç›®å½•ã€‚</p>
<p>docker build æ„å»ºé•œåƒè¿‡ç¨‹ä¸­çš„ï¼Œæ¯ä¸€ä¸ª RUN å‘½ä»¤éƒ½æ˜¯æ–°å»ºçš„ä¸€å±‚ã€‚åªæœ‰é€šè¿‡ WORKDIR åˆ›å»ºçš„ç›®å½•æ‰ä¼šä¸€ç›´å­˜åœ¨ã€‚</p>
<p>æ ¼å¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">WORKDIR &lt;å·¥ä½œç›®å½•è·¯å¾„&gt;</span><br></pre></td></tr></table></figure>

<h4 id="USER"><a href="#USER" class="headerlink" title="USER"></a>USER</h4><p>ç”¨äºæŒ‡å®šæ‰§è¡Œåç»­å‘½ä»¤çš„ç”¨æˆ·å’Œç”¨æˆ·ç»„ï¼Œè¿™è¾¹åªæ˜¯åˆ‡æ¢åç»­å‘½ä»¤æ‰§è¡Œçš„ç”¨æˆ·ï¼ˆç”¨æˆ·å’Œç”¨æˆ·ç»„å¿…é¡»æå‰å·²ç»å­˜åœ¨ï¼‰ã€‚</p>
<p>æ ¼å¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">USER &lt;ç”¨æˆ·å&gt;[:&lt;ç”¨æˆ·ç»„&gt;]</span><br></pre></td></tr></table></figure>

<h4 id="HEALTHCHECK"><a href="#HEALTHCHECK" class="headerlink" title="HEALTHCHECK"></a>HEALTHCHECK</h4><p>ç”¨äºæŒ‡å®šæŸä¸ªç¨‹åºæˆ–è€…æŒ‡ä»¤æ¥ç›‘æ§ docker å®¹å™¨æœåŠ¡çš„è¿è¡ŒçŠ¶æ€ã€‚</p>
<p>æ ¼å¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">HEALTHCHECK [é€‰é¡¹] CMD &lt;å‘½ä»¤&gt;ï¼šè®¾ç½®æ£€æŸ¥å®¹å™¨å¥åº·çŠ¶å†µçš„å‘½ä»¤</span><br><span class="line">HEALTHCHECK NONEï¼šå¦‚æœåŸºç¡€é•œåƒæœ‰å¥åº·æ£€æŸ¥æŒ‡ä»¤ï¼Œä½¿ç”¨è¿™è¡Œå¯ä»¥å±è”½æ‰å…¶å¥åº·æ£€æŸ¥æŒ‡ä»¤</span><br><span class="line"></span><br><span class="line">HEALTHCHECK [é€‰é¡¹] CMD &lt;å‘½ä»¤&gt; : è¿™è¾¹ CMD åé¢è·Ÿéšçš„å‘½ä»¤ä½¿ç”¨ï¼Œå¯ä»¥å‚è€ƒ CMD çš„ç”¨æ³•ã€‚</span><br></pre></td></tr></table></figure>

<h4 id="ONBUILD"><a href="#ONBUILD" class="headerlink" title="ONBUILD"></a>ONBUILD</h4><p>ç”¨äºå»¶è¿Ÿæ„å»ºå‘½ä»¤çš„æ‰§è¡Œã€‚ç®€å•çš„è¯´ï¼Œå°±æ˜¯ Dockerfile é‡Œç”¨ ONBUILD æŒ‡å®šçš„å‘½ä»¤ï¼Œåœ¨æœ¬æ¬¡æ„å»ºé•œåƒçš„è¿‡ç¨‹ä¸­ä¸ä¼šæ‰§è¡Œï¼ˆå‡è®¾é•œåƒä¸º test-buildï¼‰ã€‚å½“æœ‰æ–°çš„ Dockerfile ä½¿ç”¨äº†ä¹‹å‰æ„å»ºçš„é•œåƒ FROM test-build ï¼Œè¿™æ—¶æ‰§è¡Œæ–°é•œåƒçš„ Dockerfile æ„å»ºæ—¶å€™ï¼Œä¼šæ‰§è¡Œ test-build çš„ Dockerfile é‡Œçš„ ONBUILD æŒ‡å®šçš„å‘½ä»¤ã€‚</p>
<p>æ ¼å¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ONBUILD &lt;å…¶å®ƒæŒ‡ä»¤&gt;</span><br></pre></td></tr></table></figure>

<h4 id="LABEL"><a href="#LABEL" class="headerlink" title="LABEL"></a>LABEL</h4><p>LABEL æŒ‡ä»¤ç”¨æ¥ç»™é•œåƒæ·»åŠ ä¸€äº›å…ƒæ•°æ®ï¼ˆmetadataï¼‰ï¼Œä»¥é”®å€¼å¯¹çš„å½¢å¼ï¼Œè¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LABEL &lt;key&gt;=&lt;value&gt; &lt;key&gt;=&lt;value&gt; &lt;key&gt;=&lt;value&gt; ...</span><br></pre></td></tr></table></figure>

<p>æ¯”å¦‚æˆ‘ä»¬å¯ä»¥æ·»åŠ é•œåƒçš„ä½œè€…ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LABEL org.opencontainers.image.authors=&quot;runoob&quot;</span><br></pre></td></tr></table></figure>



<h2 id="Docker-Compose"><a href="#Docker-Compose" class="headerlink" title="Docker Compose"></a>Docker Compose</h2><p><strong>what is compose?</strong></p>
<p>Compose æ˜¯ç”¨äºå®šä¹‰å’Œè¿è¡Œå¤šå®¹å™¨ Docker åº”ç”¨ç¨‹åºçš„å·¥å…·ã€‚é€šè¿‡ Composeï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ YML æ–‡ä»¶æ¥é…ç½®åº”ç”¨ç¨‹åºéœ€è¦çš„æ‰€æœ‰æœåŠ¡ã€‚ç„¶åï¼Œä½¿ç”¨ä¸€ä¸ªå‘½ä»¤ï¼Œå°±å¯ä»¥ä» YML æ–‡ä»¶é…ç½®ä¸­åˆ›å»ºå¹¶å¯åŠ¨æ‰€æœ‰æœåŠ¡ã€‚Compose ä½¿ç”¨çš„ä¸‰ä¸ªæ­¥éª¤ï¼š</p>
<ul>
<li>ä½¿ç”¨ Dockerfile å®šä¹‰åº”ç”¨ç¨‹åºçš„ç¯å¢ƒã€‚</li>
<li>ä½¿ç”¨ docker-compose.yml å®šä¹‰æ„æˆåº”ç”¨ç¨‹åºçš„æœåŠ¡ï¼Œè¿™æ ·å®ƒä»¬å¯ä»¥åœ¨éš”ç¦»ç¯å¢ƒä¸­ä¸€èµ·è¿è¡Œã€‚</li>
<li>æœ€åï¼Œæ‰§è¡Œ docker-compose up å‘½ä»¤æ¥å¯åŠ¨å¹¶è¿è¡Œæ•´ä¸ªåº”ç”¨ç¨‹åºã€‚</li>
</ul>
<p>docker-compose.yml çš„é…ç½®æ¡ˆä¾‹å¦‚ä¸‹ï¼ˆé…ç½®å‚æ•°å‚è€ƒä¸‹æ–‡ï¼‰ï¼š</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># yaml é…ç½®å®ä¾‹</span></span><br><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3&#x27;</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line"> <span class="attr">web:</span></span><br><span class="line">  <span class="attr">build:</span> <span class="string">.</span></span><br><span class="line">  <span class="attr">ports:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;5000:5000&quot;</span></span><br><span class="line">  <span class="attr">volumes:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">.:code</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">logvolume01:/var/log</span></span><br><span class="line">  <span class="attr">links:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">redis</span></span><br><span class="line"> <span class="attr">redis:</span></span><br><span class="line">  <span class="attr">image:</span> <span class="string">redis</span></span><br><span class="line"><span class="attr">volumes:</span></span><br><span class="line"> <span class="attr">logvolume01:</span> &#123;&#125;</span><br></pre></td></tr></table></figure>

 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-job-seek"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/05/26/job-seek/"
    >job seek</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/05/26/job-seek/" class="article-date">
  <time datetime="2023-05-26T18:58:33.000Z" itemprop="datePublished">2023-05-26</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <ol>
<li>intern</li>
<li></li>
</ol>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-CyberSecurityFundemental"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/05/11/CyberSecurityFundemental/"
    >CyberSecurityFundemental</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/05/11/CyberSecurityFundemental/" class="article-date">
  <time datetime="2023-05-11T13:57:01.000Z" itemprop="datePublished">2023-05-11</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
   
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-travel"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/05/04/travel/"
    >travel</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/05/04/travel/" class="article-date">
  <time datetime="2023-05-04T21:46:12.000Z" itemprop="datePublished">2023-05-04</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/travel/">travel</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p><strong>Glasgow</strong></p>
<p><img src="/../images/webs/UoG_bkgrnd_2021.jpg" alt="391667424236_.pic"></p>
<p><strong>Edinburgh</strong></p>
<p><img src="/../images/391667424236_.pic.jpg" alt="IMG_6792"></p>
<p><img src="/../images/IMG_6792.jpeg" alt="IMG_6792"></p>
<p><strong>Munich</strong></p>
<p><img src="/../images/webs/C4B30D74-1139-4945-B8F9-F6A74834CFCD_1_102_o.jpeg" alt="IMG_6792"></p>
<p><img src="/../images/IMG_8419.jpeg" alt="IMG_8419"></p>
<p><strong>Swiss</strong></p>
<p><img src="/../images/IMG_7862.jpeg" alt="IMG_7867"></p>
<p><img src="/../images/IMG_7867.jpeg" alt="IMG_7867"></p>
<p><strong>Paris</strong></p>
<p><img src="/../images/IMG_7410.jpeg" alt="IMG_7410"></p>
<p><img src="/../images/IMG_7577.jpeg" alt="IMG_7577"></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/travel/" rel="tag">travel</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-webscience"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/04/28/webscience/"
    >webscience</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/04/28/webscience/" class="article-date">
  <time datetime="2023-04-28T12:34:43.000Z" itemprop="datePublished">2023-04-28</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Courses/">Courses</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="Revision"><a href="#Revision" class="headerlink" title="Revision"></a>Revision</h1><h2 id="Topic-1-Social-Media-Twitter-Crawl"><a href="#Topic-1-Social-Media-Twitter-Crawl" class="headerlink" title="Topic 1- Social Media (Twitter) Crawl"></a>Topic 1- Social Media (Twitter) Crawl</h2><h3 id="L1-TwitterData"><a href="#L1-TwitterData" class="headerlink" title="L1 TwitterData"></a>L1 TwitterData</h3><h4 id="Exploitation-of-the-twitter-data"><a href="#Exploitation-of-the-twitter-data" class="headerlink" title="Exploitation of the twitter data:"></a>Exploitation of the twitter data:</h4><p>With the amount of content posted to social media websites every day, such as Twitter, there is huge potential for its exploitation in many scenarios, such as:</p>
<p><strong>Sports and Finance:</strong> Stock market prediction &amp; Sports betting</p>
<p>predict stock market changes based on the sentiment of tweets</p>
<ul>
<li>Sentiment expressed in tweets had been used to predict stock market reactions</li>
<li>Opinions of investorsâ€™ posts on social media</li>
<li>combine with the stock prize movements</li>
</ul>
<p>Sports betting</p>
<h4 id="Web-Science-Concepts"><a href="#Web-Science-Concepts" class="headerlink" title="Web Science Concepts"></a>Web Science Concepts</h4><ul>
<li><p>ï»¿ï»¿Explore the science underlying the web</p>
<ul>
<li>ï»¿ï»¿From a socio-technical perspective</li>
<li>ï»¿ï»¿Mathematical properties, engineering principles, social impacts</li>
</ul>
</li>
<li><p>ï»¿ï»¿Understanding users and developing Web applications for them!</p>
<ul>
<li>ï»¿ï»¿Sociology &amp; Web Engineering</li>
</ul>
</li>
<li><p>ï»¿ï»¿Consulting corporations about social media activities</p>
<ul>
<li>ï»¿ï»¿Economics &amp; Web analvtics</li>
<li>ï»¿ï»¿For example, role of micro influencers on local economy</li>
<li>ï»¿ï»¿How much hate a brand page generates due to some comments, â€¦.</li>
</ul>
</li>
<li><p>ï»¿ï»¿Data analvtics</p>
<ul>
<li>ï»¿ï»¿Growth of information; structured and unstructured</li>
<li>ï»¿ï»¿Intersection of networks &amp; data</li>
</ul>
</li>
<li><p>Broble mew technologies to scientists and engineers working together on large scale</p>
</li>
</ul>
<h3 id="L2-DataClustering"><a href="#L2-DataClustering" class="headerlink" title="L2 DataClustering"></a>L2 DataClustering</h3><h4 id="Content-processing"><a href="#Content-processing" class="headerlink" title="Content processing"></a>Content processing</h4><h4 id="1-Removing-stuff"><a href="#1-Removing-stuff" class="headerlink" title="1. Removing stuff"></a>1. Removing stuff</h4><ul>
<li>Non-ascii removal</li>
</ul>
<p>remove the emojiâ€¦</p>
<p>![image-20230429103013009](..&#x2F;images&#x2F;webs&#x2F;:Users:joshua:Library:Application Support:typora-user-images:image-20230429103013009.png)</p>
<h4 id="2-Grouping-tweets"><a href="#2-Grouping-tweets" class="headerlink" title="2. Grouping tweets"></a>2. Grouping tweets</h4><ul>
<li>ï»¿ï»¿Based on content analysis like<ul>
<li>ï»¿ï»¿Clustering, locality sensitive hashing</li>
<li>ï»¿ï»¿Or through content indexes</li>
</ul>
</li>
<li>ï»¿ï»¿Once we know the groups<ul>
<li>ï»¿ï»¿We could analyse the words, user mentions, hashtags in these groups</li>
<li>ï»¿ï»¿We can add these terms to a list with a priority</li>
<li>ï»¿ï»¿This is possibly for identifying more tweets of this type<ul>
<li>ï»¿ï»¿Aim is data gathering</li>
</ul>
</li>
</ul>
</li>
<li>ï»¿ï»¿We can also look at proficient tweeters<ul>
<li>ï»¿ï»¿What are their total tweets</li>
</ul>
</li>
</ul>
<h4 id="3-Tokenization"><a href="#3-Tokenization" class="headerlink" title="3. Tokenization"></a>3. Tokenization</h4><p>Separate each token</p>
<p>Remove stopwords</p>
<h4 id="4-Vector-Representation"><a href="#4-Vector-Representation" class="headerlink" title="4. Vector Representation"></a>4. Vector Representation</h4><p>Documents are represented by a term vector</p>
<p><em>Di</em> &#x3D; (ti1,ti2 ,â€¦.,tin )</p>
<p>Queries are represented by a similar vector</p>
<p>â€¢ In binary scheme, tik is set to 1 when term k is present in Document i otherwise they are set to zero</p>
<ul>
<li>The most relevant documents for a query are expected to be those represented by the vectors closest to the query, that is documents that use similar words to the query.</li>
<li>ï»¿ï»¿Closeness is often calculated by just looking at angles between document vector and query vector</li>
<li>ï»¿ï»¿We need a similarity measure!<ul>
<li>Cosine similarity measure</li>
<li>Jaccard coefficient</li>
<li>Dice coefficient</li>
</ul>
</li>
</ul>
<h4 id="Finding-similar-tweets-Single-pass-clustering"><a href="#Finding-similar-tweets-Single-pass-clustering" class="headerlink" title="Finding similar tweets Single-pass clustering"></a>Finding similar tweets Single-pass clustering</h4><p><strong>Single-pass clustering</strong></p>
<ul>
<li><p>requires a single, sequential pass over the set of documents it attempts to cluster.</p>
</li>
<li><h4 id="The-algorithm-classifies-the-next-document-in-the-sequence-according-to-a-condition-on-the-similarity-function-employed"><a href="#The-algorithm-classifies-the-next-document-in-the-sequence-according-to-a-condition-on-the-similarity-function-employed" class="headerlink" title="The algorithm classifies the next document in the sequence according to a condition on the similarity function employed."></a>The algorithm classifies the next document in the sequence according to a condition on the similarity function employed.</h4></li>
<li><p>At every stage, <strong>the algorithm decides on whether a newly seen document should become a member of an already defined cluster or the centre of a new one.</strong></p>
<ul>
<li>In its most simple form, the similarity function gets defined on the basis of just some similarity (or alternatively, dissimilarity) measure between document-feature vectors.</li>
</ul>
</li>
</ul>
<p>![image-20230429121645868](..&#x2F;images&#x2F;webs&#x2F;:Users:joshua:Library:Application Support:typora-user-images:image-20230429121645868.png)</p>
<p>Comments on Single Pass Method</p>
<ul>
<li>ï»¿ï»¿The single pass method is particularly simple<ul>
<li>ï»¿ï»¿since it requires that the data set be processed only once.</li>
</ul>
</li>
<li>ï»¿ï»¿Obviously, the results for this method are highly dependent on the similarity threshold that is used.</li>
<li>ï»¿ï»¿It tends to produce large clusters early in the clustering pass,<ul>
<li>ï»¿ï»¿and because the clusters formed are not independent of the order in which the data set is processed.</li>
<li>ï»¿ï»¿You should use your judgment in setting this threshold so that you are left with a reasonable number of clusters.</li>
</ul>
</li>
<li>ï»¿ï»¿It is sometimes used to form the groups that are used to initiate reallocation clustering.<ul>
<li>ï»¿ï»¿If we get a large noisy clusters of tweets, we could re-cluster them!!!</li>
</ul>
</li>
</ul>
<h3 id="L3-Credibility-amp-Newsworthiness"><a href="#L3-Credibility-amp-Newsworthiness" class="headerlink" title="L3 Credibility &amp; Newsworthiness"></a>L3 Credibility &amp; Newsworthiness</h3><h4 id="Newsworthy"><a href="#Newsworthy" class="headerlink" title="Newsworthy"></a><strong>Newsworthy</strong></h4><p>Key characteristics of newsworthy score</p>
<ul>
<li>ï»¿ï»¿Real-time<ul>
<li>ï»¿ï»¿Tweets should be scored as soon as it arrives!</li>
</ul>
</li>
<li>ï»¿ï»¿Generalizability<ul>
<li>ï»¿ï»¿Should be able to handle any types of events - not those just seen before</li>
</ul>
</li>
<li>ï»¿ï»¿Adaptive<ul>
<li>ï»¿ï»¿New information to be incorporated, as and when they arrive</li>
<li>ï»¿ï»¿Incorporate new information to the scoring model</li>
</ul>
</li>
</ul>
<p>These characteristics should be realized with the help of <strong>classification approach</strong> and <strong>distant supervision</strong>.</p>
<h4 id="HeurisIc-Labelling"><a href="#HeurisIc-Labelling" class="headerlink" title="HeurisIc Labelling"></a><strong>HeurisIc Labelling</strong></h4><ul>
<li>ï»¿ï»¿Semi-automatic labelling approach<ul>
<li>ï»¿ï»¿Using a set of heuristics to label<ul>
<li>ï»¿ï»¿High quality (newsworthy) and low quality (noisy) content</li>
</ul>
</li>
</ul>
</li>
<li>ï»¿ï»¿This will not label majority of the content</li>
<li>ï»¿ï»¿Advantages<ul>
<li>ï»¿ï»¿Minimal effort in creating a data set</li>
<li>ï»¿ï»¿Real-life data set - incremental and generalizable</li>
<li>ï»¿ï»¿Easily built as part of an algorithm for example event detection</li>
</ul>
</li>
</ul>
<p><strong>Overall approach</strong></p>
<ul>
<li><p>Collect a set of high-quality sets and low-quality sets of data</p>
</li>
<li><p>Use this dataset to potentially score a newsworthy tweet</p>
</li>
</ul>
<h4 id="Quality-Score"><a href="#Quality-Score" class="headerlink" title="Quality Score"></a>Quality Score</h4><p>Quality Score &#x3D; (profileWeight + verifiedWeight + followers Weight + accountAgeWeight + descriptionWeight)&#x2F;5</p>
<p>Range is [0 to 1]</p>
<p>if q score is higher than 0.65 -&gt; high quality </p>
<p>if q score is lower than 0.45 -&gt; low quality</p>
<h4 id="Scoring-model"><a href="#Scoring-model" class="headerlink" title="Scoring model"></a>Scoring model</h4><p>Likelihood ratio for each term</p>
<ul>
<li>ï»¿ï»¿R(t) &#x3D; relative importance of term in the particular quality model when compared to random background model</li>
<li>ï»¿ï»¿&gt;1<ul>
<li>ï»¿Term is more common in the model than random</li>
</ul>
</li>
<li>ï»¿ï»¿&lt;1<ul>
<li>ï»¿ï»¿Term is less common in the model than random</li>
</ul>
</li>
</ul>
<p>![image-20230429134512747](..&#x2F;images&#x2F;webs&#x2F;:Users:joshua:Library:Application Support:typora-user-images:image-20230429134512747.png)</p>
<p><strong>cntd</strong></p>
<p>if RHQ(t)&lt;2 or RLQ(t)&lt;2 then the Score will be set 0 as to remove the terms which have no clear association with either high quality content or low-quality content.</p>
<p>![image-20230429134931099](..&#x2F;images&#x2F;webs&#x2F;:Users:joshua:Library:Application Support:typora-user-images:image-20230429134931099.png)</p>
<h3 id="L4-Geo-localisation"><a href="#L4-Geo-localisation" class="headerlink" title="L4-Geo-localisation"></a>L4-Geo-localisation</h3><h4 id="Fine-grained-localization"><a href="#Fine-grained-localization" class="headerlink" title="Fine-grained localization"></a>Fine-grained localization</h4><p>Fine-grained localization refers to the task of accurately localizing objects or entities within an image or a video with high precision, usually at a sub-pixel or sub-object level. This involves identifying the precise location of the object, as well as any associated attributes such as shape, texture, and color.</p>
<p>The goal of fine-grained localization is to provide more detailed and accurate information about the location and properties of objects in an image, which can be useful for a range of applications such as object tracking, object recognition, and scene understanding.</p>
<p>Fine-grained localization can be challenging due to the variability in object appearance, pose, and scale. To overcome these challenges, various techniques such as deep learning and computer vision algorithms have been developed.</p>
<p>Examples of fine-grained localization tasks include localizing individual bird species in a bird-watching image, identifying specific car models in a crowded parking lot, or detecting the presence of a particular species of fish in an underwater video.</p>
<p><strong>Problem statement</strong></p>
<ul>
<li>ï»¿ï»¿Geo-localization<ul>
<li>ï»¿ï»¿Provide location estimates for individual tweets</li>
</ul>
</li>
<li>ï»¿ï»¿coarse-grained Geo-localization<ul>
<li>ï»¿ï»¿Provide location estimates for individual tweets at regional or country level</li>
</ul>
</li>
<li>ï»¿ï»¿fine-grained Geo-localization<ul>
<li>ï»¿ï»¿Provide location estimates for individual tweets at city or neighbourhood level</li>
</ul>
</li>
<li>ï»¿ï»¿Approach<ul>
<li>ï»¿ï»¿Train a model on a geo-tagged data set<ul>
<li>ï»¿ï»¿Validate and test on geo-tagged data</li>
<li>ï»¿ï»¿Test on non-geo tagged data as well</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="Topic3-Topic-modelling"><a href="#Topic3-Topic-modelling" class="headerlink" title="Topic3 Topic modelling"></a>Topic3 Topic modelling</h2><h3 id="Topic-modelling"><a href="#Topic-modelling" class="headerlink" title="Topic modelling"></a>Topic modelling</h3><h4 id="Discuss-why-searching-is-limited-when-exploring-a-collection"><a href="#Discuss-why-searching-is-limited-when-exploring-a-collection" class="headerlink" title="Discuss why searching is limited when exploring a collection"></a><strong>Discuss why searching is limited when exploring a collection</strong></h4><p>When exploring a collection, searching can be limited by various factors such as the completeness and accuracy of the metadata, the complexity of the query, and the quality of the search algorithm.</p>
<p>Firstly, the completeness and accuracy of the metadata associated with each item in the collection can limit the effectiveness of searching. If the metadata is incomplete or inconsistent, important information about an item may not be captured, making it difficult or impossible to find through search queries.</p>
<p>Secondly, the complexity of the search query can also limit the effectiveness of searching. For example, if a user is looking for items that have multiple attributes or characteristics, such as a specific color and shape, the search query may become too complex and difficult to execute accurately.</p>
<p>Finally, the quality of the search algorithm used to explore the collection can also limit the effectiveness of searching. If the algorithm is not designed to handle the specific characteristics of the collection or the query, it may return irrelevant or incomplete results.</p>
<p>To overcome these limitations, various techniques can be employed such as using natural language processing to simplify complex search queries, improving the quality and completeness of metadata through manual curation or machine learning techniques, and using advanced search algorithms that take into account the specific characteristics of the collection and query.</p>
<p>Topic modelling is the process of using a topic model to discover the <strong>hidden topics</strong> that are represented by a large collection of documents</p>
<ul>
<li><p>Observed</p>
<ul>
<li><p>ï»¿ï»¿collection</p>
</li>
<li><p>ï»¿ï»¿Document &amp; words</p>
</li>
</ul>
</li>
<li><p>ï»¿ï»¿Aim</p>
<ul>
<li>ï»¿ï»¿Use the observed information to infer<ul>
<li>ï»¿ï»¿Hidden structure</li>
</ul>
</li>
</ul>
</li>
<li><p>ï»¿ï»¿Topic structure - hidden</p>
<ul>
<li>ï»¿ï»¿per document topic distributions</li>
<li>ï»¿ï»¿Per document per-word topic assignments<ul>
<li>ï»¿ï»¿Annotationâ€¦</li>
<li>ï»¿ï»¿Can be used for retrieval, classification, browsing?</li>
</ul>
</li>
</ul>
</li>
<li><p>ï»¿ï»¿Utility</p>
<ul>
<li>ï»¿ï»¿Inferred hidden structure resembles the thematic structure of the collection</li>
</ul>
</li>
</ul>
<p><strong>latent</strong></p>
<p>(of a quality or state) existing but not yet developed or manifest hidden or concealed.;</p>
<p>Topic modelling </p>
<ul>
<li>A machine learning approach for Mining latent topics</li>
</ul>
<p>Identify hidden, gigantic structures</p>
<p>Probabilistic topic models</p>
<ul>
<li>a suite of algorithms that aim to discover and annotate large archives of documents of thematic information</li>
</ul>
<h4 id="Our-goal-in-topic-modelling"><a href="#Our-goal-in-topic-modelling" class="headerlink" title="Our goal in topic modelling"></a>Our goal in topic modelling</h4><ul>
<li>ï»¿ï»¿The goal of topic modeling is to automatically discover the topics in a collection of documents</li>
<li>ï»¿ï»¿Documents are observed<ul>
<li>ï»¿ï»¿Topics, per-document and per-word topic assignments - hidden</li>
<li>ï»¿ï»¿Hence latent!</li>
</ul>
</li>
<li>ï»¿ï»¿The central computation problem for topic modelling is to use the observed documents to infer hidden topic structure</li>
<li>ï»¿ï»¿Think it as reversing the generative process<ul>
<li>ï»¿ï»¿What is the hidden structure that likely generated the observed collection?</li>
</ul>
</li>
</ul>
<h4 id="LDA-Latent-Dirichlet-Allocation"><a href="#LDA-Latent-Dirichlet-Allocation" class="headerlink" title="LDA (Latent Dirichlet Allocation)"></a>LDA (Latent Dirichlet Allocation)</h4><ul>
<li><p>ï»¿ï»¿Is a statistical model of document collections that tries to capture the intuition<br> Each document can be described by a distribution of topics and each topic can be described by a distribution of words</p>
</li>
<li><p>ï»¿ï»¿Topic</p>
<ul>
<li><p>ï»¿ï»¿Defined as a distribution over the words&#x2F; fixed vocabulary</p>
<ul>
<li><p>E.g., genetic topic has words about genetics (sequenced, genes) with high probability</p>
</li>
<li><p>ï»¿ï»¿Evolutionary biology has words like life, organism with high probability</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="Topic-Modelling-Approaches"><a href="#Topic-Modelling-Approaches" class="headerlink" title="Topic Modelling Approaches"></a>Topic Modelling Approaches</h4><ul>
<li>Number of possible topic structures is exponentially large</li>
<li>Approximate the posterior distribution</li>
<li>Topic modelling algorithms form an approximation of equation, <ul>
<li>by adapting an alternative distribution over latent topic structure to be close to the true posterior</li>
</ul>
</li>
</ul>
<p>Two approaches:</p>
<p><strong>1. Sampling based!</strong></p>
<p>Attempt to collect samples from the posterior to approximate it with an empirical distribution <strong>â€“ Gibbs sampling!</strong></p>
<p><strong>2. Variational methods!</strong></p>
<p>Deterministic alternative to sampling based methods</p>
<p>Posit a parametrised family of distributions over the hidden structure and then find the member of that family that is closest to the posterior</p>
<p><strong>Summary</strong></p>
<p>The user specifies that there are K distinct topics</p>
<p>â€‹	Each of the K topics is drawn from a aDirchlet distribution</p>
<p>â€‹		Uniform base distribution (u) and concentration parameter B</p>
<p>â€‹		theta_k ~ Dir(Bu)</p>
<p>Distributions over topics of each document 	theta_d ~ Dir (au)</p>
<ul>
<li>ï»¿ï»¿Topic assignment Z_d,n ~ Discrete(theta_d)</li>
<li>ï»¿Wd,n~theta_Z(d,n)</li>
</ul>
<p><strong>Sampling based!</strong></p>
<p>Attempt to collect samples from the posterior to approximate it with an empirical distribution - <strong>Gibbs sampling!</strong></p>
<p><strong>Variational methods!</strong></p>
<p>Deterministic alternative to sampling based methods</p>
<p>Posit a parametrised family of distributions over the hidden structure and then find the member of that family that is closest to the posterior</p>
<p><strong>Gibbs Sampling</strong></p>
<p>It generates samples from complex, high-dimensional probability distributions.</p>
<p>The algorithm for Gibbs sampling is as follows:</p>
<ol>
<li>Initialize each variable with an initial value.</li>
<li>Choose a variable to update, say the i-th variable.</li>
<li>Sample a new value for the i-th variable from its conditional distribution, given the current values of the other variables.</li>
<li>Repeat steps 2 and 3 for a specified number of iterations or until convergence is achieved.</li>
</ol>
<h4 id="LDA"><a href="#LDA" class="headerlink" title="LDA"></a><strong>LDA</strong></h4><ul>
<li><p>ï»¿ï»¿LDA is a probabilistic generative model</p>
<ul>
<li>ï»¿ï»¿Each document is a distribution of topics</li>
<li>ï»¿ï»¿Each topic is a distribution of words</li>
</ul>
</li>
<li><p>ï»¿ï»¿Sample a topic from a document-level topic distribution</p>
<ul>
<li>ï»¿ï»¿That obeys Dirichlet distribution</li>
</ul>
</li>
<li><p>ï»¿ï»¿Then sample a words according to the topic distribution of this topic</p>
<ul>
<li>ï»¿ï»¿Dirichlet distribution</li>
</ul>
</li>
<li><p>ï»¿ï»¿Generate a document</p>
</li>
<li><p>ï»¿ï»¿Hence, LDA implicitly model document level word co-occurrence pattern</p>
</li>
<li><p>ï»¿ï»¿Sparsity problem exacerbates performance issues</p>
<ul>
<li>ï»¿ï»¿The limited contexts make it more difficult for topic models to identify the senses of ambiguous words in short documents.</li>
</ul>
</li>
<li><p>ï»¿ï»¿Short documents like Tweet</p>
<ul>
<li>ï»¿ï»¿Sparse words â€¦</li>
<li>ï»¿ï»¿Time-sensitive</li>
<li>ï»¿ï»¿Lack of clear context because not much information; no formal structure<ul>
<li>ï»¿ï»¿How words are related often measured through co-occurrence patterns</li>
<li>ï»¿ï»¿In short texts document-level co-occurrence patterns are difficult to capture</li>
</ul>
</li>
</ul>
</li>
<li><p>ï»¿ï»¿Massive volume of tweet;</p>
<ul>
<li>ï»¿ï»¿Memory requirements</li>
</ul>
</li>
<li><p>ï»¿ï»¿Real-time nature</p>
</li>
</ul>
<p>Problem with LDA to train twitter</p>
<p><strong>Why not LDA?</strong></p>
<ul>
<li>LDA needs to be trained on the entire data sets<ul>
<li>Memory requirements for the model</li>
</ul>
</li>
<li>LDA is trained and tested on a data set<ul>
<li>Time-sensitive nature of Twitter</li>
</ul>
</li>
</ul>
<p>How to address this issue â€¦?</p>
<ul>
<li>ï»¿ï»¿Enrich the word co -occurrence information<ul>
<li>ï»¿ï»¿To enrich the limited word co -occurrence information contained in a single short text,</li>
</ul>
</li>
<li>ï»¿ï»¿Make larger texts by grouping short texts (tweets)<ul>
<li>ï»¿ï»¿Grouping tweets by the authors</li>
<li>ï»¿ï»¿However, this aggregation method highly depends on the meta - information of each text,<ul>
<li>ï»¿ï»¿which may not always be available for many kinds of short texts.</li>
</ul>
</li>
<li>ï»¿ï»¿Another strategy models the similarity between texts to aggregate similar texts into a long pseudo -document</li>
</ul>
</li>
<li>ï»¿ï»¿Explicit text similarity</li>
</ul>
<h2 id="Topic4-Network-Analysis"><a href="#Topic4-Network-Analysis" class="headerlink" title="Topic4 Network Analysis"></a>Topic4 Network Analysis</h2><h3 id="L6-Graph-based-Network-Analysis"><a href="#L6-Graph-based-Network-Analysis" class="headerlink" title="L6 Graph-based Network Analysis"></a>L6 Graph-based Network Analysis</h3><h4 id="Graph-Modelling"><a href="#Graph-Modelling" class="headerlink" title="Graph Modelling"></a>Graph Modelling</h4><ul>
<li>ï»¿ï»¿Capturing structural properties of social networks</li>
<li>ï»¿ï»¿Relationships formed between individuals<ul>
<li>ï»¿ï»¿To identify clusters</li>
<li>ï»¿ï»¿Cliques and connected components of users</li>
<li>ï»¿ï»¿Centrality measures</li>
</ul>
</li>
<li>ï»¿ï»¿Hashtags<ul>
<li>ï»¿ï»¿Which hashtags are strongly connected</li>
</ul>
</li>
</ul>
<p><strong>Centrality Measures:</strong> Find the influential users, find the centre of a graph.</p>
<p><strong>Why graph?</strong></p>
<ul>
<li><p>ï»¿ï»¿By analyzing network data, we can ask many questions</p>
<ul>
<li>ï»¿ï»¿Who is most important in a network?</li>
<li>ï»¿ï»¿Which way information flows?</li>
</ul>
</li>
<li><p>ï»¿ï»¿We can use graph analysis to answer questions like these</p>
</li>
<li><p>ï»¿ï»¿Note</p>
<ul>
<li>ï»¿ï»¿Sample questions!</li>
<li>ï»¿ï»¿What are people talking about?<br> How are they responding to a product?</li>
<li>ï»¿ï»¿The breadth of such analyses is huge and not covered fully</li>
</ul>
</li>
</ul>
<h4 id="Graph-Theory"><a href="#Graph-Theory" class="headerlink" title="Graph Theory"></a><strong>Graph Theory</strong></h4><p><strong>Graph</strong></p>
<ul>
<li><p>ï»¿ï»¿Graphs are way to formally represent a network or a set of interconnected objects</p>
</li>
<li><p>ï»¿ï»¿Nodes and edges</p>
</li>
<li><p>ï»¿ï»¿Unlike trees no concept of root node, In the graph, there is no unique node which is known as root.</p>
</li>
<li><p>ï»¿ï»¿One node might be connected to five others!</p>
</li>
<li><p>ï»¿ï»¿No concept one-directional flow!</p>
</li>
</ul>
<p>ï»¿ï»¿<strong>Edges</strong></p>
<ul>
<li>ï»¿ï»¿With direction or flow!</li>
<li>ï»¿ï»¿Without direction!</li>
</ul>
<p><strong>Direction</strong></p>
<ul>
<li>ï»¿ï»¿Origin to destination</li>
</ul>
<p><strong>Trees vs graphs</strong></p>
<p>A tree is a set of nodes and edges. In a tree, there is a unique node which is known as root.</p>
<p>Terminology - <strong>Undirected</strong> graphs</p>
<ul>
<li>ï»¿ï»¿u and v are adjacent if {u, v} is an edge,<ul>
<li>ï»¿ï»¿e is called incident with u and v</li>
<li>ï»¿ï»¿u and v are called endpoints of {u, v}</li>
</ul>
</li>
<li>ï»¿ï»¿Degree of Vertex (deg (V)):<ul>
<li>ï»¿ï»¿the number of edges incident on a vertex.</li>
<li>ï»¿ï»¿<strong>A loop contributes twice to the degree</strong></li>
</ul>
</li>
</ul>
<p>Terminology - <strong>Directed</strong> graphs</p>
<ul>
<li>ï»¿ï»¿For the edge (u, v), u is adjacent to v OR v is adjacent from u,</li>
<li>ï»¿ï»¿u - Initial vertex origin)</li>
<li>ï»¿ï»¿v - Terminal vertex destination)</li>
<li>ï»¿ï»¿In-degree (deg (u)): number of edges for which u is terminal vertex</li>
<li>ï»¿ï»¿Out-degree (deg+ (u)): number of edges for which u is initial vertex</li>
</ul>
<p><strong>Incidence Matrix:</strong></p>
<p>What are the maximum potential edges?</p>
<p>Undirected graph: (n*(n-1))&#x2F;2</p>
<p>Directed graph (n*(n-1))</p>
<p>Edge density &#x3D; no of edges&#x2F; max no of edges possible</p>
<p><strong>Adjacency Matrix</strong></p>
<ul>
<li><p>ï»¿ï»¿There is an N x N matrix, where |V| &#x3D; N,</p>
</li>
<li><p>ï»¿ï»¿the Adjacenct Matrix (NÃ—N)</p>
</li>
<li><p>ï»¿ï»¿This makes it easier to find subgraphs</p>
</li>
<li><p>ï»¿ï»¿When there are relatively few edges in the graph the adjacency matrix is a sparse matrix</p>
</li>
</ul>
<h4 id="Graph-analysis-in-twitter"><a href="#Graph-analysis-in-twitter" class="headerlink" title="Graph analysis in twitter"></a>Graph analysis in twitter</h4><p>Twitter is directed graph while facebook is undirected</p>
<p><strong>Why graph analysis?</strong></p>
<ul>
<li>ï»¿ï»¿By analyzing tweet data, we can ask many questions</li>
<li>ï»¿ï»¿Who is most important in a network?</li>
<li>ï»¿ï»¿How did the information flow?</li>
<li>ï»¿ï»¿How could we reach 50% of the graph?</li>
<li>ï»¿ï»¿Who is more influential?</li>
<li>ï»¿ï»¿What are people talking about?</li>
<li>ï»¿ï»¿How are they responding to a product?</li>
</ul>
<p><strong>Centrality</strong></p>
<p>find who is important</p>
<ul>
<li>Measures of importance in social networks are called centrality measures</li>
</ul>
<p><strong>Degree centrality</strong></p>
<ul>
<li><p>Who gets the most re-tweets?</p>
<ul>
<li>Basically says who is most important in the network</li>
</ul>
</li>
<li><p>In-degree: number of retweets of a user</p>
</li>
<li><p>Out-degree: number of retweets this particular user made</p>
</li>
<li><p>ï»¿ï»¿The degree centrality is a fundamental metric in network analysis.</p>
</li>
<li><p>ï»¿ï»¿It is used to directly quantify the number of nodes in the network that a given node is adjacent to.</p>
</li>
<li><p>ï»¿ï»¿for directed networks</p>
<ul>
<li>ï»¿ï»¿There are variations of this metric that are used, where connections between nodes have a directionality.</li>
</ul>
</li>
<li><p>ï»¿ï»¿In directed networks, it makes sense to talk about the following:</p>
</li>
<li><p>ï»¿ï»¿In-degree - For a given node, how many edges are incoming to the node.<br> the node.</p>
</li>
<li><p>ï»¿Out-degree - For a given node, how many edges are outgoing from</p>
</li>
<li><p>ï»¿ï»¿CD(v) &#x3D; deg(v)</p>
</li>
</ul>
<p><strong>Centrality measures!</strong></p>
<p>Designed to characterise</p>
<ul>
<li>ï»¿ï»¿Functional role - what part does this node play in system dynamics?</li>
<li>ï»¿ï»¿Structural importance - how important is this node to the structural characteristics of the system?</li>
</ul>
<p>In each of the following networks, X has higher centrality than Y according to a particular measure</p>
<p>![image-20230430204648900](..&#x2F;images&#x2F;webs&#x2F;:Users:joshua:Library:Application Support:typora-user-images:image-20230430204648900.png)</p>
<ul>
<li>ï»¿ï»¿â€œWho is the most important or central person in this network?â€<ul>
<li>ï»¿ï»¿There are many answers to this question, depending on what we mean by importance.</li>
</ul>
</li>
<li>ï»¿ï»¿The power a person holds in the organization is inversely proportional to the number of keys on his keyring.<ul>
<li>ï»¿ï»¿A janitor has keys to every office, and no power.</li>
<li>ï»¿ï»¿The CEO does not need a key: people always open the door for him.</li>
</ul>
</li>
<li>ï»¿ï»¿Degree centrality of a vertex</li>
</ul>
<p>![image-20230430205230578](..&#x2F;images&#x2F;webs&#x2F;:Users:joshua:Library:Application Support:typora-user-images:image-20230430205230578.png)</p>
<p>![image-20230430210025438](..&#x2F;images&#x2F;webs&#x2F;:Users:joshua:Library:Application Support:typora-user-images:image-20230430210025438.png)</p>
<p>Eigenvector centrality</p>
<ul>
<li><p>ï»¿ï»¿Who is the most influential</p>
</li>
<li><p>ï»¿ï»¿In contrast to degree centrality</p>
<ul>
<li>ï»¿ï»¿How important are these retweeters?</li>
</ul>
</li>
<li><p>ï»¿ï»¿is a measure of the influence of a node</p>
<ul>
<li>ï»¿ï»¿It assigns relative scores to all nodes in the network based on the concept that</li>
<li>ï»¿ï»¿connections to high-scoring nodes contribute more to the score of the node in<br> question<ul>
<li>ï»¿ï»¿than equal connections to low-scoring nodes.</li>
</ul>
</li>
</ul>
</li>
<li><p>ï»¿ï»¿Googleâ€™s page rank is variant of the eigenvector centrality.</p>
</li>
<li><p>ï»¿ï»¿Using Adjacency network</p>
<ul>
<li>ï»¿ï»¿Ax &#x3D; lambda x</li>
<li>ï»¿ï»¿there is a unique largest eigenvalue, which is real and positive,</li>
<li>ï»¿ï»¿This greatest eigenvalue results in the desired centrality measure.</li>
</ul>
</li>
</ul>
<p>Betweenness Centrality&#x2F;Closeness Centrality</p>
<p><strong>Betweenness centrality</strong> measures the number shortest paths in which the user is in the sequence of nodes in the path.</p>
<ul>
<li>It was introduced as a measure for quantifying the control of a human on the communication between other humans in social network.</li>
<li>In this conception, vertices that have a high probability to occur on a randomly chosen shortest path between two randomly chosen vertices have a high betweenness.</li>
</ul>
<p>![image-20230430213515337](..&#x2F;images&#x2F;webs&#x2F;:Users:joshua:Library:Application Support:typora-user-images:image-20230430213515337.png)</p>
<p>Closeness Centrality: Definition</p>
<ul>
<li>ï»¿ï»¿Closeness is based on the length of the average shortest path between a vertex and all vertices in the graph</li>
<li>ï»¿ï»¿Closeness Centrality</li>
</ul>
<h3 id="L7-Retweet-Graph-Trend-amp-Influencers"><a href="#L7-Retweet-Graph-Trend-amp-Influencers" class="headerlink" title="L7_Retweet Graph Trend &amp; Influencers"></a>L7_Retweet Graph Trend &amp; Influencers</h3><p>Information diffusion â€¦.</p>
<p>tracing, understanding and predicting how </p>
<p>a piece of information is spreading. </p>
<h4 id="Information-diffusion"><a href="#Information-diffusion" class="headerlink" title="Information diffusion"></a>Information diffusion</h4><ul>
<li><p>in online communities, tracking the information diffusion is useful for many applications, for example,</p>
<ul>
<li>ï»¿ï»¿such as early warning systems,</li>
<li>ï»¿ï»¿social bot and community detection,</li>
<li>ï»¿ï»¿user location prediction,</li>
<li>ï»¿ï»¿financial recommendations,</li>
<li>ï»¿ï»¿marketing campaign effectiveness,</li>
<li>ï»¿ï»¿political mobilization and protests</li>
</ul>
</li>
<li><p>ï»¿ï»¿Twitter offers four possible actions to express interest in specific content:</p>
<ul>
<li>ï»¿ï»¿<strong>favorite</strong>, <strong>reply</strong>, <strong>quote</strong> and <strong>retweet</strong>.</li>
<li>ï»¿ï»¿Replying or liking a tweet does not involve the spread of the content,</li>
<li>ï»¿ï»¿whereas quotes and retweets are actions used to<ul>
<li>ï»¿ï»¿share information with a wider audience.</li>
</ul>
</li>
</ul>
</li>
<li><p>ï»¿ï»¿A retweet is often considered an endorsement, i.e., the user supports the original tweetâ€™s content,</p>
</li>
<li><p>ï»¿ï»¿whereas <strong>quoting</strong> may be done in order to express a different idea</p>
</li>
</ul>
<h4 id="Hashtags-amp-mentions"><a href="#Hashtags-amp-mentions" class="headerlink" title="Hashtags&amp;mentions"></a>Hashtags&amp;mentions</h4><ul>
<li>ï»¿ï»¿Hashtag - adding a â€œ#â€ to the beginning of an unbroken word or phrase creates a hashtag.<ul>
<li>When you use a hashtag in a Tweet, it becomes linked to all of the other<br>Tweets that include it.</li>
<li>ï»¿ï»¿Including a hashtag gives your Tweet context and allows people to easily follow topics that theyâ€™re interested in.</li>
</ul>
</li>
</ul>
<p>@Mentions are used when talking to or about someone (the user account of a person, brand, group, etc.)</p>
<ul>
<li>ï»¿ï»¿In marketing</li>
<li>ï»¿ï»¿Using hashtags helps a brand connect with whatâ€™s happening on Twitter.<br> When brands connect with whatâ€™s happening on Twitter, they see</li>
<li>ï»¿ï»¿lifts across the marketing funnel, such as<ul>
<li>ï»¿ï»¿+18% message association, +8% brand awareness, and +3% purchase intent</li>
</ul>
</li>
</ul>
<h4 id="Twitter-REST-API"><a href="#Twitter-REST-API" class="headerlink" title="Twitter REST API"></a>Twitter REST API</h4><ul>
<li><p>ï»¿ï»¿The user Tweet timeline endpoint is a REST endpoint that receives a single path parameter to indicate the desired user (by user ID).</p>
<ul>
<li>ï»¿ï»¿The endpoint can return the 3,200 most recent<ul>
<li>ï»¿ï»¿Tweets, Retweets, replies, and Quote Tweets posted by the user.</li>
</ul>
</li>
</ul>
</li>
<li><p>ï»¿ï»¿User mention timeline</p>
<ul>
<li>ï»¿ï»¿The user mention timeline endpoint allows you to request Tweets</li>
<li>ï»¿ï»¿mentioning a specific Twitter user, for example,<ul>
<li>ï»¿ï»¿if a Twitter account mentioned @TwitterDev within a Tweet</li>
</ul>
</li>
</ul>
</li>
<li><p>it is possible to collect a huge amount of information regarding tweets, accounts, usersâ€™ timelines and social networks (i.e., following and followers).</p>
</li>
</ul>
<h4 id="Interaction-among-users"><a href="#Interaction-among-users" class="headerlink" title="Interaction among users"></a>Interaction among users</h4><ul>
<li>ï»¿ï»¿In order to understand the connections among users, it is important to consider not only their social networks<ul>
<li>ï»¿ï»¿but also, the way they interact, especially through retweets</li>
</ul>
</li>
<li>ï»¿ï»¿the Twitter API does not provide complete information about retweets and their propagation paths.<ul>
<li>ï»¿ï»¿More precisely, the only information carried by a retweet is the original user</li>
</ul>
</li>
<li>ï»¿ï»¿To estimate retweet cascade graphs,<ul>
<li>ï»¿ï»¿many strategies based on social network information</li>
<li>ï»¿ï»¿(i.e., friends and followers) in conjunction with temporal information</li>
</ul>
</li>
</ul>
<h4 id="Retweet-Graph"><a href="#Retweet-Graph" class="headerlink" title="Retweet Graph"></a>Retweet Graph</h4><ul>
<li><p>ï»¿ï»¿a graph of users, where an edge</p>
<ul>
<li>ï»¿ï»¿means that one of the users has retweeted a message of a different user.</li>
</ul>
</li>
<li><p>ï»¿ï»¿retweet graph G &#x3D; (V, E),</p>
<ul>
<li>ï»¿ï»¿which is a graph of users that have participated in the discussion on a specific topic.</li>
<li>ï»¿ï»¿A directed edge e &#x3D; (u, v) indicates that user v has retweeted a tweet of u.</li>
<li>ï»¿ï»¿Or e &#x3D; (u, v) indicates that user u has retweeted a tweet of v.</li>
</ul>
</li>
</ul>
<p>![image-20230430225752042](..&#x2F;images&#x2F;webs&#x2F;:Users:joshua:Library:Application Support:typora-user-images:image-20230430225752042.png)</p>
<p>Count the number of links to a node in the network</p>
<ul>
<li>ï»¿ï»¿the number of directed edges with source (destination)</li>
<li>ï»¿ï»¿In-degree - number of retweets of a user<br> Out-degree - number of retweets this particular node (user)<br> made</li>
</ul>
<p>observe the retweet graph at the time instances t &#x3D; 0, 1, 2, . ..,</p>
<ul>
<li>ï»¿ï»¿where either a new node or a new edge was added to the graph,</li>
<li>ï»¿ï»¿G, &#x3D; (V+, Et) the retweet graph at time t</li>
</ul>
<p><strong>Issues in building interaction graph</strong></p>
<ul>
<li>ï»¿ï»¿prior studies exploited the fact that users tend to interact more often with newer tweets,<ul>
<li>ï»¿ï»¿and a user is more likely to retweet the last friend who retweeted content.</li>
</ul>
</li>
<li>ï»¿ï»¿However, this approach is no longer a reliable way of estimating retweet graphs,</li>
<li>ï»¿ï»¿Since, Twitter does not show content based on<ul>
<li>ï»¿ï»¿simple reverse chronological order,</li>
<li>ï»¿ï»¿but according to user interests, trending topics and interactions</li>
</ul>
</li>
<li>ï»¿ï»¿fetch all the required social network information.<ul>
<li>ï»¿ï»¿the time required to fetch all</li>
</ul>
</li>
<li>ï»¿ï»¿Due to the Twitter API rate limits, the time required to collect the list of friends and followers is<ul>
<li>ï»¿ï»¿six times greater with respect to downloading the userâ€™s timeline on average.</li>
</ul>
</li>
</ul>
<p><strong>Some findings</strong></p>
<ul>
<li>ï»¿ï»¿analyse the spread mechanics of content through hashtag use</li>
<li>ï»¿ï»¿and derive probabilities that users adopt a hashtag.</li>
<li>ï»¿ï»¿Hash tags tend to travel to more distant parts of the network and</li>
<li>ï»¿ï»¿URLs travel shorter distances.</li>
</ul>
<p>Random graph model</p>
<ul>
<li>ï»¿ï»¿Super-star random graph node for a giant component of a retweet graph.</li>
<li>ï»¿ï»¿users with many retweets have a higher chance to be retweeted,</li>
<li>ï»¿ï»¿however, there is also a super- star node that receives a new retweet at each step with a positive probability.</li>
</ul>
<h3 id="Modellng-Trends"><a href="#Modellng-Trends" class="headerlink" title="Modellng Trends"></a>Modellng Trends</h3><ul>
<li>ï»¿ï»¿Trending topics<ul>
<li>ï»¿ï»¿Ongoing topics that become suddenly extremely popular</li>
</ul>
</li>
<li>ï»¿ï»¿detecting different types of trends, for instance<ul>
<li>ï»¿ï»¿detecting emergencies,</li>
<li>ï»¿ï»¿earthquakes,</li>
<li>ï»¿ï»¿diseases or important events in sports.</li>
</ul>
</li>
<li>ï»¿ï»¿An important part of trending behaviour in social media is</li>
<li>ï»¿ï»¿the way these trends progress through the network.</li>
</ul>
<h3 id="Two-options"><a href="#Two-options" class="headerlink" title="Two options"></a>Two options</h3><ul>
<li><p>ï»¿ï»¿Content of the tweets discussing a topic</p>
<ul>
<li>ï»¿ï»¿How do we find this?</li>
</ul>
</li>
<li><p>ï»¿ï»¿Underlying networks describing the social ties between users of<br> Twitter</p>
<ul>
<li>ï»¿ï»¿a graph of users, where an edge means that one of the users has retweeted a message of a different user.</li>
</ul>
</li>
<li><p>ï»¿ï»¿In both cases, we could ask</p>
<ul>
<li><p>ï»¿ï»¿How big or small interaction network compared to followersâ€™ network?</p>
</li>
<li><p>What kind of information goes through the network?</p>
<ul>
<li>85% of content is&#x2F;was News!</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="Largest-connected-component-LCC"><a href="#Largest-connected-component-LCC" class="headerlink" title="Largest connected component LCC"></a>Largest connected component LCC</h4><ul>
<li>LCC refers to a maximum set of nodes</li>
<li>such that you can move from any node to any other node</li>
<li>in this set by only moving between side-adjacent nodes from the graph.</li>
</ul>
<p>All components of a graph can be found by looping through its vertices,</p>
<p>starting a new breadth-first or depth-first search whenever the loop reaches a vertex that has not already been included in a previously found component.</p>
<p><strong>Graph density</strong></p>
<ul>
<li>ï»¿ï»¿represents the ratio between the edges present in a graph ï»¿ï»¿and the maximum number of edges that the graph can contain.</li>
<li>ï»¿ï»¿Conceptually, it provides an idea of how dense a graph is in terms of edge connectivity.</li>
<li>ï»¿ï»¿In this work |E|&#x2F;|V|</li>
</ul>
<p><strong>size</strong> of the largest connected component (LCC) and its <strong>density</strong> are the most informative characteristics for predicting the peak in Twitter. </p>
<h4 id="Information-diffusion-amp-influencers"><a href="#Information-diffusion-amp-influencers" class="headerlink" title="Information diffusion &amp; influencers"></a>Information diffusion &amp; influencers</h4><p>Issue with retweet graph</p>
<ul>
<li><p>ï»¿ï»¿users might be exposed and influenced by a piece of information by multiple users, hence forming multiple influence paths</p>
</li>
<li><p>ï»¿ï»¿When a message arrives that is a retweet, every friend that has (re)tweeted at an earlier point in time ï»¿ï»¿has to be considered as a potential influencer</p>
</li>
<li><p>ï»¿ï»¿there is no agreement on the minimum number of followers needed to be regarded as an â€œinfluencerâ€</p>
</li>
<li><p>ï»¿ï»¿In fact, in marketing, they talk about</p>
<ul>
<li>Micro-influencers</li>
</ul>
</li>
</ul>
<p><strong>Influence paths express the relationship of â€œwho was influenced by whomâ€.</strong> </p>
<p>The set of influence paths form a social graph, that share a <strong>common root</strong> (a single user who first seeded a tweet). Influence path is referred as â€œinformation cascadeâ€. A cascade is formed when users forward the same original message from a user that we call the root user.</p>
<p><strong>Information cascade model</strong></p>
<ul>
<li><p>ï»¿how information is being propagated from user to user from the stream of messages and the social graph.</p>
</li>
<li><p>ï»¿Nodes of the cascade represent users (user nodes) of the social network that got ï»¿â€œinfluencedâ€ by the root or another user.</p>
</li>
<li><p>ï»¿Edges of the cascade represent edges of the social graph over which influence actually spread.</p>
</li>
</ul>
<p><strong>An â€œinfluencerâ€ in the case of Twitter is the so called â€œfriendâ€ that exposes information to his&#x2F;her followers and</strong></p>
<p>exerts influence on them in such a way that they forward this piece of information.</p>
<p>However, real data is missing?</p>
<p>we can derive these influence paths from these social connections among users.</p>
<p><strong>Absolute Interaction strength</strong></p>
<p>![image-20230501103443357](..&#x2F;images&#x2F;webs&#x2F;:Users:joshua:Library:Application Support:typora-user-images:image-20230501103443357.png)</p>
<p><strong>Retweet distribution</strong> </p>
<ul>
<li>ï»¿ï»¿The retweet distribution given the time delay between the retweet action date and the original tweet posting time<ul>
<li>ï»¿ï»¿for 16,304 cascades</li>
</ul>
</li>
<li>Temporal dynamics of the retweets after the respective roottime</li>
<li>ï»¿ï»¿Showing a decreasing trend,<ul>
<li>ï»¿ï»¿as the highest number of interactions occurred</li>
<li>ï»¿ï»¿soon after roottime (the original tweet creation date).</li>
</ul>
</li>
</ul>
<p><strong>Weighted information strength</strong></p>
<p>![image-20230501103700956](..&#x2F;images&#x2F;webs&#x2F;:Users:joshua:Library:Application Support:typora-user-images:image-20230501103700956.png)</p>
<p>![image-20230501103748922](..&#x2F;images&#x2F;webs&#x2F;:Users:joshua:Library:Application Support:typora-user-images:image-20230501103748922.png)</p>
<p><strong>Approach - Generating Retweet Cascade Graphs</strong> </p>
<p>![image-20230501103852547](..&#x2F;images&#x2F;webs&#x2F;:Users:joshua:Library:Application Support:typora-user-images:image-20230501103852547.png)</p>
<p><strong>No interaction</strong></p>
<p>![image-20230501103945037](..&#x2F;images&#x2F;webs&#x2F;:Users:joshua:Library:Application Support:typora-user-images:image-20230501103945037.png)</p>
<p><strong>In addition</strong></p>
<ul>
<li>ï»¿ï»¿when there are no available interactions by a user u, and thus</li>
<li>ï»¿ï»¿no IS values between u and any other user,</li>
<li>ï»¿ï»¿An alternative is to find a link from the u to another user in the cascade</li>
<li>ï»¿ï»¿collect the userâ€™s friend list by using the Twitter API, and</li>
<li>ï»¿ï»¿every userâ€™s friend that has retweeted at an earlier point in time is considered as a potential influencer</li>
<li>ï»¿ï»¿To identify the influencer that more likely spread the tweet to user u,</li>
<li>ï»¿ï»¿consider the most recent influencer, i.e., u is linked to the last friend that retweeted the message.</li>
<li>ï»¿ï»¿Users that still remaining without an edge after this second step are denoted as sparse nodes<br> (SN).</li>
</ul>
<p><strong>How do you find influencer nodes and communities?</strong></p>
<ul>
<li>How could we find important nodes?<ul>
<li>Influencers?</li>
</ul>
</li>
<li>How can we find the information paths?<ul>
<li>What measures you may use? <strong>Centrality</strong>, <strong>Degrees</strong>.</li>
</ul>
</li>
<li>What alternative mechanisms to weight graphs?</li>
</ul>
<h3 id="L8-Network-Analysis-Case-studies-in-Health-Communities"><a href="#L8-Network-Analysis-Case-studies-in-Health-Communities" class="headerlink" title="L8 Network Analysis - Case studies in Health Communities"></a>L8 Network Analysis - Case studies in Health Communities</h3><h4 id="Case-studies"><a href="#Case-studies" class="headerlink" title="Case studies"></a>Case studies</h4><p>How online communities of people with long-term conditions function &amp; evolve: network analysis of the structure and dynamics of the asthma UK and British lung foundation online communities,</p>
<p><strong>Problems</strong></p>
<ul>
<li><p>ï»¿ï»¿We have seen</p>
<ul>
<li><p>ï»¿ï»¿People express themselves through social media</p>
</li>
<li><p>ï»¿ï»¿Huge amount of data</p>
</li>
</ul>
</li>
<li><p>ï»¿ï»¿People suffering from mental health</p>
<ul>
<li>ï»¿ï»¿Silent suffering!</li>
</ul>
</li>
<li><p>ï»¿ï»¿Can we create a self-management or self-diagnosis tool</p>
<ul>
<li><p>ï»¿ï»¿A tool helping them to control their situation</p>
</li>
<li><p>ï»¿ï»¿A tool nudging them to get help!!</p>
</li>
</ul>
</li>
<li><p>ï»¿ï»¿To start with</p>
<ul>
<li>ï»¿ï»¿How prevalent is mental health issues in society?</li>
</ul>
</li>
<li><p>ï»¿ï»¿Can we mine network structure of social media to understand how communities support mental health issues?</p>
<ul>
<li>ï»¿ï»¿Network structure of social media data provide insights on support given by society on mental health issues</li>
</ul>
</li>
</ul>
<p><strong>Social Support</strong></p>
<p>Social Support is an exchange of resources between two individuals</p>
<ul>
<li><p>ï»¿ï»¿perceived by the provider or the recipient to be intended</p>
</li>
<li><p>ï»¿ï»¿to enhance the well-being of the recipient</p>
<ul>
<li><p>ï»¿ï»¿e.g.,</p>
<ul>
<li><p>ï»¿ï»¿Facebook interaction</p>
</li>
<li><p>ï»¿ï»¿RTs â€¦</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>How to extract signatures of perceived social support?</p>
<p><strong>Post-reply Network</strong></p>
<p>Example -&gt; StackOverflow</p>
<p>It is not like twitter, its form is due to the users shared same interest.</p>
<p>A community expertise network.</p>
<h4 id="Graph-modelling-WHAT-IS-INTERACTION-GRAPH"><a href="#Graph-modelling-WHAT-IS-INTERACTION-GRAPH" class="headerlink" title="Graph modelling WHAT IS INTERACTION GRAPH"></a><strong>Graph modelling WHAT IS INTERACTION GRAPH</strong></h4><p><strong>User interaction graph</strong></p>
<p>Tie</p>
<ul>
<li><p>ï»¿ï»¿Tie connect a pair of users&#x2F;actors by one or more relations</p>
<ul>
<li><p>ï»¿ï»¿Sharing information, financial or Psychological support</p>
</li>
<li><p>ï»¿ï»¿One relation or multiple set of relations</p>
</li>
<li><p>ï»¿ï»¿Vary in content, direction &amp; strength</p>
</li>
</ul>
</li>
<li><p>ï»¿ï»¿look at the actual tie between users instead of message level interactions</p>
</li>
</ul>
<p><strong>Structural prestige in online communities</strong></p>
<ul>
<li><p>ï»¿ï»¿A thread</p>
<ul>
<li>How many people a user replied (out degree!!)</li>
<li>ï»¿ï»¿How many people replied to the user (in degree!!)</li>
</ul>
</li>
<li><p>ï»¿ï»¿In directed networks</p>
<ul>
<li><p>ï»¿ï»¿People who send many responses&#x2F;replies</p>
</li>
<li><p>ï»¿ï»¿are considered to be prestigious</p>
</li>
<li><p>ï»¿ï»¿Or person with knowledge</p>
</li>
</ul>
</li>
</ul>
<p><strong>Size of a node</strong></p>
<ul>
<li>ï»¿ï»¿the size of the node depends on the number of replies send by the user</li>
<li>ï»¿ï»¿The more the number of replies, the larger the node</li>
</ul>
<p><strong>How to create an interaction graph?</strong></p>
<ul>
<li><p>ï»¿ï»¿the users who post and the corresponding reply users</p>
</li>
<li><p>ï»¿ï»¿A Pandas DataFrame contains two columns of node names</p>
<ul>
<li>ï»¿ï»¿posts_author, comments_author.</li>
</ul>
</li>
<li><p>ï»¿ï»¿use nx.from pandas_ edgelist() to transfer the DataFrame to a network graph.</p>
<ul>
<li><p>ï»¿ï»¿Network (NX) is a python software package,</p>
</li>
<li><p>ï»¿ï»¿used to create and operate complex networks,</p>
</li>
<li><p>ï»¿ï»¿and to learn the structure, dynamics and functions of complex networks.</p>
</li>
</ul>
</li>
<li><p>ï»¿ï»¿To distinguish the importance of each user who post,</p>
<ul>
<li><p>ï»¿ï»¿we set the size of these usersâ€™ to twice its node degree<br> Userâ€™s node orange</p>
</li>
<li><p>ï»¿ï»¿Replies node to light gray the directed edges to light blue colour.</p>
</li>
</ul>
</li>
</ul>
<p><strong>Temporal activity patterns</strong></p>
<ul>
<li>Let us study how the community thrive?<ul>
<li>How do they function and evolve over time?</li>
</ul>
</li>
<li>Basically we are answering research questions <ul>
<li>like â€œ what is the basic structure of SUCH online communities and how do they function and evolve over timeâ€</li>
</ul>
</li>
</ul>
<p><strong>Degree distributions</strong></p>
<ul>
<li><p>ï»¿ï»¿Look at the distribution of degrees,</p>
</li>
<li><p>ï»¿ï»¿Or the amount of edges a node has</p>
</li>
<li><p>ï»¿ï»¿Acros sall nodes in a graph</p>
</li>
<li><p>ï»¿ï»¿Top 1% of nodes</p>
<ul>
<li><p>ï»¿ï»¿in terms of degrees</p>
</li>
<li><p>ï»¿ï»¿most interactive and have<br> Established edges with a lot of other users by exchanging messages</p>
</li>
<li><p>ï»¿ï»¿Known as super users,</p>
</li>
</ul>
</li>
</ul>
<p><strong>Activity analysis</strong></p>
<ul>
<li><p>ï»¿ï»¿How are users engaging or community thrive?</p>
<ul>
<li>ï»¿ï»¿Does posting activity follow a time pattern?</li>
</ul>
</li>
<li><p>ï»¿ï»¿How many activity is happening on a daily or weekly basis on a particular community</p>
<ul>
<li><p>ï»¿ï»¿Number of messages exchanged in a community across the whole life cycle of data</p>
</li>
<li><p>ï»¿ï»¿how users engaging with a community</p>
</li>
</ul>
</li>
<li><p>ï»¿ï»¿Cumulative frequencies of activity</p>
<ul>
<li>ï»¿ï»¿Number of posts reply per week</li>
</ul>
</li>
</ul>
<p><strong>To understand the behaviour of the community</strong></p>
<ul>
<li><p>the trend tends to be linear,</p>
<ul>
<li>which indicates that the number of new replies per week remains stable.</li>
</ul>
</li>
<li><p>SuicideWatch, average 211605 posts to come weekly and PSTD average 1980 posts</p>
</li>
<li><p>This shows that the average weekly posting volume of Suicide Watch community users is almost 100 times that of PTSD.</p>
<ul>
<li>227,307 users in the SuicideWatch community, while PTSD has only 50032 users,</li>
</ul>
</li>
</ul>
<p><strong>Open question â€“ how do we distinguish two communities?</strong></p>
<p>Modularity Optimization: Modularity is a measure of the degree to which nodes in a network are connected within their own community compared to the connections between different communities. Modularity optimization involves identifying communities that maximize modularity, or in other words, communities that have a high degree of internal connections and a low degree of external connections.</p>
<p>Girvan-Newman Algorithm: This algorithm involves iteratively removing edges from the network in order of their â€œbetweenness centrality,â€ which is a measure of how often a given edge lies on the shortest path between two nodes. By removing edges in this way, the algorithm gradually breaks the network into smaller and smaller communities.</p>
<p>Label Propagation: This method involves assigning an initial label to each node in the network and then iteratively updating the labels based on the labels of neighboring nodes. Over time, nodes tend to cluster into groups with similar labels, forming communities.</p>
<p>Spectral Clustering: This method involves using the eigenvalues and eigenvectors of the networkâ€™s adjacency matrix to identify communities. By projecting the network onto a lower-dimensional space, spectral clustering can often separate nodes into distinct communities.</p>
<p> <strong>how did we study the behaviour of two communities &amp; what did we found?</strong></p>
<ul>
<li><p>ï»¿ï»¿For each week</p>
</li>
<li><p>ï»¿ï»¿Compute average post</p>
<ul>
<li><p>ï»¿ï»¿Look at the total posts by all users</p>
</li>
<li><p>ï»¿ï»¿Divided by total number of unique users</p>
</li>
</ul>
</li>
<li><p>ï»¿ï»¿How users are engaging with the community?</p>
<ul>
<li><p>ï»¿ï»¿A continuous engagement is good for the vitality of community.</p>
</li>
<li><p>ï»¿ï»¿Do these communities drive enough engagement and activity to sustain</p>
</li>
</ul>
</li>
</ul>
<p><strong>Super users</strong></p>
<ul>
<li><p>ï»¿ï»¿A small minority of users</p>
<ul>
<li><p>ï»¿ï»¿Responsible for a high proportion of posting activity and thus support</p>
</li>
<li><p>ï»¿ï»¿Functioning of communities</p>
</li>
</ul>
</li>
<li><p>ï»¿ï»¿5% of users generate</p>
<ul>
<li>ï»¿ï»¿Over 70% of content</li>
</ul>
</li>
<li><p>ï»¿How do we study the role of super users?</p>
<ul>
<li>ï»¿ï»¿Sensitivity analysis</li>
</ul>
</li>
</ul>
<p><strong>How to find the super user?</strong></p>
<ul>
<li><p>ï»¿ï»¿For each user</p>
<ul>
<li><p>ï»¿ï»¿Count the number of posts (A) and</p>
</li>
<li><p>ï»¿ï»¿The number of replies (B)</p>
</li>
<li><p>ï»¿ï»¿The number of total activity (A + B)</p>
</li>
</ul>
</li>
<li><p>ï»¿ï»¿Rank the user in terms of respective frequencies</p>
</li>
</ul>
<p><strong>Connected component</strong></p>
<ul>
<li>ï»¿ï»¿A connected component of an undirected graph is a maximal set of nodes such that<ul>
<li>ï»¿ï»¿each pair of nodes is connected by a path.</li>
</ul>
</li>
<li>ï»¿ï»¿Directed graphs have weakly and strongly connected components.</li>
<li>ï»¿ï»¿Two vertices are in the same weakly connected<br> component<ul>
<li>ï»¿ï»¿if they are connected by a path, where paths are allowed to go either way along any edge.</li>
</ul>
</li>
<li>ï»¿ï»¿The weakly connected components correspond closely to the concept of connected component in undirected graphs and the typical situation is similar<ul>
<li>ï»¿ï»¿there is usually one large weakly connected component plus other small ones.</li>
</ul>
</li>
</ul>
<p><strong>Largest connected component</strong></p>
<ul>
<li><p>ï»¿ï»¿A largest connected component of a</p>
<ul>
<li><p>ï»¿ï»¿Graph G(V,E) is the largest possible subgraph</p>
<ul>
<li><p>ï»¿G_L(V_L,E_L) of G,</p>
</li>
<li><p>ï»¿ï»¿such that each node in G_L, has at least one valid connected path to every other node in G_L,</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>ï»¿ï»¿LCC gives us the subset of users</p>
<ul>
<li>ï»¿ï»¿Who form a cohesive community</li>
</ul>
</li>
<li><p>ï»¿ï»¿Importance of super users on LCC</p>
<ul>
<li>ï»¿ï»¿By removing them and studying the cohesion</li>
</ul>
</li>
</ul>
<p><strong>Community resilience</strong></p>
<p>Temporal Analysis</p>
<ul>
<li><p>ï»¿ï»¿Characteristics of LCC on a weekly basis</p>
</li>
<li><p>ï»¿ï»¿Focused and cohesive nature of interactions</p>
<ul>
<li>ï»¿ï»¿By looking at the fraction of users belonging to the LCC.</li>
</ul>
</li>
<li><p>ï»¿ï»¿Our aim is to study</p>
<ul>
<li>ï»¿ï»¿community resilience</li>
</ul>
</li>
<li><p>ï»¿ï»¿First how cohesive</p>
<ul>
<li>ï»¿ï»¿The community is?</li>
</ul>
</li>
<li><p>ï»¿ï»¿For each weekly graph, G</p>
<ul>
<li><p>ï»¿ï»¿Compute the LCC</p>
</li>
<li><p>ï»¿ï»¿That is all nodes in LCC has at least one path</p>
</li>
</ul>
</li>
<li><p>ï»¿ï»¿Compute fraction N&#x2F;N</p>
<ul>
<li>ï»¿ï»¿Nk is the nodes in LCC</li>
</ul>
</li>
</ul>
<p><strong>Fragility of the community</strong></p>
<ul>
<li><p>ï»¿ï»¿If the conversation network is held by</p>
<ul>
<li><p>ï»¿ï»¿A more or less uniform contribution of nodes</p>
</li>
<li><p>ï»¿ï»¿Or</p>
</li>
<li><p>ï»¿ï»¿Is there a skew in the responsibility of nodes</p>
</li>
</ul>
</li>
<li><p>ï»¿ï»¿Sensitivity analysis methods</p>
<ul>
<li>ï»¿ï»¿Which measures the networkâ€™s capacity to diffuse information as you move nodes based on certain property</li>
</ul>
</li>
<li><p>ï»¿ï»¿Importance of super users</p>
</li>
</ul>
<p><strong>Sensitivity analysis</strong></p>
<ul>
<li>ï»¿ï»¿the targeted removal of nodes (users) starting from the most connected nodes.</li>
<li>ï»¿ï»¿represents the size of the largest component as a percentage of the network size.</li>
<li>ï»¿ï»¿Specifically, it illustrates the key effects of the superusers on the website from another perspective.</li>
</ul>
<p><strong>Rich club effect</strong></p>
<ul>
<li><p>ï»¿ï»¿that a few important nodes (users) show stronger and closer connection with each other,</p>
<ul>
<li>ï»¿ï»¿and constitute a structural core and functional hub.</li>
</ul>
</li>
<li><p>ï»¿ï»¿the rich-club coefficient</p>
<ul>
<li>is the ratio of the actual number of edges of nodes with order greater than k</li>
<li>ï»¿ï»¿to the number of potential edges of each order k</li>
</ul>
</li>
</ul>
<p>![image-20230501161132105](..&#x2F;images&#x2F;webs&#x2F;:Users:joshua:Library:Application Support:typora-user-images:image-20230501161132105.png)</p>
<ul>
<li>the coefficient continues to be lower than 1,<ul>
<li>indicating that the amount of interaction between superusers are not high, </li>
<li>the amount of interactions between most non-superusers are also not high.</li>
</ul>
</li>
<li>the interactions between the superusers and non-superusers are very high,<ul>
<li>indicating that superusers are more inclined to communicate with users with fewer interactive connections.</li>
</ul>
</li>
<li>How do we explain this<ul>
<li>there are a large number of users with purposeful questions on the website and a small number of experts in the field.</li>
</ul>
</li>
</ul>
<h4 id="Z-score"><a href="#Z-score" class="headerlink" title="Z-score"></a>Z-score</h4><ul>
<li><p>ï»¿ï»¿We have seen core users and their relationship with other users from the graph</p>
</li>
<li><p>ï»¿ï»¿We do not know whether core users</p>
<ul>
<li><p>ï»¿ï»¿Tend to ask for help (post more)</p>
</li>
<li><p>ï»¿ï»¿Help others (reply more</p>
</li>
</ul>
</li>
<li><p>ï»¿ï»¿Look at a thread!</p>
</li>
<li><p>ï»¿ï»¿To find that out let us look at z-score!!<br>z &#x3D; (Ñ… - mean)&#x2F;sd</p>
</li>
</ul>
<h4 id><a href="#" class="headerlink" title></a></h4><h2 id="Emotion-Analysis"><a href="#Emotion-Analysis" class="headerlink" title="Emotion Analysis"></a>Emotion Analysis</h2><h3 id="L9"><a href="#L9" class="headerlink" title="L9"></a>L9</h3><h4 id="Sentiment-analysis-amp-variants"><a href="#Sentiment-analysis-amp-variants" class="headerlink" title="Sentiment analysis &amp; variants"></a>Sentiment analysis &amp; variants</h4><p><strong>Variants</strong></p>
<ul>
<li>ï»¿ï»¿<strong>Sentiment classification</strong><ul>
<li>ï»¿ï»¿whether a piece of text is positive, negative or neutral</li>
<li>ï»¿ï»¿Degree of intensity<ul>
<li>ï»¿ï»¿[-100,100]</li>
</ul>
</li>
</ul>
</li>
<li>ï»¿ï»¿Opinion analysis<ul>
<li>Determining from text, the speakerâ€™s opinion and target of the opinion</li>
</ul>
</li>
<li>ï»¿ï»¿Stance<ul>
<li>ï»¿ï»¿Author of text is in favour of, against of, or neutral towards a proposition or target</li>
<li>ï»¿ï»¿For example, Brexit agreement<ul>
<li>ï»¿ï»¿Is people supportive?</li>
</ul>
</li>
</ul>
</li>
<li>ï»¿ï»¿<strong>Emotion</strong><ul>
<li>ï»¿ï»¿What are the emotion expressed in the text?</li>
</ul>
</li>
</ul>
<p><strong>Sentiment vs Stance</strong></p>
<ul>
<li>ï»¿ï»¿Target:<ul>
<li>ï»¿ï»¿Legalization of Abortion</li>
</ul>
</li>
<li>ï»¿ï»¿Tweet<ul>
<li>The pregnant are more than walking incubators. They have rights too!</li>
<li>ï»¿ï»¿In favour of the target</li>
<li>ï»¿ï»¿Target - Pro-life movement<ul>
<li>ï»¿??</li>
</ul>
</li>
</ul>
</li>
<li>ï»¿ï»¿Target<ul>
<li>ï»¿ï»¿Donald Trump</li>
</ul>
</li>
<li>ï»¿ï»¿Tweet<ul>
<li>ï»¿ï»¿Donald Trump has some strengths and some weakness<ul>
<li>neutral</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>Stance detection</strong></p>
<ul>
<li>ï»¿ï»¿Is the task of automatically determining from text<ul>
<li>ï»¿ï»¿whether the author of the text is in favour of, against of, or neutral</li>
<li>ï»¿ï»¿toward a proposition or target</li>
</ul>
</li>
<li>ï»¿ï»¿Target<ul>
<li>ï»¿ï»¿Person, organization, government policy, a movement, a product</li>
<li>ï»¿ï»¿E.g., infer from former Prime minister Boris Jonsonâ€™s speeches that he is in favour of Brexit</li>
<li>ï»¿ï»¿E.g., analysing tweets identify people in favour of leadership change</li>
</ul>
</li>
</ul>
<p>Aspect Based Sentiment Analysis</p>
<ul>
<li>ï»¿ï»¿A sentence contains one or more entities,<ul>
<li>ï»¿ï»¿each of which has a different polarity of emotion.</li>
</ul>
</li>
<li>ï»¿ï»¿For example, give a comment like<ul>
<li>ï»¿ï»¿â€œGreat food but the service is dreadful!â€,</li>
<li>ï»¿ï»¿the emotional polarity of entity â€œfoodâ€ is â€œpositiveâ€</li>
<li>ï»¿ï»¿while the emotional polarity of entity â€œserviceâ€ is â€œnegativeâ€.</li>
</ul>
</li>
<li>ï»¿ï»¿Compared to sentence level sentiment analysis, ABSA can present<ul>
<li>ï»¿ï»¿users with more precise and fine-grained sentiment information of entities</li>
</ul>
</li>
<li>ï»¿ï»¿You identify an aspect and the sentiment towards that aspect</li>
</ul>
<p><strong>Sentiment classifification is limited</strong></p>
<ul>
<li>ï»¿ï»¿Language serves social and interpersonal functions.<ul>
<li>ï»¿ï»¿Affective meaning is key for human interaction and a prominent characteristic of language use.</li>
</ul>
</li>
<li>ï»¿ï»¿This extends beyond<ul>
<li>ï»¿ï»¿opinions vs. factual or polarity distinctions</li>
<li>ï»¿ï»¿into multiple phenomena:<ul>
<li>ï»¿ï»¿emotion, mood, personality, attitude, credibility, volition, veracity, friendliness, etc.</li>
</ul>
</li>
</ul>
</li>
<li>ï»¿ï»¿<strong>Emotion:</strong><ul>
<li>ï»¿ï»¿angry, sad, joyful, fearful, â€¦</li>
</ul>
</li>
<li>ï»¿ï»¿recognition, characterization, or generation of affect states,<ul>
<li>ï»¿ï»¿involves analysis of affect-related conditions, experiences, and activities.</li>
</ul>
</li>
</ul>
<p><strong>Textual emotion</strong></p>
<ul>
<li>ï»¿ï»¿We analyse the text and detect the emotion<ul>
<li>ï»¿ï»¿expressed by the author or</li>
<li>ï»¿ï»¿the emotion potentially felt by the reader</li>
</ul>
</li>
<li>ï»¿ï»¿Linguistic sensing of affective states can be used for<ul>
<li>ï»¿ï»¿Understanding social issues expressed through social media</li>
</ul>
</li>
<li>ï»¿ï»¿Researchers in psychological science believe that<ul>
<li>ï»¿ï»¿individuals have internal mechanisms for a limited collection of responses, usually</li>
<li>ï»¿ï»¿happy, sad, anger, disgust, and fear</li>
</ul>
</li>
</ul>
<p><strong>There are 6 emoMon categories that are widely used to describe</strong> </p>
<p>humansâ€™ basic emoMons, based on facial expression: </p>
<p><strong>anger, disgust, fear,</strong> <strong>happiness</strong>, <strong>sadness</strong> and <strong>surprise</strong>.</p>
<ul>
<li>Categorical theories</li>
<li>EmoIons are discretely and difffferently constructed and</li>
<li>all humans are thought to have an innate set of basic emoIon </li>
<li>that are cross-culturally recognisable</li>
</ul>
<p><strong>OCC model</strong></p>
<p>22 emotions &#x3D; 6 Paul Ekman emotions + 16 addtional emotions</p>
<p><strong>Criticism</strong></p>
<ul>
<li>In the categorical approach, emotional states are restricted to a limited number of distinct types and</li>
<li>it can be difficult to resolve a complex emotional situation or mixed emotions.</li>
<li>Appraisal theory</li>
<li>It contains componential emotion models based on the theory of appraisal.</li>
<li>Appraisal theory describes how different emotions, in various participants and on different times, can arise from the same event</li>
</ul>
<h4 id="Text-emotion-detection"><a href="#Text-emotion-detection" class="headerlink" title="Text emotion detection"></a>Text emotion detection</h4><p><strong>motivation</strong></p>
<ul>
<li>ï»¿ï»¿because of the naturally vague and ambiguous human language is,<ul>
<li>ï»¿ï»¿the emotion detection can be highly â€œcontext-sensitive and complexâ€</li>
</ul>
</li>
<li>ï»¿ï»¿Emotion analysis is a convoluted task, even for human beings,<ul>
<li>ï»¿ï»¿due to the various cultures, gender, and context of people who authored the texts.</li>
<li>ï»¿ï»¿The task will be much easier when emotion is expressed explicitly, but in reality,</li>
<li>ï»¿ï»¿the majority of texts are subtle, ambiguous, and some words have more than one meaning, and</li>
<li>ï»¿ï»¿more than one word expresses the same emotions, and, in addition, some emotions can exist simultaneously</li>
</ul>
</li>
<li>ï»¿ï»¿Donâ€™t u just HATE it when u cannot find something that u know you just saw like<br> 10 min ago!</li>
<li>By analysing the horse racing comments,</li>
<li>ï»¿ï»¿the model can learn about the information of winning horse and</li>
<li>ï»¿ï»¿would be able to give a reasonable prediction based on the emotion.</li>
</ul>
<p><strong>emotion classification</strong></p>
<ul>
<li>ï»¿ï»¿In the case of sentiment analysis, this task can be tackled using<ul>
<li>ï»¿ï»¿lexicon-based methods, machine learning, or a reule-based approach</li>
</ul>
</li>
<li>ï»¿ï»¿In emotion recognition task, the 4 most common approaches are<ul>
<li>ï»¿ï»¿Keyword-based detection<ul>
<li>ï»¿ï»¿Seed opinion words and find synonyms &amp; antonyms in WordNet</li>
<li>ï»¿ï»¿WordNet</li>
</ul>
</li>
</ul>
</li>
<li>ï»¿ï»¿Lexical affinity</li>
<li>ï»¿ï»¿hybrid</li>
<li>ï»¿ï»¿Learning based detection</li>
</ul>
<p><strong>Lexicon</strong></p>
<ul>
<li>ï»¿ï»¿Lexicons are linguistic tools for automated analysis of text</li>
<li>ï»¿ï»¿Most common<ul>
<li>ï»¿ï»¿Simple list of terms associated to a certain class of interest</li>
<li>ï»¿ï»¿Classification by counting</li>
<li>ï»¿ï»¿Terms can be weighted according to their strength of association with a given class</li>
</ul>
</li>
</ul>
<p>Lexicon based approaches?</p>
<ul>
<li>ï»¿ï»¿â€œI love horror booksâ€</li>
<li>ï»¿ï»¿f(love) Ã— 1.0 + f(horror) x 0.3 + f(books) x 0.5 &#x3D; 1.8 for positive</li>
<li>ï»¿ï»¿f(love) x 0.0 + f(horror) x 0.7 + f(books) Ã— 0.5 &#x3D; 1.2 for negative</li>
<li>ï»¿ï»¿Decision function<ul>
<li>ï»¿ï»¿Classify one with maximum value</li>
</ul>
</li>
<li>Transparency<ul>
<li>ï»¿ï»¿Each prediction can be explained<ul>
<li>ï»¿ï»¿Analysing terms that were present in the text</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>BERT VS gpt</strong></p>
<h1 id="Mock-Paper"><a href="#Mock-Paper" class="headerlink" title="Mock Paper"></a>Mock Paper</h1><h2 id="2022"><a href="#2022" class="headerlink" title="2022"></a>2022</h2><ol>
<li></li>
</ol>
<p>(a) Assume that the BBC recruited you to develop a social media application. The BBC is interested in knowing their readersâ€™ feelings on the news and other events covered by the broadcaster. Your job is to develop a classifier. In this context, answer the following questions:</p>
<p>(i)</p>
<p>Your first task is to create Twitter datasets with positive and negative statements so that they can be used for estimating the probabilities for words in the respective classes. [Hint: Assuming that you have a social media crawler, discuss how you will automatically label positive and negative tweets; how will you avoid spurious data]</p>
<p><strong>use hashtag based data collection</strong></p>
<p>1.Data collection: Use a social media crawler to collect tweets that mention the BBC or are in response to BBCâ€™s tweets. This could be done using Twitterâ€™s API to search for tweets containing specific keywords, hashtags, or mentions related to BBCâ€™s news and events.</p>
<p>2.Pre-process: Clean the collected tweets by removing irrelevant information such as URLs, mentions, and special characters. Convert all text to lowercase and tokenize the words for easier analysis. <strong>Ignore this step</strong>.</p>
<p>3.Automatic labeling: Loop the tweets, using lexicon approach to compute the overall score of a tweet. if a tweet has been annotated with a hashtag, then use NRC hashtag lexicon approach to label the tweet, if it has a emoji at the end then use emoticons based approach to label the tweet. Then calculate the score for each feature (word&#x2F;hashtag&#x2F;emoticon), select the label correspondingly based on overall score.</p>
<p>![image-20230501223242594](..&#x2F;images&#x2F;webs&#x2F;:Users:joshua:Library:Application Support:typora-user-images:image-20230501223242594.png)</p>
<p>4.Avoid spurious data. Pre-defined relevant hashtags: Compile a list of relevant and meaningful hashtags associated with the BBC or specific news and events covered by the broadcaster. Only collect and analyze tweets containing these pre-defined hashtags to ensure high-quality data. Noise filtering: Filter out tweets that are ambiguous, contain sarcasm, or are irrelevant to the BBCâ€™s content. This can be done using advanced NLP techniques or by setting a minimum sentiment score threshold to exclude borderline cases.</p>
<p>(ii)</p>
<p>Your second task is to develop a lexicon-based automatic sentiment analysis method, which assigns sentiment intensity between [-100,100].Describe an algorithm that also uses the dataset you created in (i). [Hint: identify a suitable lexicon; identify linguistic cases you may handle; specify a scoring method] </p>
<p>To develop a lexicon-based automatic sentiment analysis method that assigns sentiment intensity between [-100, 100], follow these steps:</p>
<ol>
<li><p>Choose a suitable lexicon: Select a pre-built sentiment lexicon that provides sentiment scores for words. Examples of such lexicons include SentiWordNet, AFINN, or VADER. These lexicons typically assign sentiment scores to words on a scale of -1 to 1 or -5 to 5.</p>
</li>
<li><p>Preprocessing: Clean the dataset created in step (i) by removing irrelevant information like URLs, mentions, and special characters. Convert all text to lowercase and tokenize the words for easier analysis.</p>
</li>
<li><p>Handling linguistic cases: Address various linguistic cases to improve sentiment analysis:</p>
<p>a. Negations: Identify negation words (e.g., not, never, isnâ€™t) and modify the sentiment score of the words that follow. For example, you can reverse or reduce the sentiment score of the word following the negation.</p>
<p>b. Intensifiers: Identify intensifier words (e.g., very, extremely, really) and adjust the sentiment score of the following word accordingly. For example, you can multiply the sentiment score by a factor (e.g., 1.5 or 2) based on the intensity of the intensifier.</p>
<p>c. Diminishers: Identify diminisher words (e.g., slightly, barely, hardly) and adjust the sentiment score of the following word accordingly. For example, you can multiply the sentiment score by a factor (e.g., 0.5) based on the diminishing effect.</p>
</li>
<li><p>Scoring method: Implement a scoring method to calculate the sentiment intensity of each tweet using the lexicon and linguistic cases:</p>
<p>a. Initialize a sentiment score variable to 0 for each tweet.</p>
<p>b. Iterate through the words in the tweet, and for each word, check if it has a sentiment score in the lexicon.</p>
<p>c. If the word has a sentiment score, adjust the score based on the linguistic cases (negations, intensifiers, diminishers) if applicable.</p>
<p>d. Add the sentiment score of the word to the tweetâ€™s sentiment score.</p>
<p>e. After processing all words, normalize the tweetâ€™s sentiment score to fit the range of [-100, 100]. For example, if the lexiconâ€™s sentiment scores range from -5 to 5, multiply the tweetâ€™s sentiment score by 20.</p>
<p>f. Assign the normalized sentiment score to the tweet as its sentiment intensity.</p>
</li>
<li><p>Evaluation: Compare the sentiment intensity assigned by the lexicon-based method with the labels in the dataset created in step (i). Calculate performance metrics such as accuracy, precision, recall, and F1-score to evaluate the effectiveness of the lexicon-based sentiment analysis method.</p>
</li>
</ol>
<p>By following these steps, you can develop a lexicon-based automatic sentiment analysis method that assigns sentiment intensity between [-100, 100] and uses the dataset created in the previous task.</p>
<p>(iii)</p>
<p>Now that you created a sentiment analysis method, you want to verify the methodâ€™s validity from a userâ€™s perspective. Design a scalable user-based study to ensure your sentiment scoring method is appropriate.</p>
<p>To design a scalable user-based study to ensure the sentiment scoring methodâ€™s appropriateness, follow these steps:</p>
<ol>
<li>Select a representative sample: Randomly sample a subset of tweets from the dataset created in the first task. Make sure the sample includes a balanced number of positive and negative tweets, as well as a diverse range of topics covered by the BBC.</li>
<li>Prepare the evaluation interface: Develop a user-friendly interface for the study participants. The interface should display a tweet and its corresponding sentiment score, calculated using the lexicon-based sentiment analysis method. Participants should be able to rate the sentiment scoreâ€™s appropriateness on a scale (e.g., 1 to 5, with 1 being â€œstrongly disagreeâ€ and 5 being â€œstrongly agreeâ€).</li>
<li>Recruit participants: Recruit a diverse group of participants to ensure a broad range of perspectives. You can use platforms like Amazon Mechanical Turk, Prolific, or other crowdsourcing services to recruit participants on a large scale.</li>
<li>Training and instructions: Provide clear instructions and examples to participants on how to evaluate the sentiment scores. Briefly explain the concept of sentiment analysis, the scoring range of [-100, 100], and the evaluation scale. You may also provide examples of tweets with appropriate and inappropriate sentiment scores to help participants understand the task better.</li>
<li>Evaluation process: Ask participants to evaluate the sentiment scores of the sampled tweets using the provided interface. Encourage them to consider the context of the tweet and the sentiment scoreâ€™s appropriateness based on the tweetâ€™s content.</li>
<li>Collect user feedback: Allow participants to provide qualitative feedback on the sentiment scoring method, highlighting any issues or suggestions for improvement. This feedback can help identify potential areas of refinement for the sentiment analysis method.</li>
<li>Analyze results: After collecting the evaluations, calculate the average appropriateness score for each tweetâ€™s sentiment score. High average scores indicate that the sentiment scoring method is appropriate from the userâ€™s perspective. Analyze the qualitative feedback to identify common themes and potential areas for improvement.</li>
<li>Iterate and improve: Based on the study results, refine the sentiment analysis method to address identified issues and incorporate user feedback. Repeat the user-based study with the updated method to evaluate its effectiveness iteratively.</li>
</ol>
<p>By designing and conducting a scalable user-based study, you can ensure that the sentiment scoring method is appropriate from the userâ€™s perspective and make data-driven improvements to enhance its accuracy and effectiveness.</p>
<ol start="2">
<li></li>
</ol>
<p>(a)Create a vector representation for the following short text. Identify and remove potential stop words. â€œ@AlanStainer @takeitev Itâ€™s mad isnâ€™t it. In the UK there are 8k petrol stations with multiple pumps and 25k chargers (increasing by 300 pm). They do know the climate emergency is now right? Not in 30 yearsâ€™ time, Just askingâ€</p>
<p>Stopwords: â€œtheâ€, â€œinâ€, â€œandâ€</p>
<p>[â€œitâ€™sâ€, â€œmadâ€, â€œisnâ€™tâ€, â€œukâ€, â€œ8kâ€, â€œpetrolâ€, â€œstationsâ€, â€œmultipleâ€, â€œpumpsâ€, â€œ25kâ€, â€œchargersâ€, â€œincreasingâ€, â€œ300â€, â€œpmâ€, â€œknowâ€, â€œclimateâ€, â€œemergencyâ€, â€œrightâ€, â€œ30â€, â€œyearsâ€™â€, â€œtimeâ€, â€œaskingâ€]</p>
<p>(b)Create all biterms from the following text, â€œin the UK there are 8k petrol stations with multiple pumps and 25k chargers</p>
<p>(â€œinâ€, â€œtheâ€) (â€œinâ€, â€œUKâ€) (â€œinâ€, â€œthereâ€) â€¦ (â€œpumpsâ€, â€œandâ€) (â€œpumpsâ€, â€œ25kâ€) (â€œpumpsâ€, â€œchargersâ€) â€¦ (â€œandâ€, â€œ25kâ€) (â€œandâ€, â€œchargersâ€) â€¦ (â€œ25kâ€, â€œchargersâ€)</p>
<p>(c) Assume you have developed a topic model on a collection with your university communications for the last academic year. Design a user-centred experiment to evaluate the interpretability of the model. [Hint: design tasks and justify, selection of subjects, number of users, what will you measure, how do you prove the results]</p>
<p>Designing a user-centered experiment to evaluate the interpretability of a topic model involves several components, including selecting subjects, designing tasks, determining the number of users, and measuring performance. Hereâ€™s an outline for such an experiment:</p>
<ol>
<li><p>Define the goal: The primary goal of the experiment is to evaluate the interpretability of the topic model in terms of the coherence and relevance of the identified topics within the context of university communications.</p>
</li>
<li><p>Selection of subjects: Choose participants who have some familiarity with the university environment, such as students, faculty, and administrative staff. This will ensure that they can understand and assess the relevance of the topics generated by the model.</p>
</li>
<li><p>Number of users: To ensure the results are reliable and generalizable, aim for a diverse sample of participants. A sample size of 30-50 participants is typically considered sufficient for user-centered experiments, but the optimal number may vary depending on factors such as the complexity of the tasks and the desired statistical power.</p>
</li>
<li><p>Design tasks: Create tasks that help assess the interpretability of the topics generated by the model. Example tasks include:</p>
<p>a. Topic labeling: Ask participants to assign meaningful labels to a given set of topics. This assesses whether users can understand and make sense of the topics generated by the model.</p>
<p>b. Topic ranking: Ask participants to rank a list of topics based on their relevance or importance to the universityâ€™s communications. This helps evaluate the modelâ€™s ability to identify meaningful and relevant topics.</p>
<p>c. Document-topic assignment: Provide participants with a set of documents and ask them to assign the most relevant topic from the model to each document. This task assesses whether users can effectively map the generated topics to real-world documents.</p>
</li>
<li><p>Measurement: Collect quantitative and qualitative data to evaluate the interpretability of the model.</p>
<p>a. Quantitative measures: Calculate agreement scores (e.g., Fleissâ€™ Kappa or Cohenâ€™s Kappa) to measure the consistency among participants in terms of topic labeling, ranking, and document-topic assignments.</p>
<p>b. Qualitative measures: Collect subjective feedback from participants about the coherence, relevance, and overall interpretability of the topics. This can be done through open-ended questions, interviews, or questionnaires.</p>
</li>
<li><p>Analyze results: Analyze the quantitative and qualitative data to assess the interpretability of the model. High agreement scores and positive feedback from participants would indicate that the model generates interpretable topics.</p>
</li>
<li><p>Prove the results: To prove the results, compare the performance of the topic model with alternative models or baseline approaches (e.g., LDA, NMF). Conduct a similar user-centered experiment for the alternative models and compare the agreement scores and subjective feedback. A higher performance of the developed topic model compared to the alternatives would provide evidence for its interpretability.</p>
</li>
</ol>
<p>By carefully designing and executing a user-centered experiment, you can evaluate the interpretability of a topic model in the context of university communications, ensuring that the model generates meaningful and relevant topics for the users.</p>
<p>(d)You have collected tweets and newspaper articles from Scotland for the last month.</p>
<p>Describe a method to develop topic models from these datasets. [Hint identify issues in dealing with such heterogenous datasets; how would you handle such issues]</p>
<p>l Prepare the tweets data, Pre-process of the data. </p>
<p>l Create a bigram model and trigram model. Then use the data with bigrams and trigrams to create the dictionary which will be used in model training.</p>
<p>l Use dictionary to create the corpus.</p>
<p>l Use LDA model to run topic modelling by the previous data which has been processed.</p>
<p>l Use different measures which including KL divergence, perplexity, and coherence to evaluate the model. This step will also help us to determine the number of topics.</p>
<p>l Update the model parameter by the result of evaluation.</p>
<p>l Visualize the model. The topic keywords will be displayed by a chart or a word cloud.</p>
<p><strong>Handling heterogeneity:</strong> Tweets and newspaper articles have different lengths, styles, and contexts. To address these issues:</p>
<p>a. Length normalization: To mitigate the differences in length between tweets and newspaper articles, consider using techniques like document sampling or text chunking. For instance, divide newspaper articles into smaller chunks of approximately the same size as tweets.</p>
<p>b. Text representation: Use a suitable text representation method that can capture the context and semantics of both short and long texts. Techniques like TF-IDF, word embeddings (e.g., Word2Vec, GloVe), or even more advanced methods like BERT embeddings can be used.</p>
<p>c. Combining datasets: Combine the preprocessed tweets and newspaper article chunks into a single dataset to build a unified topic model.</p>
<p>3.Applying clustering (e.g., Single-pass clustering) on Twitter data stream will create groups of similar tweets of varying sizes. Design an algorithm to detect events from such groups. Specifically, answer the following questions.</p>
<p><strong>ï¼ˆiï¼‰What role do entities play in detecting events? How would you reduce the cost of detecting entities?</strong></p>
<p>Entities can include named entities like people, organizations, locations, or other relevant terms specific to an event. By identifying and tracking entities within the tweet clusters, we can recognize emerging events and monitor their development. Entities can help:</p>
<ol>
<li>Identify the key components of an event: Entities can represent the primary subjects or objects related to an event, enabling us to understand the eventâ€™s main focus.</li>
<li>Differentiate between events: Entities can help distinguish between different events by providing context-specific information, which allows us to separate events with similar keywords but different contexts.</li>
<li>Track the progression of events: Monitoring the frequency and co-occurrence of entities over time can provide insights into how an event is evolving and help identify new developments or trends.</li>
</ol>
<p>Reducing the cost of detecting entities:</p>
<p>Detecting entities in real-time can be computationally expensive, especially for large-scale Twitter data streams. To reduce the cost of detecting entities, consider the following strategies:</p>
<ol>
<li>Entity extraction optimization: Use efficient named entity recognition (NER) tools or libraries that can handle streaming data, like spaCy or the Stanford NER. These libraries are optimized for performance and can handle large-scale text data efficiently.</li>
<li>Filter irrelevant data: Preprocess the Twitter data stream to remove irrelevant information, such as URLs, hashtags, user mentions, and stop words. This reduces the volume of data to process and allows the entity extraction to focus on relevant content.</li>
<li>Keyword-based entity detection: Instead of using full-fledged NER models, you can create a list of relevant keywords or entities specific to the domain of interest. This can help in detecting events of interest with lower computational cost.</li>
<li>Incremental entity extraction: Instead of processing the entire data stream at once, perform entity extraction incrementally as new tweets arrive. This can help distribute the computational load over time, making it more manageable.</li>
<li>Parallelization: Utilize parallel processing techniques to distribute the entity extraction task across multiple cores or machines, which can significantly speed up the process and reduce the overall computational cost.</li>
</ol>
<p>By incorporating these strategies, you can reduce the cost of detecting entities in Twitter data streams while still effectively identifying and tracking events.</p>
<p><strong>(ii)If you were to use tf-idf concepts for representation, how would you capture them?</strong></p>
<p>To capture TF-IDF concepts for representation in the context of detecting events from Twitter data, follow these steps:</p>
<ol>
<li><p>Data preprocessing: Preprocess the tweets by removing irrelevant information (e.g., URLs, hashtags, user mentions), tokenizing the text, removing stop words, converting all text to lowercase, and performing lemmatization or stemming.</p>
</li>
<li><p>Term Frequency (TF): Calculate the term frequency for each term in each tweet. The term frequency is the number of times a term appears in a tweet divided by the total number of terms in that tweet. This step normalizes the frequency of terms in each tweet, accounting for varying tweet lengths.</p>
</li>
<li><p>Inverse Document Frequency (IDF): Calculate the inverse document frequency for each term across the entire Twitter data stream. The IDF measures the importance of a term by considering its rarity in the entire dataset. To calculate IDF, first compute the document frequency (DF) â€“ the number of tweets containing a particular term. Then, compute the IDF as the logarithm of the total number of tweets divided by the DF.</p>
</li>
<li><p>TF-IDF representation: Compute the TF-IDF score for each term in each tweet by multiplying the TF and IDF values. This score represents the importance of a term in a tweet while considering its rarity in the entire dataset.</p>
</li>
<li><p>Feature vectors: For each tweet, create a feature vector with the TF-IDF scores of its terms. This can be represented as a sparse vector where each dimension corresponds to a unique term from the entire vocabulary across all tweets, and its value is the TF-IDF score for that term in the specific tweet. If a term is not present in a tweet, its value in the vector will be zero.</p>
</li>
<li><p>è®¡ç®—TFï¼ˆTerm Frequencyï¼Œè¯é¢‘ï¼‰ï¼šå¯¹äºç»™å®šçš„æ–‡æ¡£då’Œè¯è¯­tï¼Œå®ƒçš„TFå€¼å¯ä»¥é€šè¿‡å¦‚ä¸‹å…¬å¼è®¡ç®—ï¼š</p>
<p>TF(t, d) &#x3D; (è¯è¯­tåœ¨æ–‡æ¡£dä¸­å‡ºç°çš„æ¬¡æ•°) &#x2F; (æ–‡æ¡£dä¸­è¯è¯­æ€»æ•°)</p>
<p>å…¶ä¸­ï¼Œåˆ†å­è¡¨ç¤ºè¯è¯­tåœ¨æ–‡æ¡£dä¸­å‡ºç°çš„æ¬¡æ•°ï¼Œåˆ†æ¯è¡¨ç¤ºæ–‡æ¡£dä¸­æ‰€æœ‰è¯è¯­çš„æ€»æ•°ã€‚TFå€¼åæ˜ äº†è¯è¯­åœ¨å½“å‰æ–‡æ¡£ä¸­çš„é‡è¦ç¨‹åº¦ï¼Œå³å‡ºç°æ¬¡æ•°è¶Šå¤šï¼ŒTFå€¼è¶Šå¤§ã€‚</p>
</li>
<li><p>è®¡ç®—IDFï¼ˆInverse Document Frequencyï¼Œé€†æ–‡æ¡£é¢‘ç‡ï¼‰ï¼šå¯¹äºè¯­æ–™åº“ä¸­çš„æ‰€æœ‰æ–‡æ¡£å’Œè¯è¯­tï¼Œå®ƒçš„IDFå€¼å¯ä»¥é€šè¿‡å¦‚ä¸‹å…¬å¼è®¡ç®—ï¼š</p>
<p>IDF(t) &#x3D; log((è¯­æ–™åº“ä¸­æ–‡æ¡£çš„æ€»æ•°) &#x2F; (åŒ…å«è¯è¯­tçš„æ–‡æ¡£æ•°+1))</p>
<p>å…¶ä¸­ï¼Œåˆ†å­è¡¨ç¤ºè¯­æ–™åº“ä¸­æ‰€æœ‰æ–‡æ¡£çš„æ€»æ•°ï¼Œåˆ†æ¯è¡¨ç¤ºåŒ…å«è¯è¯­tçš„æ–‡æ¡£æ•°ï¼ˆåŠ 1æ˜¯ä¸ºäº†é¿å…åˆ†æ¯ä¸º0ï¼‰ã€‚IDFå€¼åæ˜ äº†è¯è¯­åœ¨æ•´ä¸ªè¯­æ–™åº“ä¸­çš„é‡è¦ç¨‹åº¦ï¼Œå³å‡ºç°æ–‡æ¡£æ•°è¶Šå°‘ï¼ŒIDFå€¼è¶Šå¤§ã€‚</p>
</li>
<li><p>è®¡ç®—TF-IDFï¼šå°†TFå’ŒIDFç›¸ä¹˜ï¼Œå¾—åˆ°è¯è¯­tåœ¨æ–‡æ¡£dä¸­çš„TF-IDFå€¼ã€‚</p>
<p>TF-IDF(t, d) &#x3D; TF(t, d) * IDF(t)</p>
<p>TF-IDFå€¼åæ˜ äº†è¯è¯­tåœ¨æ–‡æ¡£dä¸­çš„é‡è¦ç¨‹åº¦ï¼ŒåŒæ—¶ä¹Ÿè€ƒè™‘äº†è¯è¯­åœ¨æ•´ä¸ªè¯­æ–™åº“ä¸­çš„å‡ºç°æƒ…å†µã€‚åœ¨è®¡ç®—TF-IDFæ—¶ï¼Œè¿˜å¯ä»¥å¯¹TFå€¼è¿›è¡Œå¹³æ»‘å¤„ç†ï¼Œä¾‹å¦‚ä½¿ç”¨ä¸‹é¢çš„å…¬å¼ï¼š</p>
<p>TF(t, d) &#x3D; 0.5 + 0.5 * (è¯è¯­tåœ¨æ–‡æ¡£dä¸­å‡ºç°çš„æ¬¡æ•°) &#x2F; (æ–‡æ¡£dä¸­è¯è¯­æ€»æ•°)</p>
<p>è¿™ç§å¹³æ»‘å¤„ç†å¯ä»¥é¿å…é•¿æ–‡æ¡£ä¸­æŸä¸ªè¯è¯­çš„TFå€¼è¿‡é«˜çš„é—®é¢˜ã€‚</p>
</li>
</ol>
<p><strong>(iii) How do you remove noisy or spam groups?</strong></p>
<p>Removing noisy or spam groups from a dataset involves filtering out irrelevant or low-quality content. Here are some strategies to identify and remove such groups:</p>
<ol>
<li>Text-based filtering: Analyze the content of the groups and apply filters to eliminate groups containing certain keywords or patterns that are commonly associated with spam or noise. For example, you can create a list of common spam keywords, phrases, or patterns, and remove groups that contain a high frequency of these terms.</li>
<li>Frequency-based filtering: Analyze the posting frequency of the groups. Spam or noisy groups often exhibit unusual posting patterns, such as posting the same content repeatedly, or posting at extremely high frequencies. Set a threshold for acceptable posting frequency and filter out groups that exceed this limit.</li>
<li>User-based filtering: Analyze the users contributing to the groups. If a group consists mostly of users with suspicious behavior or characteristics (e.g., newly created accounts, accounts with very few followers or following a large number of users), it might be a spam or noisy group. You can create a scoring system to rate the credibility of users and filter out groups with a high proportion of low-credibility users.</li>
<li>Group size: Small groups or groups with very few members might be more likely to be noisy or spammy. You can set a minimum group size threshold and remove groups that fall below this limit.</li>
<li>Language-based filtering: Analyze the language used in the groups. Spam or noisy groups may contain a high proportion of irrelevant    r nonsensical text, or text in a language that is not of interest for your analysis. Use natural language processing techniques, such as language detection, to filter out groups with content in unwanted languages or with a high proportion of unintelligible text.</li>
<li>Machine learning techniques: Train a machine learning model to classify groups as spam, noisy, or relevant based on features like text content, posting frequency, user characteristics, group size, and language. This approach can be more adaptive and effective in identifying spam and noisy groups, especially if the model is regularly updated with new data.</li>
</ol>
<p>By applying these strategies, you can identify and remove noisy or spam groups from your dataset, allowing for more accurate and meaningful analysis of the remaining content.</p>
<p><strong>(iv) How would you identify categories of events?</strong></p>
<p>1.Visualization, use diagram to demonstrate the top 20 most frequent words in a group, this can help us understand the topic of a group and help us to categorize the groups. Or use the PCA to reduce the dimensionality of the data and project it to a lower space, find the overlaps.</p>
<p>2.Cluster labeling, Assign descriptive labels to the groups based on the representative information extracted in the previous step. You can manually analyze the most frequent terms, key phrases, or named entities in each group and assign a suitable category label. Alternatively, you can use an automated approach like extracting the most frequent terms or key phrases as labels.</p>
<p><strong>(v) Provide an algorithm for combining similar groups of tweets (e.g., tweets containing same entities).</strong></p>
<ol>
<li>Extract entities from each group:<ul>
<li>For each group, extract the named entities (e.g., people, organizations, locations) from the text of the tweets and articles.</li>
<li>You can use a Named Entity Recognition (NER) library like spaCy or Stanford NER to perform this task.</li>
</ul>
</li>
<li>Calculate entity similarity between groups:<ul>
<li>Create a function to compute the similarity between two groups based on the shared entities.</li>
<li>You can use the Jaccard similarity coefficient, which is the size of the intersection of entities divided by the size of the union of entities for each pair of groups.</li>
</ul>
</li>
<li>Combine similar groups based on a similarity threshold:<ul>
<li>Set a similarity threshold (e.g., 0.5) to decide whether two groups should be combined.</li>
<li>For each pair of groups:<ul>
<li>Compute the entity similarity using the function created in step 2.</li>
<li>If the similarity score is greater than or equal to the threshold:<ul>
<li>Combine the two groups into one.</li>
<li>Update the entity set of the combined group.</li>
<li>Remove the original groups from the list of groups.</li>
</ul>
</li>
</ul>
</li>
<li>Repeat this process until no more groups can be combined based on the similarity threshold.</li>
</ul>
</li>
</ol>
<p> <strong>here are some other features than entities you can use to combine similar groups:</strong></p>
<ol>
<li>Term Frequency (TF):<ul>
<li>Use the frequency of terms within each group as a feature. Calculate the similarity between groups based on the overlap of their most frequent terms.</li>
</ul>
</li>
<li>Key phrases:<ul>
<li>Extract key phrases from the text in each group using techniques like RAKE (Rapid Automatic Keyword Extraction) or TextRank. Compare the groups based on the overlap of their key phrases.</li>
</ul>
</li>
<li>Sentiment analysis:<ul>
<li>Calculate the average sentiment score of each group using a sentiment analysis library or pre-trained model. Combine groups with similar sentiment scores.</li>
</ul>
</li>
<li>Topic modeling:<ul>
<li>Apply topic modeling techniques like Latent Dirichlet Allocation (LDA) to the dataset. Compare groups based on the distribution of topics within each group.</li>
</ul>
</li>
<li>Word embeddings:<ul>
<li>Use pre-trained word embeddings like Word2Vec, GloVe, or BERT to represent the text within each group. Calculate the average embedding for each group and compare groups using cosine similarity or other distance metrics.</li>
</ul>
</li>
<li>N-grams:<ul>
<li>Extract N-grams (sequences of N consecutive words) from the text within each group. Compare groups based on the overlap of their most frequent N-grams.</li>
</ul>
</li>
<li>Text similarity:<ul>
<li>Calculate the average pairwise text similarity within each group using a text similarity measure like cosine similarity, Jaccard similarity, or edit distance. Combine groups with similar average text similarity scores.</li>
</ul>
</li>
<li>Hashtags and user mentions:<ul>
<li>For Twitter data, extract hashtags and user mentions from the tweets within each group. Compare groups based on the overlap of their most frequent hashtags and user mentions.</li>
</ul>
</li>
</ol>
<p>(vi) how do we find the brusting clusters?</p>
<p>To find bursting clusters, you can use a sliding window algorithm combined with a clustering method. The idea is to divide the data into time windows and apply clustering within each window to identify groups of similar items. By comparing the clusters across different time windows, you can detect bursts of activity. Hereâ€™s an outline of the algorithm:</p>
<ol>
<li>Divide the data into time windows:<ul>
<li>Choose an appropriate window size and step size based on the dataset and the expected duration of bursts.</li>
<li>Divide the data into non-overlapping or overlapping time windows accordingly.</li>
</ul>
</li>
<li>Apply clustering within each time window:<ul>
<li>For each time window, preprocess the data (e.g., tokenize, remove stop words, stemming&#x2F;lemmatization) and create feature vectors using methods like TF-IDF or word embeddings.</li>
<li>Apply a clustering algorithm (e.g., K-means, DBSCAN) to the feature vectors within the window to group similar items.</li>
</ul>
</li>
<li>Detect bursts by comparing clusters across adjacent time windows:<ul>
<li>Define a burst detection criterion, such as a significant increase in the number of items within a cluster or the emergence of a new cluster with a large number of items.</li>
<li>For each pair of adjacent time windows, compare the clusters and identify those that meet the burst detection criterion.</li>
</ul>
</li>
</ol>
<p>Hereâ€™s a pseudo-code for the algorithm:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">phpCopy code</span><br><span class="line">function preprocess_and_vectorize(data):</span><br><span class="line">    preprocessed_data = preprocess_text(data)</span><br><span class="line">    feature_vectors = create_feature_vectors(preprocessed_data)</span><br><span class="line">    return feature_vectors</span><br><span class="line"></span><br><span class="line">function cluster_data(feature_vectors):</span><br><span class="line">    clusters = apply_clustering_algorithm(feature_vectors)</span><br><span class="line">    return clusters</span><br><span class="line"></span><br><span class="line">function detect_bursts(window_clusters, burst_threshold):</span><br><span class="line">    bursts = []</span><br><span class="line">    for i in range(len(window_clusters) - 1):</span><br><span class="line">        for cluster in window_clusters[i]:</span><br><span class="line">            next_window_cluster = find_corresponding_cluster(cluster, window_clusters[i + 1])</span><br><span class="line">            if not next_window_cluster:</span><br><span class="line">                continue</span><br><span class="line">            growth = len(next_window_cluster) - len(cluster)</span><br><span class="line">            if growth &gt;= burst_threshold:</span><br><span class="line">                bursts.append((cluster, next_window_cluster))</span><br><span class="line">    return bursts</span><br><span class="line"></span><br><span class="line">data = load_data()</span><br><span class="line">window_size = ...</span><br><span class="line">step_size = ...</span><br><span class="line">burst_threshold = ...</span><br><span class="line"></span><br><span class="line">time_windows = create_time_windows(data, window_size, step_size)</span><br><span class="line">window_clusters = []</span><br><span class="line"></span><br><span class="line">for window in time_windows:</span><br><span class="line">    feature_vectors = preprocess_and_vectorize(window)</span><br><span class="line">    clusters = cluster_data(feature_vectors)</span><br><span class="line">    window_clusters.append(clusters)</span><br><span class="line"></span><br><span class="line">bursts = detect_bursts(window_clusters, burst_threshold)</span><br></pre></td></tr></table></figure>

<p>This algorithm divides the data into time windows, applies clustering within each window, and detects bursts based on changes in cluster sizes across adjacent windows. You can customize the window size, step size, clustering algorithm, and burst detection criterion based on your specific dataset and use case.</p>
<p>(b) Describe a methodology to predict stock trend prediction from social media data</p>
<p>StockNet (Deep Learning method)</p>
<p>StockNet is a hypothetical term that could refer to a network or system that aims to predict stock trends. While Iâ€™m not aware of a specific tool called â€œStockNet,â€ there are many approaches to predicting stock trends using machine learning and artificial intelligence techniques. One such approach is using deep learning models like recurrent neural networks (RNNs), long short-term memory (LSTM) networks, or convolutional neural networks (CNNs).</p>
<p>To use a deep learning model like â€œStockNetâ€ to predict stock trends, follow these general steps:</p>
<ol>
<li>Data collection: Gather historical stock data, such as stock prices, trading volumes, and other relevant financial indicators. You may obtain this data from financial data providers, public financial statements, or web scraping.</li>
<li>Data preprocessing: Clean and preprocess the data to eliminate noise, handle missing values, and convert categorical data into numerical formats. This step may also involve feature engineering to create new features that may be relevant for prediction.</li>
<li>Feature scaling: Scale or normalize the features to ensure that they have similar ranges and are suitable for input into a deep learning model.</li>
<li>Train-test split: Split the dataset into training and testing sets. The training set will be used to train the model, while the testing set will be used to evaluate its performance.</li>
<li>Model selection: Choose an appropriate deep learning model based on your data and problem. Common choices include RNNs, LSTMs, and CNNs.</li>
<li>Model training: Train the selected model on the training data. This involves adjusting the modelâ€™s parameters to minimize the prediction error. You may need to experiment with different hyperparameters, such as learning rate, batch size, and the number of hidden layers.</li>
<li>Model evaluation: Evaluate the modelâ€™s performance on the testing data. Common evaluation metrics include mean squared error (MSE), mean absolute error (MAE), and R-squared.</li>
<li>Fine-tuning: If the modelâ€™s performance is unsatisfactory, fine-tune it by adjusting the hyperparameters, modifying the model architecture, or changing the features used.</li>
<li>Prediction: Once the model has been fine-tuned and performs well on the testing data, use it to predict future stock trends based on the input features.</li>
</ol>
<p>Keep in mind that predicting stock trends is inherently difficult due to the complex and dynamic nature of financial markets. No model can guarantee accurate predictions, and it is essential to manage risks and avoid relying solely on model predictions for making investment decisions.</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Courses/" rel="tag">Courses</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-DSA"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/04/25/DSA/"
    >DSA</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/04/25/DSA/" class="article-date">
  <time datetime="2023-04-25T22:11:13.000Z" itemprop="datePublished">2023-04-25</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/java/">java</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="DSA"><a href="#DSA" class="headerlink" title="DSA"></a>DSA</h1><h2 id="Concepts"><a href="#Concepts" class="headerlink" title="Concepts"></a>Concepts</h2><h3 id="Time-complexity"><a href="#Time-complexity" class="headerlink" title="Time complexity:"></a>Time complexity:</h3><p>This paper analyzes from the following five points:</p>
<ul>
<li>What is time complexity anyway</li>
<li>Whatâ€™s a big O</li>
<li>Differences in data sizes</li>
<li>Simplification of complex expressions</li>
<li>What is the base of log in -O (log n)?</li>
</ul>
<h3 id="ç©¶ç«Ÿä»€ä¹ˆæ˜¯æ—¶é—´å¤æ‚åº¦"><a href="#ç©¶ç«Ÿä»€ä¹ˆæ˜¯æ—¶é—´å¤æ‚åº¦" class="headerlink" title="ç©¶ç«Ÿä»€ä¹ˆæ˜¯æ—¶é—´å¤æ‚åº¦"></a>ç©¶ç«Ÿä»€ä¹ˆæ˜¯æ—¶é—´å¤æ‚åº¦</h3><p><strong>æ—¶é—´å¤æ‚åº¦æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒå®šæ€§æè¿°è¯¥ç®—æ³•çš„è¿è¡Œæ—¶é—´</strong>ã€‚</p>
<p>æˆ‘ä»¬åœ¨è½¯ä»¶å¼€å‘ä¸­ï¼Œæ—¶é—´å¤æ‚åº¦å°±æ˜¯ç”¨æ¥æ–¹ä¾¿å¼€å‘è€…ä¼°ç®—å‡ºç¨‹åºè¿è¡Œçš„ç­”é¢˜æ—¶é—´ã€‚</p>
<p>é‚£ä¹ˆè¯¥å¦‚ä½•ä¼°è®¡ç¨‹åºè¿è¡Œæ—¶é—´å‘¢ï¼Œé€šå¸¸ä¼šä¼°ç®—ç®—æ³•çš„æ“ä½œå•å…ƒæ•°é‡æ¥ä»£è¡¨ç¨‹åºæ¶ˆè€—çš„æ—¶é—´ï¼Œè¿™é‡Œé»˜è®¤CPUçš„æ¯ä¸ªå•å…ƒè¿è¡Œæ¶ˆè€—çš„æ—¶é—´éƒ½æ˜¯ç›¸åŒçš„ã€‚</p>
<p>å‡è®¾ç®—æ³•çš„é—®é¢˜è§„æ¨¡ä¸ºnï¼Œé‚£ä¹ˆæ“ä½œå•å…ƒæ•°é‡ä¾¿ç”¨å‡½æ•°f(n)æ¥è¡¨ç¤ºï¼Œéšç€æ•°æ®è§„æ¨¡nçš„å¢å¤§ï¼Œç®—æ³•æ‰§è¡Œæ—¶é—´çš„å¢é•¿ç‡å’Œf(n)çš„å¢é•¿ç‡ç›¸åŒï¼Œè¿™ç§°ä½œä¸ºç®—æ³•çš„æ¸è¿‘æ—¶é—´å¤æ‚åº¦ï¼Œç®€ç§°æ—¶é—´å¤æ‚åº¦ï¼Œè®°ä¸º O(f(n))ã€‚</p>
<h3 id="ä»€ä¹ˆæ˜¯å¤§O"><a href="#ä»€ä¹ˆæ˜¯å¤§O" class="headerlink" title="ä»€ä¹ˆæ˜¯å¤§O"></a>ä»€ä¹ˆæ˜¯å¤§O</h3><p>è¿™é‡Œçš„å¤§Oæ˜¯æŒ‡ä»€ä¹ˆå‘¢ï¼Œè¯´åˆ°æ—¶é—´å¤æ‚åº¦ï¼Œ<strong>å¤§å®¶éƒ½çŸ¥é“O(n)ï¼ŒO(n^2)ï¼Œå´è¯´ä¸æ¸…ä»€ä¹ˆæ˜¯å¤§O</strong>ã€‚</p>
<p>ç®—æ³•å¯¼è®ºç»™å‡ºçš„è§£é‡Šï¼š<strong>å¤§Oç”¨æ¥è¡¨ç¤ºä¸Šç•Œçš„</strong>ï¼Œå½“ç”¨å®ƒä½œä¸ºç®—æ³•çš„æœ€åæƒ…å†µè¿è¡Œæ—¶é—´çš„ä¸Šç•Œï¼Œå°±æ˜¯å¯¹ä»»æ„æ•°æ®è¾“å…¥çš„è¿è¡Œæ—¶é—´çš„ä¸Šç•Œã€‚</p>
<p>åŒæ ·ç®—æ³•å¯¼è®ºç»™å‡ºäº†ä¾‹å­ï¼šæ‹¿æ’å…¥æ’åºæ¥è¯´ï¼Œæ’å…¥æ’åºçš„æ—¶é—´å¤æ‚åº¦æˆ‘ä»¬éƒ½è¯´æ˜¯O(n^2) ã€‚</p>
<p>è¾“å…¥æ•°æ®çš„å½¢å¼å¯¹ç¨‹åºè¿ç®—æ—¶é—´æ˜¯æœ‰å¾ˆå¤§å½±å“çš„ï¼Œåœ¨æ•°æ®æœ¬æ¥æœ‰åºçš„æƒ…å†µä¸‹æ—¶é—´å¤æ‚åº¦æ˜¯O(n)ï¼Œä½†å¦‚æœæ•°æ®æ˜¯é€†åºçš„è¯ï¼Œæ’å…¥æ’åºçš„æ—¶é—´å¤æ‚åº¦å°±æ˜¯O(n^2)ï¼Œä¹Ÿå°±å¯¹äºæ‰€æœ‰è¾“å…¥æƒ…å†µæ¥è¯´ï¼Œæœ€åæ˜¯O(n^2) çš„æ—¶é—´å¤æ‚åº¦ï¼Œæ‰€ä»¥ç§°æ’å…¥æ’åºçš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n^2)ã€‚</p>
<p>åŒæ ·çš„åŒç†å†çœ‹ä¸€ä¸‹å¿«é€Ÿæ’åºï¼Œéƒ½çŸ¥é“å¿«é€Ÿæ’åºæ˜¯O(nlogn)ï¼Œä½†æ˜¯å½“æ•°æ®å·²ç»æœ‰åºæƒ…å†µä¸‹ï¼Œå¿«é€Ÿæ’åºçš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n^2) çš„ï¼Œ**æ‰€ä»¥ä¸¥æ ¼ä»å¤§Oçš„å®šä¹‰æ¥è®²ï¼Œå¿«é€Ÿæ’åºçš„æ—¶é—´å¤æ‚åº¦åº”è¯¥æ˜¯O(n^2)**ã€‚</p>
<p><strong>ä½†æ˜¯æˆ‘ä»¬ä¾ç„¶è¯´å¿«é€Ÿæ’åºæ˜¯O(nlogn)çš„æ—¶é—´å¤æ‚åº¦ï¼Œè¿™ä¸ªå°±æ˜¯ä¸šå†…çš„ä¸€ä¸ªé»˜è®¤è§„å®šï¼Œè¿™é‡Œè¯´çš„Oä»£è¡¨çš„å°±æ˜¯ä¸€èˆ¬æƒ…å†µï¼Œè€Œä¸æ˜¯ä¸¥æ ¼çš„ä¸Šç•Œ</strong>ã€‚å¦‚å›¾æ‰€ç¤ºï¼š <img src="/../images/20200728185745611-20230310123844306.png" alt="æ—¶é—´å¤æ‚åº¦4ï¼Œä¸€èˆ¬æƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦"></p>
<p>æˆ‘ä»¬ä¸»è¦å…³å¿ƒçš„è¿˜æ˜¯ä¸€èˆ¬æƒ…å†µä¸‹çš„æ•°æ®å½¢å¼ã€‚</p>
<p><strong>é¢è¯•ä¸­è¯´é“ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘æŒ‡çš„éƒ½æ˜¯ä¸€èˆ¬æƒ…å†µ</strong>ã€‚ä½†æ˜¯å¦‚æœé¢è¯•å®˜å’Œæˆ‘ä»¬æ·±å…¥æ¢è®¨ä¸€ä¸ªç®—æ³•çš„å®ç°ä»¥åŠæ€§èƒ½çš„æ—¶å€™ï¼Œå°±è¦æ—¶åˆ»æƒ³ç€æ•°æ®ç”¨ä¾‹çš„ä¸ä¸€æ ·ï¼Œæ—¶é—´å¤æ‚åº¦ä¹Ÿæ˜¯ä¸åŒçš„ï¼Œè¿™ä¸€ç‚¹æ˜¯ä¸€å®šè¦æ³¨æ„çš„ã€‚</p>
<h3 id="ä¸åŒæ•°æ®è§„æ¨¡çš„å·®å¼‚"><a href="#ä¸åŒæ•°æ®è§„æ¨¡çš„å·®å¼‚" class="headerlink" title="#ä¸åŒæ•°æ®è§„æ¨¡çš„å·®å¼‚"></a><a target="_blank" rel="noopener" href="https://programmercarl.com/%E5%89%8D%E5%BA%8F/%E5%85%B3%E4%BA%8E%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%EF%BC%8C%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84%E9%83%BD%E5%9C%A8%E8%BF%99%E9%87%8C%EF%BC%81.html#%E4%B8%8D%E5%90%8C%E6%95%B0%E6%8D%AE%E8%A7%84%E6%A8%A1%E7%9A%84%E5%B7%AE%E5%BC%82">#</a>ä¸åŒæ•°æ®è§„æ¨¡çš„å·®å¼‚</h3><p>å¦‚ä¸‹å›¾ä¸­å¯ä»¥çœ‹å‡ºä¸åŒç®—æ³•çš„æ—¶é—´å¤æ‚åº¦åœ¨ä¸åŒæ•°æ®è¾“å…¥è§„æ¨¡ä¸‹çš„å·®å¼‚ã€‚</p>
<p><img src="/../images/20200728191447384-20230310124015324.png" alt="æ—¶é—´å¤æ‚åº¦ï¼Œä¸åŒæ•°æ®è§„æ¨¡çš„å·®å¼‚"></p>
<p>åœ¨å†³å®šä½¿ç”¨å“ªäº›ç®—æ³•çš„æ—¶å€™ï¼Œä¸æ˜¯æ—¶é—´å¤æ‚è¶Šä½çš„è¶Šå¥½ï¼ˆå› ä¸ºç®€åŒ–åçš„æ—¶é—´å¤æ‚åº¦å¿½ç•¥äº†å¸¸æ•°é¡¹ç­‰ç­‰ï¼‰ï¼Œè¦è€ƒè™‘æ•°æ®è§„æ¨¡ï¼Œå¦‚æœæ•°æ®è§„æ¨¡å¾ˆå°ç”šè‡³å¯ä»¥ç”¨O(n^2)çš„ç®—æ³•æ¯”O(n)çš„æ›´åˆé€‚ï¼ˆåœ¨æœ‰å¸¸æ•°é¡¹çš„æ—¶å€™ï¼‰ã€‚</p>
<p>å°±åƒä¸Šå›¾ä¸­ O(5n^2) å’Œ O(100n) åœ¨nä¸º20ä¹‹å‰ å¾ˆæ˜æ˜¾ O(5n^2)æ˜¯æ›´ä¼˜çš„ï¼Œæ‰€èŠ±è´¹çš„æ—¶é—´ä¹Ÿæ˜¯æœ€å°‘çš„ã€‚</p>
<p>é‚£ä¸ºä»€ä¹ˆåœ¨è®¡ç®—æ—¶é—´å¤æ‚åº¦çš„æ—¶å€™è¦å¿½ç•¥å¸¸æ•°é¡¹ç³»æ•°å‘¢ï¼Œä¹Ÿå°±è¯´O(100n) å°±æ˜¯O(n)çš„æ—¶é—´å¤æ‚åº¦ï¼ŒO(5n^2) å°±æ˜¯O(n^2)çš„æ—¶é—´å¤æ‚åº¦ï¼Œè€Œä¸”è¦é»˜è®¤O(n) ä¼˜äºO(n^2) å‘¢ ï¼Ÿ</p>
<p>è¿™é‡Œå°±åˆæ¶‰åŠåˆ°å¤§Oçš„å®šä¹‰ï¼Œ<strong>å› ä¸ºå¤§Oå°±æ˜¯æ•°æ®é‡çº§çªç ´ä¸€ä¸ªç‚¹ä¸”æ•°æ®é‡çº§éå¸¸å¤§çš„æƒ…å†µä¸‹æ‰€è¡¨ç°å‡ºçš„æ—¶é—´å¤æ‚åº¦ï¼Œè¿™ä¸ªæ•°æ®é‡ä¹Ÿå°±æ˜¯å¸¸æ•°é¡¹ç³»æ•°å·²ç»ä¸èµ·å†³å®šæ€§ä½œç”¨çš„æ•°æ®é‡</strong>ã€‚</p>
<p>ä¾‹å¦‚ä¸Šå›¾ä¸­20å°±æ˜¯é‚£ä¸ªç‚¹ï¼Œnåªè¦å¤§äº20 å¸¸æ•°é¡¹ç³»æ•°å·²ç»ä¸èµ·å†³å®šæ€§ä½œç”¨äº†ã€‚</p>
<p><strong>æ‰€ä»¥æˆ‘ä»¬è¯´çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯çœç•¥å¸¸æ•°é¡¹ç³»æ•°çš„ï¼Œæ˜¯å› ä¸ºä¸€èˆ¬æƒ…å†µä¸‹éƒ½æ˜¯é»˜è®¤æ•°æ®è§„æ¨¡è¶³å¤Ÿçš„å¤§ï¼ŒåŸºäºè¿™æ ·çš„äº‹å®ï¼Œç»™å‡ºçš„ç®—æ³•æ—¶é—´å¤æ‚çš„çš„ä¸€ä¸ªæ’è¡Œå¦‚ä¸‹æ‰€ç¤º</strong>ï¼š</p>
<p>O(1)å¸¸æ•°é˜¶ &lt; O(logn)å¯¹æ•°é˜¶ &lt; O(n)çº¿æ€§é˜¶ &lt; O(nlogn)çº¿æ€§å¯¹æ•°é˜¶ &lt; O(n^2)å¹³æ–¹é˜¶ &lt; O(n^3)ç«‹æ–¹é˜¶ &lt; O(2^n)æŒ‡æ•°é˜¶</p>
<p>ä½†æ˜¯ä¹Ÿè¦æ³¨æ„å¤§å¸¸æ•°ï¼Œå¦‚æœè¿™ä¸ªå¸¸æ•°éå¸¸å¤§ï¼Œä¾‹å¦‚10^7 ï¼Œ10^9 ï¼Œé‚£ä¹ˆå¸¸æ•°å°±æ˜¯ä¸å¾—ä¸è€ƒè™‘çš„å› ç´ äº†ã€‚</p>
<h3 id="å¤æ‚è¡¨è¾¾å¼çš„åŒ–ç®€"><a href="#å¤æ‚è¡¨è¾¾å¼çš„åŒ–ç®€" class="headerlink" title="#å¤æ‚è¡¨è¾¾å¼çš„åŒ–ç®€"></a><a target="_blank" rel="noopener" href="https://programmercarl.com/%E5%89%8D%E5%BA%8F/%E5%85%B3%E4%BA%8E%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%EF%BC%8C%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84%E9%83%BD%E5%9C%A8%E8%BF%99%E9%87%8C%EF%BC%81.html#%E5%A4%8D%E6%9D%82%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E5%8C%96%E7%AE%80">#</a>å¤æ‚è¡¨è¾¾å¼çš„åŒ–ç®€</h3><p>æœ‰æ—¶å€™æˆ‘ä»¬å»è®¡ç®—æ—¶é—´å¤æ‚åº¦çš„æ—¶å€™å‘ç°ä¸æ˜¯ä¸€ä¸ªç®€å•çš„O(n) æˆ–è€…O(n^2)ï¼Œ è€Œæ˜¯ä¸€ä¸ªå¤æ‚çš„è¡¨è¾¾å¼ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">O(2*n^2 + 10*n + 1000)</span><br></pre></td></tr></table></figure>

<p>1</p>
<p>é‚£è¿™é‡Œå¦‚ä½•æè¿°è¿™ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦å‘¢ï¼Œä¸€ç§æ–¹æ³•å°±æ˜¯ç®€åŒ–æ³•ã€‚</p>
<p>å»æ‰è¿è¡Œæ—¶é—´ä¸­çš„åŠ æ³•å¸¸æ•°é¡¹ ï¼ˆå› ä¸ºå¸¸æ•°é¡¹å¹¶ä¸ä¼šå› ä¸ºnçš„å¢å¤§è€Œå¢åŠ è®¡ç®—æœºçš„æ“ä½œæ¬¡æ•°ï¼‰ã€‚</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">O(2*n^2 + 10*n)</span><br></pre></td></tr></table></figure>

<p>1</p>
<p>å»æ‰å¸¸æ•°ç³»æ•°ï¼ˆä¸Šæ–‡ä¸­å·²ç»è¯¦ç»†è®²è¿‡ä¸ºä»€ä¹ˆå¯ä»¥å»æ‰å¸¸æ•°é¡¹çš„åŸå› ï¼‰ã€‚</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">O(n^2 + n)</span><br></pre></td></tr></table></figure>

<p>1</p>
<p>åªä¿ç•™ä¿ç•™æœ€é«˜é¡¹ï¼Œå»æ‰æ•°é‡çº§å°ä¸€çº§çš„n ï¼ˆå› ä¸ºn^2 çš„æ•°æ®è§„æ¨¡è¿œå¤§äºnï¼‰ï¼Œæœ€ç»ˆç®€åŒ–ä¸ºï¼š</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">O(n^2)</span><br></pre></td></tr></table></figure>

<p>1</p>
<p>å¦‚æœè¿™ä¸€æ­¥ç†è§£æœ‰å›°éš¾ï¼Œé‚£ä¹Ÿå¯ä»¥åšæå–nçš„æ“ä½œï¼Œå˜æˆO(n(n+1)) ï¼Œçœç•¥åŠ æ³•å¸¸æ•°é¡¹åä¹Ÿå°±åˆ«å˜æˆäº†ï¼š</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">O(n^2)</span><br></pre></td></tr></table></figure>

<p>1</p>
<p>æ‰€ä»¥æœ€åæˆ‘ä»¬è¯´ï¼šè¿™ä¸ªç®—æ³•çš„ç®—æ³•æ—¶é—´å¤æ‚åº¦æ˜¯O(n^2) ã€‚</p>
<p>ä¹Ÿå¯ä»¥ç”¨å¦ä¸€ç§ç®€åŒ–çš„æ€è·¯ï¼Œå…¶å®å½“nå¤§äº40çš„æ—¶å€™ï¼Œ è¿™ä¸ªå¤æ‚åº¦ä¼šæ’å°äºO(3 Ã— n^2)ï¼Œ O(2 Ã— n^2 + 10 Ã— n + 1000) &lt; O(3 Ã— n^2)ï¼Œæ‰€ä»¥è¯´æœ€åçœç•¥æ‰å¸¸æ•°é¡¹ç³»æ•°æœ€ç»ˆæ—¶é—´å¤æ‚åº¦ä¹Ÿæ˜¯O(n^2)ã€‚</p>
<h3 id="O-logn-ä¸­çš„logæ˜¯ä»¥ä»€ä¹ˆä¸ºåº•ï¼Ÿ"><a href="#O-logn-ä¸­çš„logæ˜¯ä»¥ä»€ä¹ˆä¸ºåº•ï¼Ÿ" class="headerlink" title="#O(logn)ä¸­çš„logæ˜¯ä»¥ä»€ä¹ˆä¸ºåº•ï¼Ÿ"></a><a target="_blank" rel="noopener" href="https://programmercarl.com/%E5%89%8D%E5%BA%8F/%E5%85%B3%E4%BA%8E%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%EF%BC%8C%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84%E9%83%BD%E5%9C%A8%E8%BF%99%E9%87%8C%EF%BC%81.html#o-logn-%E4%B8%AD%E7%9A%84log%E6%98%AF%E4%BB%A5%E4%BB%80%E4%B9%88%E4%B8%BA%E5%BA%95">#</a>O(logn)ä¸­çš„logæ˜¯ä»¥ä»€ä¹ˆä¸ºåº•ï¼Ÿ</h3><p>å¹³æ—¶è¯´è¿™ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯lognçš„ï¼Œé‚£ä¹ˆä¸€å®šæ˜¯log ä»¥2ä¸ºåº•nçš„å¯¹æ•°ä¹ˆï¼Ÿ</p>
<p>å…¶å®ä¸ç„¶ï¼Œä¹Ÿå¯ä»¥æ˜¯ä»¥10ä¸ºåº•nçš„å¯¹æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯ä»¥20ä¸ºåº•nçš„å¯¹æ•°ï¼Œ<strong>ä½†æˆ‘ä»¬ç»Ÿä¸€è¯´ lognï¼Œä¹Ÿå°±æ˜¯å¿½ç•¥åº•æ•°çš„æè¿°</strong>ã€‚</p>
<p>ä¸ºä»€ä¹ˆå¯ä»¥è¿™ä¹ˆåšå‘¢ï¼Ÿå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/../images/20200728191447349-20230310124032001.png" alt="æ—¶é—´å¤æ‚åº¦1.png"></p>
<p>å‡å¦‚æœ‰ä¸¤ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ï¼Œåˆ†åˆ«æ˜¯logä»¥2ä¸ºåº•nçš„å¯¹æ•°å’Œlogä»¥10ä¸ºåº•nçš„å¯¹æ•°ï¼Œé‚£ä¹ˆè¿™é‡Œå¦‚æœè¿˜è®°å¾—é«˜ä¸­æ•°å­¦çš„è¯ï¼Œåº”è¯¥ä¸éš¾ç†è§£<code>ä»¥2ä¸ºåº•nçš„å¯¹æ•° = ä»¥2ä¸ºåº•10çš„å¯¹æ•° * ä»¥10ä¸ºåº•nçš„å¯¹æ•°</code>ã€‚</p>
<p>è€Œä»¥2ä¸ºåº•10çš„å¯¹æ•°æ˜¯ä¸€ä¸ªå¸¸æ•°ï¼Œåœ¨ä¸Šæ–‡å·²ç»è®²è¿°äº†æˆ‘ä»¬è®¡ç®—æ—¶é—´å¤æ‚åº¦æ˜¯å¿½ç•¥å¸¸æ•°é¡¹ç³»æ•°çš„ã€‚</p>
<p>æŠ½è±¡ä¸€ä¸‹å°±æ˜¯åœ¨æ—¶é—´å¤æ‚åº¦çš„è®¡ç®—è¿‡ç¨‹ä¸­ï¼Œlogä»¥iä¸ºåº•nçš„å¯¹æ•°ç­‰äºlog ä»¥jä¸ºåº•nçš„å¯¹æ•°ï¼Œæ‰€ä»¥å¿½ç•¥äº†iï¼Œç›´æ¥è¯´æ˜¯lognã€‚</p>
<p>è¿™æ ·å°±åº”è¯¥ä¸éš¾ç†è§£ä¸ºä»€ä¹ˆå¿½ç•¥åº•æ•°äº†ã€‚</p>
<h3 id="ä¸¾ä¸€ä¸ªä¾‹å­"><a href="#ä¸¾ä¸€ä¸ªä¾‹å­" class="headerlink" title="#ä¸¾ä¸€ä¸ªä¾‹å­"></a><a target="_blank" rel="noopener" href="https://programmercarl.com/%E5%89%8D%E5%BA%8F/%E5%85%B3%E4%BA%8E%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%EF%BC%8C%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84%E9%83%BD%E5%9C%A8%E8%BF%99%E9%87%8C%EF%BC%81.html#%E4%B8%BE%E4%B8%80%E4%B8%AA%E4%BE%8B%E5%AD%90">#</a>ä¸¾ä¸€ä¸ªä¾‹å­</h3><p>é€šè¿‡è¿™é“é¢è¯•é¢˜ç›®ï¼Œæ¥åˆ†æä¸€ä¸‹æ—¶é—´å¤æ‚åº¦ã€‚é¢˜ç›®æè¿°ï¼šæ‰¾å‡ºnä¸ªå­—ç¬¦ä¸²ä¸­ç›¸åŒçš„ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼ˆå‡è®¾è¿™é‡Œåªæœ‰ä¸¤ä¸ªç›¸åŒçš„å­—ç¬¦ä¸²ï¼‰ã€‚</p>
<p>å¦‚æœæ˜¯æš´åŠ›æšä¸¾çš„è¯ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘å‘¢ï¼Œæ˜¯O(n^2)ä¹ˆï¼Ÿ</p>
<p>è¿™é‡Œä¸€äº›åŒå­¦ä¼šå¿½ç•¥äº†å­—ç¬¦ä¸²æ¯”è¾ƒçš„æ—¶é—´æ¶ˆè€—ï¼Œè¿™é‡Œå¹¶ä¸åƒint å‹æ•°å­—åšæ¯”è¾ƒé‚£ä¹ˆç®€å•ï¼Œé™¤äº†n^2 æ¬¡çš„éå†æ¬¡æ•°å¤–ï¼Œå­—ç¬¦ä¸²æ¯”è¾ƒä¾ç„¶è¦æ¶ˆè€—mæ¬¡æ“ä½œï¼ˆmä¹Ÿå°±æ˜¯å­—æ¯ä¸²çš„é•¿åº¦ï¼‰ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦æ˜¯O(m Ã— n Ã— n)ã€‚</p>
<p>æ¥ä¸‹æ¥å†æƒ³ä¸€ä¸‹å…¶ä»–è§£é¢˜æ€è·¯ã€‚</p>
<p>å…ˆæ’å¯¹nä¸ªå­—ç¬¦ä¸²æŒ‰å­—å…¸åºæ¥æ’åºï¼Œæ’åºånä¸ªå­—ç¬¦ä¸²å°±æ˜¯æœ‰åºçš„ï¼Œæ„å‘³ç€ä¸¤ä¸ªç›¸åŒçš„å­—ç¬¦ä¸²å°±æ˜¯æŒ¨åœ¨ä¸€èµ·ï¼Œç„¶ååœ¨éå†ä¸€énä¸ªå­—ç¬¦ä¸²ï¼Œè¿™æ ·å°±æ‰¾åˆ°ä¸¤ä¸ªç›¸åŒçš„å­—ç¬¦ä¸²äº†ã€‚</p>
<p>é‚£çœ‹çœ‹è¿™ç§ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ï¼Œå¿«é€Ÿæ’åºæ—¶é—´å¤æ‚åº¦ä¸ºO(nlogn)ï¼Œä¾ç„¶è¦è€ƒè™‘å­—ç¬¦ä¸²çš„é•¿åº¦æ˜¯mï¼Œé‚£ä¹ˆå¿«é€Ÿæ’åºæ¯æ¬¡çš„æ¯”è¾ƒéƒ½è¦æœ‰mæ¬¡çš„å­—ç¬¦æ¯”è¾ƒçš„æ“ä½œï¼Œå°±æ˜¯O(m Ã— n Ã— log n) ã€‚</p>
<p>ä¹‹åè¿˜è¦éå†ä¸€éè¿™nä¸ªå­—ç¬¦ä¸²æ‰¾å‡ºä¸¤ä¸ªç›¸åŒçš„å­—ç¬¦ä¸²ï¼Œåˆ«å¿˜äº†éå†çš„æ—¶å€™ä¾ç„¶è¦æ¯”è¾ƒå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥æ€»å…±çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(m Ã— n Ã— logn + n Ã— m)ã€‚</p>
<p>æˆ‘ä»¬å¯¹O(m Ã— n Ã— log n + n Ã— m) è¿›è¡Œç®€åŒ–æ“ä½œï¼ŒæŠŠm Ã— næå–å‡ºæ¥å˜æˆ O(m Ã— n Ã— (logn + 1))ï¼Œå†çœç•¥å¸¸æ•°é¡¹æœ€åçš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(m Ã— n Ã— log n)ã€‚</p>
<p>æœ€åå¾ˆæ˜æ˜¾O(m Ã— n Ã— logn) è¦ä¼˜äºO(m Ã— n Ã— n)ï¼</p>
<p>æ‰€ä»¥å…ˆæŠŠå­—ç¬¦ä¸²é›†åˆæ’åºå†éå†ä¸€éæ‰¾åˆ°ä¸¤ä¸ªç›¸åŒå­—ç¬¦ä¸²çš„æ–¹æ³•è¦æ¯”ç›´æ¥æš´åŠ›æšä¸¾çš„æ–¹å¼æ›´å¿«ã€‚</p>
<p>è¿™å°±æ˜¯æˆ‘ä»¬é€šè¿‡åˆ†æä¸¤ç§ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦å¾—æ¥çš„ã€‚</p>
<p><strong>å½“ç„¶è¿™ä¸æ˜¯è¿™é“é¢˜ç›®çš„æœ€ä¼˜è§£ï¼Œæˆ‘ä»…ä»…æ˜¯ç”¨è¿™é“é¢˜ç›®æ¥è®²è§£ä¸€ä¸‹æ—¶é—´å¤æ‚åº¦</strong>ã€‚</p>
<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="#æ€»ç»“"></a><a target="_blank" rel="noopener" href="https://programmercarl.com/%E5%89%8D%E5%BA%8F/%E5%85%B3%E4%BA%8E%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%EF%BC%8C%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84%E9%83%BD%E5%9C%A8%E8%BF%99%E9%87%8C%EF%BC%81.html#%E6%80%BB%E7%BB%93">#</a>æ€»ç»“</h3><p>æœ¬ç¯‡è®²è§£äº†ä»€ä¹ˆæ˜¯æ—¶é—´å¤æ‚åº¦ï¼Œå¤æ‚åº¦æ˜¯ç”¨æ¥å¹²ä»€ä¹ˆï¼Œä»¥åŠæ•°æ®è§„æ¨¡å¯¹æ—¶é—´å¤æ‚åº¦çš„å½±å“ã€‚</p>
<p>è¿˜è®²è§£äº†è¢«å¤§å¤šæ•°åŒå­¦å¿½ç•¥çš„å¤§Oçš„å®šä¹‰ä»¥åŠlogç©¶ç«Ÿæ˜¯ä»¥è°ä¸ºåº•çš„é—®é¢˜ã€‚</p>
<p>å†åˆ†æäº†å¦‚ä½•ç®€åŒ–å¤æ‚çš„æ—¶é—´å¤æ‚åº¦ï¼Œæœ€åä¸¾ä¸€ä¸ªå…·ä½“çš„ä¾‹å­ï¼ŒæŠŠæœ¬ç¯‡çš„å†…å®¹ä¸²èµ·æ¥ã€‚</p>
<p>ç›¸ä¿¡çœ‹å®Œæœ¬ç¯‡ï¼Œå¤§å®¶å¯¹æ—¶é—´å¤æ‚åº¦çš„è®¤è¯†ä¼šæ·±åˆ»å¾ˆå¤šï¼</p>
<h2 id="Questions"><a href="#Questions" class="headerlink" title="Questions"></a>Questions</h2><h3 id="Greedy-algorithm"><a href="#Greedy-algorithm" class="headerlink" title="Greedy algorithm:"></a>Greedy algorithm:</h3><h4 id="1-455-Assign-Cookies-Easy"><a href="#1-455-Assign-Cookies-Easy" class="headerlink" title="1. 455. Assign Cookies (Easy)"></a>1. 455. Assign Cookies (Easy)</h4><p>é¢˜ç›®æè¿°ï¼šæ¯ä¸ªå­©å­éƒ½æœ‰ä¸€ä¸ªæ»¡è¶³åº¦ gridï¼Œæ¯ä¸ªé¥¼å¹²éƒ½æœ‰ä¸€ä¸ªå¤§å° sizeï¼Œåªæœ‰é¥¼å¹²çš„å¤§å°å¤§äºç­‰äºä¸€ä¸ªå­©å­çš„æ»¡è¶³åº¦ï¼Œè¯¥å­©å­æ‰ä¼šè·å¾—æ»¡è¶³ã€‚æ±‚è§£æœ€å¤šå¯ä»¥è·å¾—æ»¡è¶³çš„å­©å­æ•°é‡ã€‚</p>
<ol>
<li>ç»™ä¸€ä¸ªå­©å­çš„é¥¼å¹²åº”å½“å°½é‡å°å¹¶ä¸”åˆèƒ½æ»¡è¶³è¯¥å­©å­ï¼Œè¿™æ ·å¤§é¥¼å¹²æ‰èƒ½æ‹¿æ¥ç»™æ»¡è¶³åº¦æ¯”è¾ƒå¤§çš„å­©å­ã€‚</li>
<li>å› ä¸ºæ»¡è¶³åº¦æœ€å°çš„å­©å­æœ€å®¹æ˜“å¾—åˆ°æ»¡è¶³ï¼Œæ‰€ä»¥å…ˆæ»¡è¶³æ»¡è¶³åº¦æœ€å°çš„å­©å­ã€‚</li>
</ol>
<p>åœ¨ä»¥ä¸Šçš„è§£æ³•ä¸­ï¼Œæˆ‘ä»¬åªåœ¨æ¯æ¬¡åˆ†é…æ—¶é¥¼å¹²æ—¶é€‰æ‹©ä¸€ç§çœ‹èµ·æ¥æ˜¯å½“å‰æœ€ä¼˜çš„åˆ†é…æ–¹æ³•ï¼Œä½†æ— æ³•ä¿è¯è¿™ç§å±€éƒ¨æœ€ä¼˜çš„åˆ†é…æ–¹æ³•æœ€åèƒ½å¾—åˆ°å…¨å±€æœ€ä¼˜è§£ã€‚æˆ‘ä»¬å‡è®¾èƒ½å¾—åˆ°å…¨å±€æœ€ä¼˜è§£ï¼Œå¹¶ä½¿ç”¨åè¯æ³•è¿›è¡Œè¯æ˜ï¼Œå³å‡è®¾å­˜åœ¨ä¸€ç§æ¯”æˆ‘ä»¬ä½¿ç”¨çš„è´ªå¿ƒç­–ç•¥æ›´ä¼˜çš„æœ€ä¼˜ç­–ç•¥ã€‚å¦‚æœä¸å­˜åœ¨è¿™ç§æœ€ä¼˜ç­–ç•¥ï¼Œè¡¨ç¤ºè´ªå¿ƒç­–ç•¥å°±æ˜¯æœ€ä¼˜ç­–ç•¥ï¼Œå¾—åˆ°çš„è§£ä¹Ÿå°±æ˜¯å…¨å±€æœ€ä¼˜è§£ã€‚</p>
<p>è¯æ˜ï¼šå‡è®¾åœ¨æŸæ¬¡é€‰æ‹©ä¸­ï¼Œè´ªå¿ƒç­–ç•¥é€‰æ‹©ç»™å½“å‰æ»¡è¶³åº¦æœ€å°çš„å­©å­åˆ†é…ç¬¬ m ä¸ªé¥¼å¹²ï¼Œç¬¬ m ä¸ªé¥¼å¹²ä¸ºå¯ä»¥æ»¡è¶³è¯¥å­©å­çš„æœ€å°é¥¼å¹²ã€‚å‡è®¾å­˜åœ¨ä¸€ç§æœ€ä¼˜ç­–ç•¥ï¼Œå¯ä»¥ç»™è¯¥å­©å­åˆ†é…ç¬¬ n ä¸ªé¥¼å¹²ï¼Œå¹¶ä¸” m &lt; nã€‚æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œç»è¿‡è¿™ä¸€è½®åˆ†é…ï¼Œè´ªå¿ƒç­–ç•¥åˆ†é…åå‰©ä¸‹çš„é¥¼å¹²ä¸€å®šæœ‰ä¸€ä¸ªæ¯”æœ€ä¼˜ç­–ç•¥æ¥å¾—å¤§ã€‚å› æ­¤åœ¨åç»­çš„åˆ†é…ä¸­ï¼Œè´ªå¿ƒç­–ç•¥ä¸€å®šèƒ½æ»¡è¶³æ›´å¤šçš„å­©å­ã€‚ä¹Ÿå°±æ˜¯è¯´ä¸å­˜åœ¨æ¯”è´ªå¿ƒç­–ç•¥æ›´ä¼˜çš„ç­–ç•¥ï¼Œå³è´ªå¿ƒç­–ç•¥å°±æ˜¯æœ€ä¼˜ç­–ç•¥ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findContentChildren</span><span class="params">(<span class="type">int</span>[] g, <span class="type">int</span>[] s)</span> &#123;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span>(g==<span class="literal">null</span>||s==<span class="literal">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">      Arrays.sort(g);</span><br><span class="line"></span><br><span class="line">      Arrays.sort(s);</span><br><span class="line"></span><br><span class="line">      <span class="type">int</span> gi=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">      <span class="type">int</span> si=<span class="number">0</span>;</span><br><span class="line">  </span><br><span class="line">     <span class="keyword">while</span>(gi&lt;g.length&amp;&amp;si&lt;s.length)&#123;</span><br><span class="line"></span><br><span class="line">          <span class="keyword">if</span>(s[si]&gt;=g[gi])&#123;</span><br><span class="line"></span><br><span class="line">             gi++;</span><br><span class="line"></span><br><span class="line">             si++;</span><br><span class="line"></span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">         <span class="keyword">else</span> si++;</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> gi;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-435-Non-overlapping-Intervals-Medium"><a href="#2-435-Non-overlapping-Intervals-Medium" class="headerlink" title="2. 435. Non-overlapping Intervals (Medium)"></a>2. 435. Non-overlapping Intervals (Medium)</h4><p>ç»™å®šä¸€ä¸ªåŒºé—´çš„é›†åˆ intervals ï¼Œå…¶ä¸­ intervals[i] &#x3D; [starti, endi] ã€‚è¿”å› éœ€è¦ç§»é™¤åŒºé—´çš„æœ€å°æ•°é‡ï¼Œä½¿å‰©ä½™åŒºé—´äº’ä¸é‡å  ã€‚</p>
<p>ç¤ºä¾‹ 1:</p>
<p>è¾“å…¥: intervals &#x3D; [[1,2],[2,3],[3,4],[1,3]]<br>è¾“å‡º: 1<br>è§£é‡Š: ç§»é™¤ [1,3] åï¼Œå‰©ä¸‹çš„åŒºé—´æ²¡æœ‰é‡å ã€‚<br>ç¤ºä¾‹ 2:</p>
<p>è¾“å…¥: intervals &#x3D; [ [1,2], [1,2], [1,2] ]<br>è¾“å‡º: 2<br>è§£é‡Š: ä½ éœ€è¦ç§»é™¤ä¸¤ä¸ª [1,2] æ¥ä½¿å‰©ä¸‹çš„åŒºé—´æ²¡æœ‰é‡å ã€‚<br>ç¤ºä¾‹ 3:</p>
<p>è¾“å…¥: intervals &#x3D; [ [1,2], [2,3] ]<br>è¾“å‡º: 0<br>è§£é‡Š: ä½ ä¸éœ€è¦ç§»é™¤ä»»ä½•åŒºé—´ï¼Œå› ä¸ºå®ƒä»¬å·²ç»æ˜¯æ— é‡å çš„äº†ã€‚</p>
<p>solution:</p>
<p>å…ˆè®¡ç®—æœ€å¤šèƒ½ç»„æˆçš„ä¸é‡å åŒºé—´ä¸ªæ•°ï¼Œç„¶åç”¨åŒºé—´æ€»ä¸ªæ•°å‡å»ä¸é‡å åŒºé—´çš„ä¸ªæ•°ã€‚</p>
<p>åœ¨æ¯æ¬¡é€‰æ‹©ä¸­ï¼ŒåŒºé—´çš„ç»“å°¾æœ€ä¸ºé‡è¦ï¼Œé€‰æ‹©çš„åŒºé—´ç»“å°¾è¶Šå°ï¼Œç•™ç»™åé¢çš„åŒºé—´çš„ç©ºé—´è¶Šå¤§ï¼Œé‚£ä¹ˆåé¢èƒ½å¤Ÿé€‰æ‹©çš„åŒºé—´ä¸ªæ•°ä¹Ÿå°±è¶Šå¤§ã€‚</p>
<p>æŒ‰åŒºé—´çš„ç»“å°¾è¿›è¡Œæ’åºï¼Œæ¯æ¬¡é€‰æ‹©ç»“å°¾æœ€å°ï¼Œå¹¶ä¸”å’Œå‰ä¸€ä¸ªåŒºé—´ä¸é‡å çš„åŒºé—´ã€‚ç»“æŸæ—¶é—´è¶Šæ—©è¶Šå¥½</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">eraseOverlapIntervals</span><span class="params">(<span class="type">int</span>[][] intervals)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (intervals.length == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Arrays.sort(intervals, Comparator.comparingInt(o -&gt; o[<span class="number">1</span>]));</span><br><span class="line">    <span class="type">int</span> <span class="variable">cnt</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">end</span> <span class="operator">=</span> intervals[<span class="number">0</span>][<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; intervals.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (intervals[i][<span class="number">0</span>] &lt; end) &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        end = intervals[i][<span class="number">1</span>];</span><br><span class="line">        cnt++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> intervals.length - cnt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Arrays.sort(intervals, <span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;<span class="type">int</span>[]&gt;() &#123;</span><br><span class="line">     <span class="meta">@Override</span></span><br><span class="line">     <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(<span class="type">int</span>[] o1, <span class="type">int</span>[] o2)</span> &#123;</span><br><span class="line">         <span class="keyword">return</span> (o1[<span class="number">1</span>] &lt; o2[<span class="number">1</span>]) ? -<span class="number">1</span> : ((o1[<span class="number">1</span>] == o2[<span class="number">1</span>]) ? <span class="number">0</span> : <span class="number">1</span>);</span><br><span class="line">     &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//è¿™é‡Œæ˜¯è®©æ•°ç»„ä¸­ï¼Œå„ä¸ªåŒºé—´çš„æœ«å°¾æŒ‰ç…§æ­£åºä¹Ÿå°±æ˜¯å‡åºæ¥æ’åºï¼Œæ‰€ä»¥æ˜¯ç”¨o1[1]&lt;o2[1],ä¹Ÿå¯ä»¥ç”¨return o1[1]-o2[1],ä½†å¯èƒ½ä¼šæº¢å‡º</span></span><br></pre></td></tr></table></figure>



<h4 id="3-452-Minimum-Number-of-Arrows-to-Burst-Balloons"><a href="#3-452-Minimum-Number-of-Arrows-to-Burst-Balloons" class="headerlink" title="3. 452. Minimum Number of Arrows to Burst Balloons"></a>3. 452. Minimum Number of Arrows to Burst Balloons</h4><p>æœ‰ä¸€äº›çƒå½¢æ°”çƒè´´åœ¨ä¸€å µç”¨ XY å¹³é¢è¡¨ç¤ºçš„å¢™é¢ä¸Šã€‚å¢™é¢ä¸Šçš„æ°”çƒè®°å½•åœ¨æ•´æ•°æ•°ç»„ <code>points</code> ï¼Œå…¶ä¸­<code>points[i] = [xstart, xend]</code> è¡¨ç¤ºæ°´å¹³ç›´å¾„åœ¨ <code>xstart</code> å’Œ <code>xend</code>ä¹‹é—´çš„æ°”çƒã€‚ä½ ä¸çŸ¥é“æ°”çƒçš„ç¡®åˆ‡ y åæ ‡ã€‚</p>
<p>ä¸€æ”¯å¼“ç®­å¯ä»¥æ²¿ç€ x è½´ä»ä¸åŒç‚¹ <strong>å®Œå…¨å‚ç›´</strong> åœ°å°„å‡ºã€‚åœ¨åæ ‡ <code>x</code> å¤„å°„å‡ºä¸€æ”¯ç®­ï¼Œè‹¥æœ‰ä¸€ä¸ªæ°”çƒçš„ç›´å¾„çš„å¼€å§‹å’Œç»“æŸåæ ‡ä¸º <code>x``start</code>ï¼Œ<code>x``end</code>ï¼Œ ä¸”æ»¡è¶³ <code>xstart â‰¤ x â‰¤ x``end</code>ï¼Œåˆ™è¯¥æ°”çƒä¼šè¢« <strong>å¼•çˆ†</strong> ã€‚å¯ä»¥å°„å‡ºçš„å¼“ç®­çš„æ•°é‡ <strong>æ²¡æœ‰é™åˆ¶</strong> ã€‚ å¼“ç®­ä¸€æ—¦è¢«å°„å‡ºä¹‹åï¼Œå¯ä»¥æ— é™åœ°å‰è¿›ã€‚</p>
<p>ç»™ä½ ä¸€ä¸ªæ•°ç»„ <code>points</code> ï¼Œ<em>è¿”å›å¼•çˆ†æ‰€æœ‰æ°”çƒæ‰€å¿…é¡»å°„å‡ºçš„ <strong>æœ€å°</strong> å¼“ç®­æ•°</em> ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼špoints = [[10,16],[2,8],[1,6],[7,12]]</span><br><span class="line">è¾“å‡ºï¼š2</span><br><span class="line">è§£é‡Šï¼šæ°”çƒå¯ä»¥ç”¨2æ”¯ç®­æ¥çˆ†ç ´:</span><br><span class="line">-åœ¨x = 6å¤„å°„å‡ºç®­ï¼Œå‡»ç ´æ°”çƒ[2,8]å’Œ[1,6]ã€‚</span><br><span class="line">-åœ¨x = 11å¤„å‘å°„ç®­ï¼Œå‡»ç ´æ°”çƒ[10,16]å’Œ[7,12]ã€‚</span><br></pre></td></tr></table></figure>

<p>è¯¥é¢˜æ€è·¯åŸºæœ¬å’Œç¬¬äºŒé¢˜ä¸€è‡´ï¼Œåªæ˜¯è¦æ±‚æœ€å¤šä¸é‡å çš„åŒºé—´æ•°ï¼Œç„¶åå°„å‡ºè¿™ä¹ˆå¤šç®­å³å¯ã€‚è€Œä¸”æ³¨æ„è¾¹ç•Œå€¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">myComparator</span> <span class="keyword">implements</span> <span class="title class_">Comparator</span>&lt;<span class="type">int</span>[]&gt;&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(<span class="type">int</span>[] o1,<span class="type">int</span>[] o2)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> (o1[<span class="number">1</span>] &lt; o2[<span class="number">1</span>]) ? -<span class="number">1</span> : ((o1[<span class="number">1</span>] == o2[<span class="number">1</span>]) ? <span class="number">0</span> : <span class="number">1</span>);</span><br><span class="line">          <span class="comment">//å¦‚æœä½¿ç”¨return o1[1]-o2[1],å¯èƒ½ä¼šå‡ºç°intè¶Šç•Œçš„é—®é¢˜ï¼Œæ‰€ä»¥ç”¨æ¯”è¾ƒç¬¦å·æ¥</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findMinArrowShots</span><span class="params">(<span class="type">int</span>[][] points)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(points==<span class="literal">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Arrays.sort(points,<span class="keyword">new</span> <span class="title class_">Solution</span>.myComparator());</span><br><span class="line">    <span class="type">int</span> cnt=<span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> end=points[<span class="number">0</span>][<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;points.length;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(points[i][<span class="number">0</span>]&lt;=end)&#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cnt++;</span><br><span class="line">        end=points[i][<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cnt;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="4-406-Queue-Reconstruction-by-Height-Medium"><a href="#4-406-Queue-Reconstruction-by-Height-Medium" class="headerlink" title="4. 406. Queue Reconstruction by Height(Medium)"></a>4. 406. Queue Reconstruction by Height(Medium)</h4><p>å‡è®¾æœ‰æ‰“ä¹±é¡ºåºçš„ä¸€ç¾¤äººç«™æˆä¸€ä¸ªé˜Ÿåˆ—ï¼Œæ•°ç»„ people è¡¨ç¤ºé˜Ÿåˆ—ä¸­ä¸€äº›äººçš„å±æ€§ï¼ˆä¸ä¸€å®šæŒ‰é¡ºåºï¼‰ã€‚æ¯ä¸ª people[i] &#x3D; [hi, ki] è¡¨ç¤ºç¬¬ i ä¸ªäººçš„èº«é«˜ä¸º hi ï¼Œå‰é¢ æ­£å¥½ æœ‰ ki ä¸ªèº«é«˜å¤§äºæˆ–ç­‰äº hi çš„äººã€‚</p>
<p>è¯·ä½ é‡æ–°æ„é€ å¹¶è¿”å›è¾“å…¥æ•°ç»„ people æ‰€è¡¨ç¤ºçš„é˜Ÿåˆ—ã€‚è¿”å›çš„é˜Ÿåˆ—åº”è¯¥æ ¼å¼åŒ–ä¸ºæ•°ç»„ queue ï¼Œå…¶ä¸­ queue[j] &#x3D; [hj, kj] æ˜¯é˜Ÿåˆ—ä¸­ç¬¬ j ä¸ªäººçš„å±æ€§ï¼ˆqueue[0] æ˜¯æ’åœ¨é˜Ÿåˆ—å‰é¢çš„äººï¼‰ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<p>è¾“å…¥ï¼špeople &#x3D; [[7,0],[4,4],[7,1],[5,0],[6,1],[5,2]]<br>è¾“å‡ºï¼š[[5,0],[7,0],[5,2],[6,1],[4,4],[7,1]]</p>
<p>æ€è·¯: ä¸ºäº†ä½¿æ’å…¥æ“ä½œä¸å½±å“åç»­çš„æ“ä½œï¼Œèº«é«˜è¾ƒé«˜çš„å­¦ç”Ÿåº”è¯¥å…ˆåšæ’å…¥æ“ä½œï¼Œå¦åˆ™èº«é«˜è¾ƒå°çš„å­¦ç”ŸåŸå…ˆæ­£ç¡®æ’å…¥çš„ç¬¬ k ä¸ªä½ç½®å¯èƒ½ä¼šå˜æˆç¬¬ k+1 ä¸ªä½ç½®ã€‚</p>
<p>èº«é«˜ h é™åºã€ä¸ªæ•° k å€¼å‡åºï¼Œç„¶åå°†æŸä¸ªå­¦ç”Ÿæ’å…¥é˜Ÿåˆ—çš„ç¬¬ k ä¸ªä½ç½®ä¸­ã€‚</p>
<p>Solution:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">myComparator</span> <span class="keyword">implements</span> <span class="title class_">Comparator</span>&lt;<span class="type">int</span>[]&gt; &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(<span class="type">int</span>[] o1,<span class="type">int</span>[] o2)</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(o1[<span class="number">0</span>]!=o2[<span class="number">0</span>])&#123;</span><br><span class="line">                <span class="keyword">return</span> o2[<span class="number">0</span>]-o1[<span class="number">0</span>];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> o1[<span class="number">1</span>]-o2[<span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[][] reconstructQueue(<span class="type">int</span>[][] people) &#123;</span><br><span class="line">        <span class="keyword">if</span> (people == <span class="literal">null</span> || people.length == <span class="number">0</span> || people[<span class="number">0</span>].length == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        Arrays.sort(people,<span class="keyword">new</span> <span class="title class_">myComparator</span>());<span class="comment">// equals to Arrays.sort(people, (a, b) -&gt; (a[0] == b[0] ? a[1] - b[1] : b[0] - a[0]));</span></span><br><span class="line">        List&lt;<span class="type">int</span>[]&gt; queue = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span>[] p:people)&#123;</span><br><span class="line">            queue.add(p[<span class="number">1</span>],p);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> queue.toArray(<span class="keyword">new</span> <span class="title class_">int</span>[queue.size()][]);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="5-121-Best-Time-to-Buy-and-Sell-Stock-Easy"><a href="#5-121-Best-Time-to-Buy-and-Sell-Stock-Easy" class="headerlink" title="5. 121. Best Time to Buy and Sell Stock (Easy)"></a>5. 121. Best Time to Buy and Sell Stock (Easy)</h4><p>ç»™å®šä¸€ä¸ªæ•°ç»„ prices ï¼Œå®ƒçš„ç¬¬ i ä¸ªå…ƒç´  prices[i] è¡¨ç¤ºä¸€æ”¯ç»™å®šè‚¡ç¥¨ç¬¬ i å¤©çš„ä»·æ ¼ã€‚</p>
<p>ä½ åªèƒ½é€‰æ‹© æŸä¸€å¤© ä¹°å…¥è¿™åªè‚¡ç¥¨ï¼Œå¹¶é€‰æ‹©åœ¨ æœªæ¥çš„æŸä¸€ä¸ªä¸åŒçš„æ—¥å­ å–å‡ºè¯¥è‚¡ç¥¨ã€‚è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥è®¡ç®—ä½ æ‰€èƒ½è·å–çš„æœ€å¤§åˆ©æ¶¦ã€‚</p>
<p>è¿”å›ä½ å¯ä»¥ä»è¿™ç¬”äº¤æ˜“ä¸­è·å–çš„æœ€å¤§åˆ©æ¶¦ã€‚å¦‚æœä½ ä¸èƒ½è·å–ä»»ä½•åˆ©æ¶¦ï¼Œè¿”å› 0 ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><code>è¾“å…¥ï¼š[7,1,5,3,6,4]</code><br><code>è¾“å‡ºï¼š5</code><br><code>è§£é‡Šï¼šåœ¨ç¬¬ 2 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 1ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 5 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 6ï¼‰çš„æ—¶å€™å–å‡ºï¼Œæœ€å¤§åˆ©æ¶¦ = 6-1 = 5 ã€‚      æ³¨æ„åˆ©æ¶¦ä¸èƒ½æ˜¯ 7-1 = 6, å› ä¸ºå–å‡ºä»·æ ¼éœ€è¦å¤§äºä¹°å…¥ä»·æ ¼ï¼›åŒæ—¶ï¼Œä½ ä¸èƒ½åœ¨ä¹°å…¥å‰å–å‡ºè‚¡ç¥¨ã€‚</code></p>
<p><strong>Idea:</strong></p>
<p>åªè¦è®°å½•å‰é¢çš„æœ€å°ä»·æ ¼ï¼Œå°†è¿™ä¸ªæœ€å°ä»·æ ¼ä½œä¸ºä¹°å…¥ä»·æ ¼ï¼Œç„¶åå°†å½“å‰çš„ä»·æ ¼ä½œä¸ºå”®å‡ºä»·æ ¼ï¼ŒæŸ¥çœ‹å½“å‰æ”¶ç›Šæ˜¯ä¸æ˜¯æœ€å¤§æ”¶ç›Šã€‚</p>
<p><strong>Solution:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxProfit</span><span class="params">(<span class="type">int</span>[] prices)</span> &#123;</span><br><span class="line">   <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> prices.length;</span><br><span class="line">   <span class="keyword">if</span> (n == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">   <span class="type">int</span> <span class="variable">soFarMin</span> <span class="operator">=</span> prices[<span class="number">0</span>];</span><br><span class="line">   <span class="type">int</span> <span class="variable">max</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">   <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">       <span class="keyword">if</span> (soFarMin &gt; prices[i]) soFarMin = prices[i];</span><br><span class="line">       <span class="keyword">else</span> max = Math.max(max, prices[i] - soFarMin);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> max;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>



<h4 id="6-122-Best-Time-to-Buy-and-Sell-Stock-II-Easy"><a href="#6-122-Best-Time-to-Buy-and-Sell-Stock-II-Easy" class="headerlink" title="6. 122. Best Time to Buy and Sell Stock II (Easy)"></a>6. 122. Best Time to Buy and Sell Stock II (Easy)</h4><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ prices ï¼Œå…¶ä¸­ prices[i] è¡¨ç¤ºæŸæ”¯è‚¡ç¥¨ç¬¬ i å¤©çš„ä»·æ ¼ã€‚</p>
<p>åœ¨æ¯ä¸€å¤©ï¼Œä½ å¯ä»¥å†³å®šæ˜¯å¦è´­ä¹°å’Œ&#x2F;æˆ–å‡ºå”®è‚¡ç¥¨ã€‚ä½ åœ¨ä»»ä½•æ—¶å€™ æœ€å¤š åªèƒ½æŒæœ‰ ä¸€è‚¡ è‚¡ç¥¨ã€‚ä½ ä¹Ÿå¯ä»¥å…ˆè´­ä¹°ï¼Œç„¶ååœ¨ åŒä¸€å¤© å‡ºå”®ã€‚</p>
<p>è¿”å› ä½ èƒ½è·å¾—çš„ æœ€å¤§ åˆ©æ¶¦ ã€‚</p>
<p><code>è¾“å…¥ï¼šprices = [7,1,5,3,6,4]</code><br><code>è¾“å‡ºï¼š7</code><br><code>è§£é‡Šï¼šåœ¨ç¬¬ 2 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 1ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 3 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 5ï¼‰çš„æ—¶å€™å–å‡º, è¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 5 - 1 = 4ã€‚ éšåï¼Œåœ¨ç¬¬ 4 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 3ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 5 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 6ï¼‰çš„æ—¶å€™å–å‡º, è¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 6 - 3 = 3ã€‚æ€»åˆ©æ¶¦ä¸º 4 + 3 = 7 ã€‚</code></p>
<p><strong>Idea:</strong></p>
<p>é¢˜ç›®æè¿°ï¼šå¯ä»¥è¿›è¡Œå¤šæ¬¡äº¤æ˜“ï¼Œå¤šæ¬¡äº¤æ˜“ä¹‹é—´ä¸èƒ½äº¤å‰è¿›è¡Œï¼Œå¯ä»¥è¿›è¡Œå¤šæ¬¡äº¤æ˜“ã€‚</p>
<p>å¯¹äº [a, b, c, d]ï¼Œå¦‚æœæœ‰ a &lt;&#x3D; b &lt;&#x3D; c &lt;&#x3D; d ï¼Œé‚£ä¹ˆæœ€å¤§æ”¶ç›Šä¸º d - aã€‚è€Œ d - a &#x3D; (d - c) + (c - b) + (b - a) ï¼Œå› æ­¤å½“è®¿é—®åˆ°ä¸€ä¸ª prices[i] ä¸” prices[i] - prices[i-1] &gt; 0ï¼Œé‚£ä¹ˆå°±æŠŠ prices[i] - prices[i-1] æ·»åŠ åˆ°æ”¶ç›Šä¸­ã€‚</p>
<p><strong>Solution:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxProfit</span><span class="params">(<span class="type">int</span>[] prices)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">profit</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; prices.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (prices[i] &gt; prices[i - <span class="number">1</span>]) &#123;</span><br><span class="line">            profit += (prices[i] - prices[i - <span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> profit;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Linked-List"><a href="#Linked-List" class="headerlink" title="Linked List"></a>Linked List</h3><p>ä»€ä¹ˆæ˜¯é“¾è¡¨ï¼Œé“¾è¡¨æ˜¯ä¸€ç§é€šè¿‡æŒ‡é’ˆä¸²è”åœ¨ä¸€èµ·çš„çº¿æ€§ç»“æ„ï¼Œæ¯ä¸€ä¸ªèŠ‚ç‚¹ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼Œä¸€ä¸ªæ˜¯æ•°æ®åŸŸä¸€ä¸ªæ˜¯æŒ‡é’ˆåŸŸï¼ˆå­˜æ”¾æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆï¼‰ï¼Œæœ€åä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆåŸŸæŒ‡å‘nullï¼ˆç©ºæŒ‡é’ˆçš„æ„æ€ï¼‰ã€‚</p>
<p>é“¾è¡¨çš„å…¥å£èŠ‚ç‚¹ç§°ä¸ºé“¾è¡¨çš„å¤´ç»“ç‚¹ä¹Ÿå°±æ˜¯headã€‚</p>
<p>å¦‚å›¾æ‰€ç¤ºï¼š <img src="/../images/20200806194529815.png" alt="é“¾è¡¨1"></p>
<p>äº†è§£å®Œé“¾è¡¨çš„ç±»å‹ï¼Œå†æ¥è¯´ä¸€è¯´é“¾è¡¨åœ¨å†…å­˜ä¸­çš„å­˜å‚¨æ–¹å¼ã€‚</p>
<p>æ•°ç»„æ˜¯åœ¨å†…å­˜ä¸­æ˜¯è¿ç»­åˆ†å¸ƒçš„ï¼Œä½†æ˜¯é“¾è¡¨åœ¨å†…å­˜ä¸­å¯ä¸æ˜¯è¿ç»­åˆ†å¸ƒçš„ã€‚</p>
<p>é“¾è¡¨æ˜¯é€šè¿‡æŒ‡é’ˆåŸŸçš„æŒ‡é’ˆé“¾æ¥åœ¨å†…å­˜ä¸­å„ä¸ªèŠ‚ç‚¹ã€‚</p>
<p>æ‰€ä»¥é“¾è¡¨ä¸­çš„èŠ‚ç‚¹åœ¨å†…å­˜ä¸­ä¸æ˜¯è¿ç»­åˆ†å¸ƒçš„ ï¼Œè€Œæ˜¯æ•£ä¹±åˆ†å¸ƒåœ¨å†…å­˜ä¸­çš„æŸåœ°å€ä¸Šï¼Œåˆ†é…æœºåˆ¶å–å†³äºæ“ä½œç³»ç»Ÿçš„å†…å­˜ç®¡ç†ã€‚</p>
<p>å¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/../images/20200806194613920.png" alt="é“¾è¡¨3"></p>
<p>è¿™ä¸ªé“¾è¡¨èµ·å§‹èŠ‚ç‚¹ä¸º2ï¼Œ ç»ˆæ­¢èŠ‚ç‚¹ä¸º7ï¼Œ å„ä¸ªèŠ‚ç‚¹åˆ†å¸ƒåœ¨å†…å­˜çš„ä¸åŒåœ°å€ç©ºé—´ä¸Šï¼Œé€šè¿‡æŒ‡é’ˆä¸²è”åœ¨ä¸€èµ·ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ListNode</span> &#123;</span><br><span class="line">    <span class="comment">// ç»“ç‚¹çš„å€¼</span></span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¸‹ä¸€ä¸ªç»“ç‚¹</span></span><br><span class="line">    ListNode next;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// èŠ‚ç‚¹çš„æ„é€ å‡½æ•°(æ— å‚)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ListNode</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// èŠ‚ç‚¹çš„æ„é€ å‡½æ•°(æœ‰ä¸€ä¸ªå‚æ•°)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ListNode</span><span class="params">(<span class="type">int</span> val)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// èŠ‚ç‚¹çš„æ„é€ å‡½æ•°(æœ‰ä¸¤ä¸ªå‚æ•°)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ListNode</span><span class="params">(<span class="type">int</span> val, ListNode next)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">        <span class="built_in">this</span>.next = next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">JavaScript:</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ListNode</span> &#123;</span><br><span class="line">  val;</span><br><span class="line">  next = <span class="literal">null</span>;</span><br><span class="line">  constructor(value) &#123;</span><br><span class="line">    <span class="built_in">this</span>.val = value;</span><br><span class="line">    <span class="built_in">this</span>.next = <span class="literal">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="203-remove-a-node"><a href="#203-remove-a-node" class="headerlink" title="203. remove a node"></a>203. remove a node</h4><p>ç»™ä½ ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ head å’Œä¸€ä¸ªæ•´æ•° val ï¼Œè¯·ä½ åˆ é™¤é“¾è¡¨ä¸­æ‰€æœ‰æ»¡è¶³ Node.val &#x3D;&#x3D; val çš„èŠ‚ç‚¹ï¼Œå¹¶è¿”å› æ–°çš„å¤´èŠ‚ç‚¹ ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<p>è¾“å…¥ï¼šhead &#x3D; [1,2,6,3,4,5,6], val &#x3D; 6<br>è¾“å‡ºï¼š[1,2,3,4,5]</p>
<p>Solution1. ä½¿ç”¨dummy node. è¿™æ ·å­åœ¨ç§»é™¤å¤´èŠ‚ç‚¹çš„æ—¶å€™å¯ä»¥ä½¿ç”¨è™šæ‹ŸèŠ‚ç‚¹å°†å…¶ç§»å‡ºï¼Œå…¶ä»–çš„èŠ‚ç‚¹éƒ½æ˜¯ä¾é åé¢çš„èŠ‚ç‚¹æ¥è¿›è¡Œåˆ é™¤çš„</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">public</span> ListNode <span class="title function_">removeElements</span><span class="params">(ListNode head, <span class="type">int</span> val)</span> &#123;</span><br><span class="line">    ListNode dummy= <span class="keyword">new</span> <span class="title class_">ListNode</span>(-<span class="number">1</span>);</span><br><span class="line">    dummy.next=head;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">pre</span> <span class="operator">=</span> dummy;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> head;</span><br><span class="line">    <span class="keyword">while</span> (cur != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (cur.val == val) &#123;</span><br><span class="line">            pre.next = cur.next;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            pre = cur;</span><br><span class="line">        &#125;</span><br><span class="line">        cur = cur.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dummy.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Solution2. ä¸ä½¿ç”¨dummy node, ç›´æ¥å°†</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">public</span> ListNode <span class="title function_">removeElements</span><span class="params">(ListNode head, <span class="type">int</span> val)</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (head != <span class="literal">null</span> &amp;&amp; head.val == val) &#123;</span><br><span class="line">            head = head.next;<span class="comment">//å¦‚æœå¤´ä¸ºç©ºï¼Œåˆ™å¾€åç§»</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(head==<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> head;</span><br><span class="line">        &#125;</span><br><span class="line">        ListNode pre=head;</span><br><span class="line">        ListNode cur=head.next;</span><br><span class="line">        <span class="keyword">while</span>(cur!=<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(cur.val==val)&#123;</span><br><span class="line">                pre.next = cur.next;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                pre=cur;</span><br><span class="line">            &#125;</span><br><span class="line">            cur=cur.next;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">           <span class="keyword">return</span> head;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="707-design-myLinkedList"><a href="#707-design-myLinkedList" class="headerlink" title="707 design myLinkedList"></a>707 design myLinkedList</h4><p><strong>solution1</strong></p>
<p>å•é“¾è¡¨</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å•é“¾è¡¨</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ListNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    ListNode next;</span><br><span class="line">    ListNode()&#123;&#125;</span><br><span class="line">    ListNode(<span class="type">int</span> val) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val=val;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyLinkedList</span> &#123;</span><br><span class="line">    <span class="comment">//sizeå­˜å‚¨é“¾è¡¨å…ƒç´ çš„ä¸ªæ•°</span></span><br><span class="line">    <span class="type">int</span> size;</span><br><span class="line">    <span class="comment">//è™šæ‹Ÿå¤´ç»“ç‚¹</span></span><br><span class="line">    ListNode head;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆå§‹åŒ–é“¾è¡¨</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyLinkedList</span><span class="params">()</span> &#123;</span><br><span class="line">        size = <span class="number">0</span>;</span><br><span class="line">        head = <span class="keyword">new</span> <span class="title class_">ListNode</span>(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è·å–ç¬¬indexä¸ªèŠ‚ç‚¹çš„æ•°å€¼ï¼Œæ³¨æ„indexæ˜¯ä»0å¼€å§‹çš„ï¼Œç¬¬0ä¸ªèŠ‚ç‚¹å°±æ˜¯å¤´ç»“ç‚¹</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">get</span><span class="params">(<span class="type">int</span> index)</span> &#123;</span><br><span class="line">        <span class="comment">//å¦‚æœindexéæ³•ï¼Œè¿”å›-1</span></span><br><span class="line">        <span class="keyword">if</span> (index &lt; <span class="number">0</span> || index &gt;= size) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">currentNode</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="comment">//åŒ…å«ä¸€ä¸ªè™šæ‹Ÿå¤´èŠ‚ç‚¹ï¼Œæ‰€ä»¥æŸ¥æ‰¾ç¬¬ index+1 ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;= index; i++) &#123;</span><br><span class="line">            currentNode = currentNode.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> currentNode.val;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åœ¨é“¾è¡¨æœ€å‰é¢æ’å…¥ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç­‰ä»·äºåœ¨ç¬¬0ä¸ªå…ƒç´ å‰æ·»åŠ </span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addAtHead</span><span class="params">(<span class="type">int</span> val)</span> &#123;</span><br><span class="line">        addAtIndex(<span class="number">0</span>, val);</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="comment">//å¯ä»¥ä¸ç”¨addAtIndexæ–¹æ³•æ¥å®ç°</span></span><br><span class="line">          <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addAtHead</span><span class="params">(<span class="type">int</span> val)</span> &#123;</span><br><span class="line">        size++;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">node</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(val);</span><br><span class="line">        <span class="keyword">if</span> (head.next == <span class="literal">null</span>) &#123;</span><br><span class="line">            head.next = node;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">temp</span> <span class="operator">=</span> head.next;</span><br><span class="line">        head.next = node;</span><br><span class="line">        node.next = temp;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åœ¨é“¾è¡¨çš„æœ€åæ’å…¥ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç­‰ä»·äºåœ¨(æœ«å°¾+1)ä¸ªå…ƒç´ å‰æ·»åŠ </span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addAtTail</span><span class="params">(<span class="type">int</span> val)</span> &#123;</span><br><span class="line">        addAtIndex(size, val);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åœ¨ç¬¬ index ä¸ªèŠ‚ç‚¹ä¹‹å‰æ’å…¥ä¸€ä¸ªæ–°èŠ‚ç‚¹ï¼Œä¾‹å¦‚indexä¸º0ï¼Œé‚£ä¹ˆæ–°æ’å…¥çš„èŠ‚ç‚¹ä¸ºé“¾è¡¨çš„æ–°å¤´èŠ‚ç‚¹ã€‚</span></span><br><span class="line">    <span class="comment">// å¦‚æœ index ç­‰äºé“¾è¡¨çš„é•¿åº¦ï¼Œåˆ™è¯´æ˜æ˜¯æ–°æ’å…¥çš„èŠ‚ç‚¹ä¸ºé“¾è¡¨çš„å°¾ç»“ç‚¹</span></span><br><span class="line">    <span class="comment">// å¦‚æœ index å¤§äºé“¾è¡¨çš„é•¿åº¦ï¼Œåˆ™è¿”å›ç©º</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addAtIndex</span><span class="params">(<span class="type">int</span> index, <span class="type">int</span> val)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (index &gt; size) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (index &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            index = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        size++;</span><br><span class="line">        <span class="comment">//æ‰¾åˆ°è¦æ’å…¥èŠ‚ç‚¹çš„å‰é©±</span></span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">pred</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; index; i++) &#123;</span><br><span class="line">            pred = pred.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">toAdd</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(val);</span><br><span class="line">        toAdd.next = pred.next;</span><br><span class="line">        pred.next = toAdd;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆ é™¤ç¬¬indexä¸ªèŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteAtIndex</span><span class="params">(<span class="type">int</span> index)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (index &lt; <span class="number">0</span> || index &gt;= size) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        size--;</span><br><span class="line">        <span class="keyword">if</span> (index == <span class="number">0</span>) &#123;</span><br><span class="line">            head = head.next;</span><br><span class="line">	    <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">pred</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; index ; i++) &#123;</span><br><span class="line">            pred = pred.next;</span><br><span class="line">        &#125;</span><br><span class="line">        pred.next = pred.next.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>solution2</strong></p>
<p>åŒé“¾è¡¨</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åŒé“¾è¡¨</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ListNode</span>&#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    ListNode next,prev;</span><br><span class="line">    ListNode() &#123;&#125;;</span><br><span class="line">    ListNode(<span class="type">int</span> val)&#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyLinkedList</span> &#123;  </span><br><span class="line"></span><br><span class="line">    <span class="comment">//è®°å½•é“¾è¡¨ä¸­å…ƒç´ çš„æ•°é‡</span></span><br><span class="line">    <span class="type">int</span> size;</span><br><span class="line">    <span class="comment">//è®°å½•é“¾è¡¨çš„è™šæ‹Ÿå¤´ç»“ç‚¹å’Œå°¾ç»“ç‚¹</span></span><br><span class="line">    ListNode head,tail;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyLinkedList</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//åˆå§‹åŒ–æ“ä½œ</span></span><br><span class="line">        <span class="built_in">this</span>.size = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">this</span>.head = <span class="keyword">new</span> <span class="title class_">ListNode</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="built_in">this</span>.tail = <span class="keyword">new</span> <span class="title class_">ListNode</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="comment">//è¿™ä¸€æ­¥éå¸¸å…³é”®ï¼Œå¦åˆ™åœ¨åŠ å…¥å¤´ç»“ç‚¹çš„æ“ä½œä¸­ä¼šå‡ºç°null.nextçš„é”™è¯¯ï¼ï¼ï¼</span></span><br><span class="line">        head.next=tail;</span><br><span class="line">        tail.prev=head;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">get</span><span class="params">(<span class="type">int</span> index)</span> &#123;</span><br><span class="line">        <span class="comment">//åˆ¤æ–­indexæ˜¯å¦æœ‰æ•ˆ</span></span><br><span class="line">        <span class="keyword">if</span>(index&lt;<span class="number">0</span> || index&gt;=size)&#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> <span class="built_in">this</span>.head;</span><br><span class="line">        <span class="comment">//åˆ¤æ–­æ˜¯å“ªä¸€è¾¹éå†æ—¶é—´æ›´çŸ­</span></span><br><span class="line">        <span class="keyword">if</span>(index &gt;= size / <span class="number">2</span>)&#123;</span><br><span class="line">            <span class="comment">//tailå¼€å§‹</span></span><br><span class="line">            cur = tail;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt; size-index; i++)&#123;</span><br><span class="line">                cur = cur.prev;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;= index; i++)&#123;</span><br><span class="line">                cur = cur.next; </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> cur.val;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addAtHead</span><span class="params">(<span class="type">int</span> val)</span> &#123;</span><br><span class="line">        <span class="comment">//ç­‰ä»·äºåœ¨ç¬¬0ä¸ªå…ƒç´ å‰æ·»åŠ </span></span><br><span class="line">        addAtIndex(<span class="number">0</span>,val);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addAtTail</span><span class="params">(<span class="type">int</span> val)</span> &#123;</span><br><span class="line">        <span class="comment">//ç­‰ä»·äºåœ¨æœ€åä¸€ä¸ªå…ƒç´ (null)å‰æ·»åŠ </span></span><br><span class="line">        addAtIndex(size,val);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addAtIndex</span><span class="params">(<span class="type">int</span> index, <span class="type">int</span> val)</span> &#123;</span><br><span class="line">        <span class="comment">//indexå¤§äºé“¾è¡¨é•¿åº¦</span></span><br><span class="line">        <span class="keyword">if</span>(index&gt;size)&#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//indexå°äº0</span></span><br><span class="line">        <span class="keyword">if</span>(index&lt;<span class="number">0</span>)&#123;</span><br><span class="line">            index = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        size++;</span><br><span class="line">        <span class="comment">//æ‰¾åˆ°å‰é©±</span></span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">pre</span> <span class="operator">=</span> <span class="built_in">this</span>.head;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;index; i++)&#123;</span><br><span class="line">            pre = pre.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//æ–°å»ºç»“ç‚¹</span></span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">newNode</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(val);</span><br><span class="line">        newNode.next = pre.next;</span><br><span class="line">        pre.next.prev = newNode;</span><br><span class="line">        newNode.prev = pre;</span><br><span class="line">        pre.next = newNode;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteAtIndex</span><span class="params">(<span class="type">int</span> index)</span> &#123;</span><br><span class="line">        <span class="comment">//åˆ¤æ–­ç´¢å¼•æ˜¯å¦æœ‰æ•ˆ</span></span><br><span class="line">        <span class="keyword">if</span>(index&lt;<span class="number">0</span> || index&gt;=size)&#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//åˆ é™¤æ“ä½œ</span></span><br><span class="line">        size--;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">pre</span> <span class="operator">=</span> <span class="built_in">this</span>.head;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;index; i++)&#123;</span><br><span class="line">            pre = pre.next;</span><br><span class="line">        &#125;</span><br><span class="line">        pre.next.next.prev = pre;</span><br><span class="line">        pre.next = pre.next.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="160-äº¤å‰é“¾è¡¨çš„æœ€ç®€å•è§£æ³•"><a href="#160-äº¤å‰é“¾è¡¨çš„æœ€ç®€å•è§£æ³•" class="headerlink" title="160 äº¤å‰é“¾è¡¨çš„æœ€ç®€å•è§£æ³•"></a>160 äº¤å‰é“¾è¡¨çš„æœ€ç®€å•è§£æ³•</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> ListNode <span class="title function_">getIntersectionNode</span><span class="params">(ListNode headA, ListNode headB)</span> &#123;</span><br><span class="line"><span class="type">ListNode</span> <span class="variable">l1</span> <span class="operator">=</span> headA, l2 = headB;</span><br><span class="line"><span class="keyword">while</span> (l1 != l2) &#123;</span><br><span class="line">    l1 = (l1 == <span class="literal">null</span>) ? headB : l1.next;</span><br><span class="line">    l2 = (l2 == <span class="literal">null</span>) ? headA : l2.next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> l1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/../images/DSA/Page1.jpg" alt="Page1"></p>
<p><img src="/../images/DSA/Page2.jpg" alt="Page3"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é€’å½’å†™æ³•    </span></span><br><span class="line"><span class="keyword">public</span> ListNode <span class="title function_">reverseList</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> reverse(<span class="literal">null</span>,head);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> ListNode <span class="title function_">reverse</span><span class="params">(ListNode pre, ListNode cur)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(cur==<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> pre;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">temp</span> <span class="operator">=</span> cur.next;</span><br><span class="line">        cur.next=pre;</span><br><span class="line">        <span class="keyword">return</span> reverse(cur,temp);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä»åå‘å‰çš„é€’å½’</span></span><br><span class="line">ListNode <span class="title function_">reverseList</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">        <span class="comment">// è¾¹ç¼˜æ¡ä»¶åˆ¤æ–­</span></span><br><span class="line">        <span class="keyword">if</span>(head == <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">if</span> (head.next == <span class="literal">null</span>) <span class="keyword">return</span> head;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// é€’å½’è°ƒç”¨ï¼Œç¿»è½¬ç¬¬äºŒä¸ªèŠ‚ç‚¹å¼€å§‹å¾€åçš„é“¾è¡¨</span></span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">last</span> <span class="operator">=</span> reverseList(head.next);</span><br><span class="line">        <span class="comment">// ç¿»è½¬å¤´èŠ‚ç‚¹ä¸ç¬¬äºŒä¸ªèŠ‚ç‚¹çš„æŒ‡å‘</span></span><br><span class="line">        head.next.next = head;</span><br><span class="line">        <span class="comment">// æ­¤æ—¶çš„ head èŠ‚ç‚¹ä¸ºå°¾èŠ‚ç‚¹ï¼Œnext éœ€è¦æŒ‡å‘ NULL</span></span><br><span class="line">        head.next = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">return</span> last;</span><br><span class="line">    &#125; </span><br></pre></td></tr></table></figure>

<p><img src="/../images/DSA/Page3.jpg" alt="Page3"></p>
<p><img src="/../images/DSA/Page4.jpg" alt="Page3"><img src="/../images/DSA/Page5.jpg" alt="Page4"><img src="/../images/DSA/Page6.jpg" alt="Page5"><img src="/../images/DSA/Page7.jpg" alt="Page6"><img src="/../images/DSA/Page8.jpg" alt="Page7"><img src="/../images/DSA/Page8.jpg" alt="Page8"><img src="/../images/DSA/Page9.jpg" alt="Page9"><img src="/../images/DSA/Page10.jpg" alt="Page10"><img src="/../images/DSA/Page11.jpg" alt="Page11"><img src="/../images/DSA/Page12.jpg" alt="Page12"></p>
<h3 id="Trees"><a href="#Trees" class="headerlink" title="Trees"></a>Trees</h3><h4 id="leetcode-104"><a href="#leetcode-104" class="headerlink" title="leetcode 104"></a>leetcode 104</h4><p><img src="/../images/DSA/Page13.jpg" alt="Page13"><img src="/../images/DSA/Page14.jpg" alt="Page14"><img src="/../images/DSA/Page15.jpg" alt="Page15"><img src="/../images/DSA/Page16.jpg" alt="Page16"><img src="/../images/DSA/Page17.jpg" alt="Page17"><img src="/../images/DSA/Page18.jpg" alt="Page18"><img src="/../images/DSA/Page19.jpg" alt="Page19"><img src="/../images/DSA/Page20.jpg" alt="Page20"><img src="/../images/DSA/Page21.jpg" alt="Page21"><img src="/../images/DSA/Page22.jpg" alt="Page22"><img src="/../images/DSA/Page23.jpg" alt="Page23"><img src="/../images/DSA/Page24.jpg" alt="Page24"><img src="/../images/DSA/Page25.jpg" alt="Page25"><img src="/../images/DSA/Page26.jpg" alt="Page26"><img src="/../images/DSA/Page27.jpg" alt="Page27"></p>
<h3 id="Double-pointers"><a href="#Double-pointers" class="headerlink" title="Double pointers"></a>Double pointers</h3><h4 id="leetcode-167"><a href="#leetcode-167" class="headerlink" title="leetcode 167"></a>leetcode 167</h4><p><img src="/../images/DSA/p1.jpg" alt="p1"></p>
<p><img src="/../images/DSA/p2.jpg" alt="p2"></p>
<h3 id="Sorting"><a href="#Sorting" class="headerlink" title="Sorting"></a>Sorting</h3><p><img src="/../images/DSA/p3.jpg" alt="p3"></p>
<p><img src="/../images/DSA/p4.jpg" alt="p4"></p>
<p><img src="/../images/DSA/p5.jpg" alt="p5"></p>
<p><img src="/../images/DSA/p6.jpg" alt="p6"></p>
<p><img src="/../images/DSA/p7.jpg" alt="p7"></p>
<p><img src="/../images/DSA/p8.jpg" alt="p8"></p>
<p><img src="/../images/DSA/p9.jpg" alt="p9"></p>
<p><img src="/../images/DSA/p10.jpg" alt="p10"></p>
<p><img src="/../images/DSA/p11.jpg" alt="p11"></p>
<p><img src="/../images/DSA/p12.jpg" alt="p12"></p>
<p><img src="/../images/DSA/p13.jpg" alt="p13"></p>
<p><img src="/../images/DSA/p14.jpg" alt="p14"></p>
<p><img src="/../images/DSA/p15.jpg" alt="p15"></p>
<p><img src="/../images/DSA/p16.jpg" alt="p16"></p>
<p><img src="/../images/DSA/p17.jpg" alt="p17"></p>
<p><img src="/../images/DSA/p18.jpg" alt="p18"></p>
<p><img src="/../images/DSA/p19.jpg" alt="p19"></p>
<p><img src="/../images/DSA/p20.jpg" alt="p20"></p>
<p><img src="/../images/DSA/p21.jpg" alt="p21"></p>
<h3 id="Arrays"><a href="#Arrays" class="headerlink" title="Arrays"></a>Arrays</h3><h4 id="leetcode-704"><a href="#leetcode-704" class="headerlink" title="leetcode 704"></a>leetcode 704</h4><p>æˆ‘ä»¬å®šä¹‰ target æ˜¯åœ¨ä¸€ä¸ªåœ¨å·¦é—­å³é—­çš„åŒºé—´é‡Œï¼Œ<strong>ä¹Ÿå°±æ˜¯[left, right] ï¼ˆè¿™ä¸ªå¾ˆé‡è¦éå¸¸é‡è¦ï¼‰</strong>ã€‚</p>
<p>åŒºé—´çš„å®šä¹‰è¿™å°±å†³å®šäº†äºŒåˆ†æ³•çš„ä»£ç åº”è¯¥å¦‚ä½•å†™ï¼Œ<strong>å› ä¸ºå®šä¹‰targetåœ¨[left, right]åŒºé—´ï¼Œæ‰€ä»¥æœ‰å¦‚ä¸‹ä¸¤ç‚¹ï¼š</strong></p>
<ul>
<li>while (left &lt;&#x3D; right) è¦ä½¿ç”¨ &lt;&#x3D; ï¼Œå› ä¸ºleft &#x3D;&#x3D; rightæ˜¯æœ‰æ„ä¹‰çš„ï¼Œæ‰€ä»¥ä½¿ç”¨ &lt;&#x3D;</li>
<li>if (nums[middle] &gt; target) right è¦èµ‹å€¼ä¸º middle - 1ï¼Œå› ä¸ºå½“å‰è¿™ä¸ªnums[middle]ä¸€å®šä¸æ˜¯targetï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥è¦æŸ¥æ‰¾çš„å·¦åŒºé—´ç»“æŸä¸‹æ ‡ä½ç½®å°±æ˜¯ middle - 1</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">search</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">  <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>, right = nums.length-<span class="number">1</span>;</span><br><span class="line">  <span class="keyword">while</span>(left&lt;=right)&#123;</span><br><span class="line">  <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> left + ((right - left) &gt;&gt; <span class="number">1</span>);</span><br><span class="line">  <span class="keyword">if</span>(target&gt;nums[mid]) left = mid+<span class="number">1</span>;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span>(target&lt;nums[mid]) right = mid-<span class="number">1</span>;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">return</span> mid;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h4 id="leetcode-27"><a href="#leetcode-27" class="headerlink" title="leetcode 27"></a>leetcode 27</h4><p><strong>Brute</strong></p>
<p>0,1,2,3,3,0,4,2</p>
<p>0,1,3,3,0,4,2,[2]</p>
<p>0,1,3,3,0,4,[2,2]</p>
<p>1,3,3,4,5 i&#x3D;1 result &#x3D; 5</p>
<p>1,3,4,5,[5] i&#x3D;1 result &#x3D; 4</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">removeElement</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> val)</span> &#123;</span><br><span class="line">    <span class="type">int</span> result=nums.length;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i&lt;result;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(nums[i]==val)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=i+<span class="number">1</span>;j&lt;result;j++)&#123;</span><br><span class="line">                nums[j-<span class="number">1</span>]=nums[j];</span><br><span class="line">            &#125;</span><br><span class="line">            result--;</span><br><span class="line">            i--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Fast and slow pointer</strong></p>
<p><img src="/../images/gif0_dsa.gif" alt="gif0_dsa"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">removeElement</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> val)</span> &#123;</span><br><span class="line"><span class="comment">// å¿«æ…¢æŒ‡é’ˆ</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">slowIndex</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">fastIndex</span> <span class="operator">=</span> <span class="number">0</span>; fastIndex &lt; nums.length; fastIndex++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[fastIndex] != val) &#123;</span><br><span class="line">                nums[slowIndex] = nums[fastIndex];</span><br><span class="line">                slowIndex++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> slowIndex;</span><br><span class="line">    </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç›¸å‘åŒæŒ‡é’ˆæ³•</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">removeElement</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> val)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(right &gt;= <span class="number">0</span> &amp;&amp; nums[right] == val) right--; <span class="comment">//å°†rightç§»åˆ°ä»å³æ•°ç¬¬ä¸€ä¸ªå€¼ä¸ä¸ºvalçš„ä½ç½®</span></span><br><span class="line">        <span class="keyword">while</span>(left &lt;= right) &#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[left] == val) &#123; <span class="comment">//leftä½ç½®çš„å…ƒç´ éœ€è¦ç§»é™¤</span></span><br><span class="line">                <span class="comment">//å°†rightä½ç½®çš„å…ƒç´ ç§»åˆ°leftï¼ˆè¦†ç›–ï¼‰ï¼Œrightä½ç½®ç§»é™¤</span></span><br><span class="line">                nums[left] = nums[right];</span><br><span class="line">                right--;</span><br><span class="line">            &#125;</span><br><span class="line">            left++;</span><br><span class="line">            <span class="keyword">while</span>(right &gt;= <span class="number">0</span> &amp;&amp; nums[right] == val) right--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> left;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Leetcode-977"><a href="#Leetcode-977" class="headerlink" title="Leetcode 977"></a>Leetcode 977</h4><p>ç»™ä½ ä¸€ä¸ªæŒ‰ <strong>éé€’å‡é¡ºåº</strong> æ’åºçš„æ•´æ•°æ•°ç»„ <code>nums</code>ï¼Œè¿”å› <strong>æ¯ä¸ªæ•°å­—çš„å¹³æ–¹</strong> ç»„æˆçš„æ–°æ•°ç»„ï¼Œè¦æ±‚ä¹ŸæŒ‰ <strong>éé€’å‡é¡ºåº</strong> æ’åºã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [-4,-1,0,3,10]</span><br><span class="line">è¾“å‡ºï¼š[0,1,9,16,100]</span><br><span class="line">è§£é‡Šï¼šå¹³æ–¹åï¼Œæ•°ç»„å˜ä¸º [16,1,0,9,100]</span><br><span class="line">æ’åºåï¼Œæ•°ç»„å˜ä¸º [0,1,9,16,100]</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> nums.length-<span class="number">1</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="comment">//construct a new array to store otherwise it will cause o(n^2) in time complexity</span></span><br><span class="line"><span class="type">int</span>[] result = <span class="keyword">new</span> <span class="title class_">int</span>[nums.length];</span><br><span class="line"><span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> result.length - <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span>(left&lt;=right)&#123;</span><br><span class="line"><span class="keyword">if</span>(nums[left]*nums[left]&gt;nums[right]*nums[right])&#123;</span><br><span class="line">    result[index]=nums[left]*nums[left];</span><br><span class="line">    index--;</span><br><span class="line">    left++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">    result[index]=nums[right]*nums[right];</span><br><span class="line">    index--;</span><br><span class="line">    right--;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="Leetcode-209"><a href="#Leetcode-209" class="headerlink" title="Leetcode 209"></a>Leetcode 209</h4><p>ç»™å®šä¸€ä¸ªå«æœ‰ n ä¸ªæ­£æ•´æ•°çš„æ•°ç»„å’Œä¸€ä¸ªæ­£æ•´æ•° target ã€‚</p>
<p>æ‰¾å‡ºè¯¥æ•°ç»„ä¸­æ»¡è¶³å…¶å’Œ â‰¥ target çš„é•¿åº¦æœ€å°çš„ è¿ç»­å­æ•°ç»„ [nums_l, nums_l+1, â€¦, nums_r-1, nums_r] ï¼Œå¹¶è¿”å›å…¶é•¿åº¦ã€‚å¦‚æœä¸å­˜åœ¨ç¬¦åˆæ¡ä»¶çš„å­æ•°ç»„ï¼Œè¿”å› 0 ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<p>è¾“å…¥ï¼štarget &#x3D; 7, nums &#x3D; [2,3,1,2,4,3]<br>è¾“å‡ºï¼š2<br>è§£é‡Šï¼šå­æ•°ç»„ [4,3] æ˜¯è¯¥æ¡ä»¶ä¸‹çš„é•¿åº¦æœ€å°çš„å­æ•°ç»„ã€‚<br>ç¤ºä¾‹ 2ï¼š</p>
<p>è¾“å…¥ï¼štarget &#x3D; 4, nums &#x3D; [1,4,4]<br>è¾“å‡ºï¼š1<br>ç¤ºä¾‹ï¼š3</p>
<p>è¾“å…¥ï¼štarget &#x3D; 11, nums &#x3D; [1,1,1,1,1,1,1,1]<br>è¾“å‡ºï¼š0</p>
<p><strong>Brute</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">minSubArrayLen</span><span class="params">(<span class="type">int</span> s, vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> result = INT32_MAX; <span class="comment">// æœ€ç»ˆçš„ç»“æœ</span></span><br><span class="line">        <span class="type">int</span> sum = <span class="number">0</span>; <span class="comment">// å­åºåˆ—çš„æ•°å€¼ä¹‹å’Œ</span></span><br><span class="line">        <span class="type">int</span> subLength = <span class="number">0</span>; <span class="comment">// å­åºåˆ—çš„é•¿åº¦</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; nums.<span class="built_in">size</span>(); i++) &#123; <span class="comment">// è®¾ç½®å­åºåˆ—èµ·ç‚¹ä¸ºi</span></span><br><span class="line">            sum = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = i; j &lt; nums.<span class="built_in">size</span>(); j++) &#123; <span class="comment">// è®¾ç½®å­åºåˆ—ç»ˆæ­¢ä½ç½®ä¸ºj</span></span><br><span class="line">                sum += nums[j];</span><br><span class="line">                <span class="keyword">if</span> (sum &gt;= s) &#123; <span class="comment">// ä¸€æ—¦å‘ç°å­åºåˆ—å’Œè¶…è¿‡äº†sï¼Œæ›´æ–°result</span></span><br><span class="line">                    subLength = j - i + <span class="number">1</span>; <span class="comment">// å–å­åºåˆ—çš„é•¿åº¦</span></span><br><span class="line">                    result = result &lt; subLength ? result : subLength;</span><br><span class="line">                    <span class="keyword">break</span>; <span class="comment">// å› ä¸ºæˆ‘ä»¬æ˜¯æ‰¾ç¬¦åˆæ¡ä»¶æœ€çŸ­çš„å­åºåˆ—ï¼Œæ‰€ä»¥ä¸€æ—¦ç¬¦åˆæ¡ä»¶å°±break</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å¦‚æœresultæ²¡æœ‰è¢«èµ‹å€¼çš„è¯ï¼Œå°±è¿”å›0ï¼Œè¯´æ˜æ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„å­åºåˆ—</span></span><br><span class="line">        <span class="keyword">return</span> result == INT32_MAX ? <span class="number">0</span> : result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<p><strong>Sliding Windows&#x2F;æ»‘åŠ¨çª—å£:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minSubArrayLen</span><span class="params">(<span class="type">int</span> s, <span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> Integer.MAX_VALUE;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> <span class="number">0</span>; right &lt; nums.length; right++) &#123;</span><br><span class="line">        sum += nums[right];</span><br><span class="line">        <span class="keyword">while</span> (sum &gt;= s) &#123;</span><br><span class="line">            result = Math.min(result, right - left + <span class="number">1</span>);</span><br><span class="line">            sum -= nums[left];</span><br><span class="line">          	left++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result == Integer.MAX_VALUE ? <span class="number">0</span> : result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/../images/gif1_dsa.gif" alt="gif1_dsa"></p>
<h4 id="Leetcode-59"><a href="#Leetcode-59" class="headerlink" title="Leetcode 59"></a>Leetcode 59</h4><p>æ³¨æ„è¾¹ç•Œæ¡ä»¶, åšæŒå·¦é—­å³å¼€çš„åŸåˆ™.</p>
<p>å¾ªç¯çš„æ¬¡æ•°ç­‰äºn&#x2F;2</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[][] generateMatrix(<span class="type">int</span> n) &#123;</span><br><span class="line">        <span class="type">int</span> start=<span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> count=<span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> loop=<span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span>[][] nums = <span class="keyword">new</span> <span class="title class_">int</span>[n][n]; </span><br><span class="line">        <span class="type">int</span> i,j;</span><br><span class="line">        <span class="keyword">while</span>(loop++&lt;n/<span class="number">2</span>)&#123;</span><br><span class="line">            <span class="keyword">for</span>(j = start ; j&lt;n-loop ; j++)&#123;</span><br><span class="line">               nums[start][j] = count++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(i = start;i&lt;n-loop;i++)&#123;</span><br><span class="line">                nums[i][j]=count++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(;j&gt;=loop;j--)&#123;</span><br><span class="line">                nums[i][j]=count++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(;i&gt;=loop;i--)&#123;</span><br><span class="line">                nums[i][j]=count++;</span><br><span class="line">            &#125;</span><br><span class="line">            start++;</span><br><span class="line">        &#125;</span><br><span class="line">           <span class="keyword">if</span>(n%<span class="number">2</span>==<span class="number">1</span>)&#123;</span><br><span class="line">                nums[n/<span class="number">2</span>][n/<span class="number">2</span>]=n*n;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">return</span> nums;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<h4 id="Summary-of-Array"><a href="#Summary-of-Array" class="headerlink" title="Summary of Array"></a>Summary of Array</h4><ul>
<li><strong>æ•°ç»„ä¸‹æ ‡éƒ½æ˜¯ä»0å¼€å§‹çš„ã€‚</strong></li>
<li><strong>æ•°ç»„å†…å­˜ç©ºé—´çš„åœ°å€æ˜¯è¿ç»­çš„</strong></li>
</ul>
<p>æ­£æ˜¯<strong>å› ä¸ºæ•°ç»„çš„åœ¨å†…å­˜ç©ºé—´çš„åœ°å€æ˜¯è¿ç»­çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨åˆ é™¤æˆ–è€…å¢æ·»å…ƒç´ çš„æ—¶å€™ï¼Œå°±éš¾å…è¦ç§»åŠ¨å…¶ä»–å…ƒç´ çš„åœ°å€ã€‚</strong></p>
<p>æˆ‘ä»¬æ¥ä¸¾ä¸€ä¸ªJavaçš„ä¾‹å­ï¼Œä¾‹å¦‚ï¼š <code>int[][] rating = new int[3][4];</code> ï¼Œ è¿™ä¸ªäºŒç»´æ•°ç»„åœ¨å†…å­˜ç©ºé—´å¯ä¸æ˜¯ä¸€ä¸ª <code>3*4</code> çš„è¿ç»­åœ°å€ç©ºé—´</p>
<p>çœ‹äº†ä¸‹å›¾ï¼Œå°±åº”è¯¥æ˜ç™½äº†ï¼š</p>
<p><img src="/../images/%E7%AE%97%E6%B3%95%E9%80%9A%E5%85%B3%E6%95%B0%E7%BB%843.png" alt="ç®—æ³•é€šå…³æ•°ç»„3"></p>
<p>æ‰€ä»¥<strong>Javaçš„äºŒç»´æ•°ç»„åœ¨å†…å­˜ä¸­ä¸æ˜¯ <code>3\*4</code> çš„è¿ç»­åœ°å€ç©ºé—´ï¼Œè€Œæ˜¯å››æ¡è¿ç»­çš„åœ°å€ç©ºé—´ç»„æˆï¼</strong></p>
<h3 id="Hash-table"><a href="#Hash-table" class="headerlink" title="Hash table"></a>Hash table</h3><h4 id="å“ˆå¸Œç¢°æ’"><a href="#å“ˆå¸Œç¢°æ’" class="headerlink" title="å“ˆå¸Œç¢°æ’"></a>å“ˆå¸Œç¢°æ’</h4><p>å¦‚å›¾æ‰€ç¤ºï¼Œå°æå’Œå°ç‹éƒ½æ˜ å°„åˆ°äº†ç´¢å¼•ä¸‹æ ‡ 1 çš„ä½ç½®ï¼Œ<strong>è¿™ä¸€ç°è±¡å«åšå“ˆå¸Œç¢°æ’</strong>ã€‚</p>
<p><img src="/../images/2021010423494884.png" alt="å“ˆå¸Œè¡¨3"></p>
<p>ä¸€èˆ¬å“ˆå¸Œç¢°æ’æœ‰ä¸¤ç§è§£å†³æ–¹æ³•ï¼Œ æ‹‰é“¾æ³•å’Œçº¿æ€§æ¢æµ‹æ³•ã€‚</p>
<h4 id="æ‹‰é“¾æ³•"><a href="#æ‹‰é“¾æ³•" class="headerlink" title="#æ‹‰é“¾æ³•"></a><a target="_blank" rel="noopener" href="https://programmercarl.com/%E5%93%88%E5%B8%8C%E8%A1%A8%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80.html#%E6%8B%89%E9%93%BE%E6%B3%95">#</a>æ‹‰é“¾æ³•</h4><p>åˆšåˆšå°æå’Œå°ç‹åœ¨ç´¢å¼•1çš„ä½ç½®å‘ç”Ÿäº†å†²çªï¼Œå‘ç”Ÿå†²çªçš„å…ƒç´ éƒ½è¢«å­˜å‚¨åœ¨é“¾è¡¨ä¸­ã€‚ è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ç´¢å¼•æ‰¾åˆ°å°æå’Œå°ç‹äº†</p>
<p><img src="/../images/20210104235015226.png" alt="å“ˆå¸Œè¡¨4"></p>
<p>ï¼ˆæ•°æ®è§„æ¨¡æ˜¯dataSizeï¼Œ å“ˆå¸Œè¡¨çš„å¤§å°ä¸ºtableSizeï¼‰</p>
<p>å…¶å®æ‹‰é“¾æ³•å°±æ˜¯è¦é€‰æ‹©é€‚å½“çš„å“ˆå¸Œè¡¨çš„å¤§å°ï¼Œè¿™æ ·æ—¢ä¸ä¼šå› ä¸ºæ•°ç»„ç©ºå€¼è€Œæµªè´¹å¤§é‡å†…å­˜ï¼Œä¹Ÿä¸ä¼šå› ä¸ºé“¾è¡¨å¤ªé•¿è€Œåœ¨æŸ¥æ‰¾ä¸Šæµªè´¹å¤ªå¤šæ—¶é—´ã€‚</p>
<h4 id="çº¿æ€§æ¢æµ‹æ³•"><a href="#çº¿æ€§æ¢æµ‹æ³•" class="headerlink" title="#çº¿æ€§æ¢æµ‹æ³•"></a><a target="_blank" rel="noopener" href="https://programmercarl.com/%E5%93%88%E5%B8%8C%E8%A1%A8%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80.html#%E7%BA%BF%E6%80%A7%E6%8E%A2%E6%B5%8B%E6%B3%95">#</a>çº¿æ€§æ¢æµ‹æ³•</h4><p>ä½¿ç”¨çº¿æ€§æ¢æµ‹æ³•ï¼Œä¸€å®šè¦ä¿è¯tableSizeå¤§äºdataSizeã€‚ æˆ‘ä»¬éœ€è¦ä¾é å“ˆå¸Œè¡¨ä¸­çš„ç©ºä½æ¥è§£å†³ç¢°æ’é—®é¢˜ã€‚</p>
<p>ä¾‹å¦‚å†²çªçš„ä½ç½®ï¼Œæ”¾äº†å°æï¼Œé‚£ä¹ˆå°±å‘ä¸‹æ‰¾ä¸€ä¸ªç©ºä½æ”¾ç½®å°ç‹çš„ä¿¡æ¯ã€‚æ‰€ä»¥è¦æ±‚tableSizeä¸€å®šè¦å¤§äºdataSize ï¼Œè¦ä¸ç„¶å“ˆå¸Œè¡¨ä¸Šå°±æ²¡æœ‰ç©ºç½®çš„ä½ç½®æ¥å­˜æ”¾ å†²çªçš„æ•°æ®äº†ã€‚å¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://code-thinking-1253855093.file.myqcloud.com/pics/20210104235109950.png" alt="å“ˆå¸Œè¡¨5"></p>
<p>å…¶å®å…³äºå“ˆå¸Œç¢°æ’è¿˜æœ‰éå¸¸å¤šçš„ç»†èŠ‚ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥å†å¥½å¥½ç ”ç©¶ä¸€ä¸‹ï¼Œè¿™é‡Œæˆ‘å°±ä¸å†èµ˜è¿°äº†ã€‚</p>
<p>hashè¡¨æ˜¯ç‰ºç‰²ç©ºé—´å‡å°‘æ—¶é—´cost</p>
<h4 id="Leetcode-242"><a href="#Leetcode-242" class="headerlink" title="Leetcode 242"></a>Leetcode 242</h4><p>ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² s å’Œ t ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥åˆ¤æ–­ t æ˜¯å¦æ˜¯ s çš„å­—æ¯å¼‚ä½è¯ã€‚</p>
<p>ç¤ºä¾‹ 1: è¾“å…¥: s &#x3D; â€œanagramâ€, t &#x3D; â€œnagaramâ€ è¾“å‡º: true</p>
<p>ç¤ºä¾‹ 2: è¾“å…¥: s &#x3D; â€œratâ€, t &#x3D; â€œcarâ€ è¾“å‡º: false</p>
<p><strong>è¯´æ˜:</strong> ä½ å¯ä»¥å‡è®¾å­—ç¬¦ä¸²åªåŒ…å«å°å†™å­—æ¯ã€‚</p>
<p><img src="/../images/242.%E6%9C%89%E6%95%88%E7%9A%84%E5%AD%97%E6%AF%8D%E5%BC%82%E4%BD%8D%E8%AF%8D.gif" alt="242.æœ‰æ•ˆçš„å­—æ¯å¼‚ä½è¯"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isAnagram</span><span class="params">(String s, String t)</span> &#123;</span><br><span class="line">        Map&lt;Character,Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">char</span> c:s.toCharArray())&#123;</span><br><span class="line">            map.put(c,map.getOrDefault(c,<span class="number">0</span>)+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; t.length(); i++) &#123;</span><br><span class="line">            <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> t.charAt(i);</span><br><span class="line">            <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> map.getOrDefault(c, <span class="number">0</span>);</span><br><span class="line">            <span class="keyword">if</span> (count == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (count == <span class="number">1</span>) &#123;</span><br><span class="line">                map.remove(c);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                map.put(c, count - <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> map.isEmpty();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>æ›´ç®€å•çš„åšæ³•æ˜¯ç”¨æ•°ç»„</p>
<p><strong>æ•°ç»„å…¶å®å°±æ˜¯ä¸€ä¸ªç®€å•å“ˆå¸Œè¡¨</strong>ï¼Œè€Œä¸”è¿™é“é¢˜ç›®ä¸­å­—ç¬¦ä¸²åªæœ‰å°å†™å­—ç¬¦ï¼Œé‚£ä¹ˆå°±å¯ä»¥å®šä¹‰ä¸€ä¸ªæ•°ç»„ï¼Œæ¥è®°å½•å­—ç¬¦ä¸²sé‡Œå­—ç¬¦å‡ºç°çš„æ¬¡æ•°ã€‚éœ€è¦å®šä¹‰ä¸€ä¸ªå¤šå¤§çš„æ•°ç»„å‘¢ï¼Œå®šä¸€ä¸ªæ•°ç»„å«åšrecordï¼Œå¤§å°ä¸º26 å°±å¯ä»¥äº†ï¼Œåˆå§‹åŒ–ä¸º0ï¼Œå› ä¸ºå­—ç¬¦aåˆ°å­—ç¬¦zçš„ASCIIä¹Ÿæ˜¯26ä¸ªè¿ç»­çš„æ•°å€¼ã€‚</p>
<p>å®šä¹‰ä¸€ä¸ªæ•°ç»„å«åšrecordç”¨æ¥ä¸Šè®°å½•å­—ç¬¦ä¸²sé‡Œå­—ç¬¦å‡ºç°çš„æ¬¡æ•°ã€‚</p>
<p>éœ€è¦æŠŠå­—ç¬¦æ˜ å°„åˆ°æ•°ç»„ä¹Ÿå°±æ˜¯å“ˆå¸Œè¡¨çš„ç´¢å¼•ä¸‹æ ‡ä¸Šï¼Œ<strong>å› ä¸ºå­—ç¬¦aåˆ°å­—ç¬¦zçš„ASCIIæ˜¯26ä¸ªè¿ç»­çš„æ•°å€¼ï¼Œæ‰€ä»¥å­—ç¬¦aæ˜ å°„ä¸ºä¸‹æ ‡0ï¼Œç›¸åº”çš„å­—ç¬¦zæ˜ å°„ä¸ºä¸‹æ ‡25ã€‚</strong></p>
<p>å†éå† å­—ç¬¦ä¸²sçš„æ—¶å€™ï¼Œ<strong>åªéœ€è¦å°† s[i] - â€˜aâ€™ æ‰€åœ¨çš„å…ƒç´ åš+1 æ“ä½œå³å¯ï¼Œå¹¶ä¸éœ€è¦è®°ä½å­—ç¬¦açš„ASCIIï¼Œåªè¦æ±‚å‡ºä¸€ä¸ªç›¸å¯¹æ•°å€¼å°±å¯ä»¥äº†ã€‚</strong> è¿™æ ·å°±å°†å­—ç¬¦ä¸²sä¸­å­—ç¬¦å‡ºç°çš„æ¬¡æ•°ï¼Œç»Ÿè®¡å‡ºæ¥äº†ã€‚</p>
<p>é‚£çœ‹ä¸€ä¸‹å¦‚ä½•æ£€æŸ¥å­—ç¬¦ä¸²tä¸­æ˜¯å¦å‡ºç°äº†è¿™äº›å­—ç¬¦ï¼ŒåŒæ ·åœ¨éå†å­—ç¬¦ä¸²tçš„æ—¶å€™ï¼Œå¯¹tä¸­å‡ºç°çš„å­—ç¬¦æ˜ å°„å“ˆå¸Œè¡¨ç´¢å¼•ä¸Šçš„æ•°å€¼å†åš-1çš„æ“ä½œã€‚</p>
<p>é‚£ä¹ˆæœ€åæ£€æŸ¥ä¸€ä¸‹ï¼Œ<strong>recordæ•°ç»„å¦‚æœæœ‰çš„å…ƒç´ ä¸ä¸ºé›¶0ï¼Œè¯´æ˜å­—ç¬¦ä¸²så’Œtä¸€å®šæ˜¯è°å¤šäº†å­—ç¬¦æˆ–è€…è°å°‘äº†å­—ç¬¦ï¼Œreturn falseã€‚</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 242. æœ‰æ•ˆçš„å­—æ¯å¼‚ä½è¯ å­—å…¸è§£æ³•</span></span><br><span class="line"><span class="comment"> * æ—¶é—´å¤æ‚åº¦O(m+n) ç©ºé—´å¤æ‚åº¦O(1)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isAnagram</span><span class="params">(String s, String t)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] record = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">26</span>];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">            record[s.charAt(i) - <span class="string">&#x27;a&#x27;</span>]++;     <span class="comment">// å¹¶ä¸éœ€è¦è®°ä½å­—ç¬¦açš„ASCIIï¼Œåªè¦æ±‚å‡ºä¸€ä¸ªç›¸å¯¹æ•°å€¼å°±å¯ä»¥äº†</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; t.length(); i++) &#123;</span><br><span class="line">            record[t.charAt(i) - <span class="string">&#x27;a&#x27;</span>]--;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> count: record) &#123;</span><br><span class="line">            <span class="keyword">if</span> (count != <span class="number">0</span>) &#123;               <span class="comment">// recordæ•°ç»„å¦‚æœæœ‰çš„å…ƒç´ ä¸ä¸ºé›¶0ï¼Œè¯´æ˜å­—ç¬¦ä¸²så’Œt ä¸€å®šæ˜¯è°å¤šäº†å­—ç¬¦æˆ–è€…è°å°‘äº†å­—ç¬¦ã€‚</span></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;                        <span class="comment">// recordæ•°ç»„æ‰€æœ‰å…ƒç´ éƒ½ä¸ºé›¶0ï¼Œè¯´æ˜å­—ç¬¦ä¸²så’Œtæ˜¯å­—æ¯å¼‚ä½è¯</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="Leetcode-349"><a href="#Leetcode-349" class="headerlink" title="Leetcode 349"></a>Leetcode 349</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] intersection(<span class="type">int</span>[] nums1, <span class="type">int</span>[] nums2) &#123;</span><br><span class="line">    <span class="keyword">if</span>(nums1==<span class="literal">null</span>||nums2==<span class="literal">null</span>||nums1.length==<span class="number">0</span>||nums2.length==<span class="number">0</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    Set&lt;Integer&gt; set = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">    Set&lt;Integer&gt; resSet = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i:nums1)&#123;</span><br><span class="line">        set.add(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i:nums2)&#123;</span><br><span class="line">        <span class="keyword">if</span>(set.contains(i))&#123;</span><br><span class="line">            resSet.add(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">     <span class="type">int</span>[] arr = <span class="keyword">new</span> <span class="title class_">int</span>[resSet.size()];</span><br><span class="line">        <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i : resSet)&#123;</span><br><span class="line">            arr[j++] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> arr;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<h4 id="Leetcode-202-å¿«ä¹æ•°"><a href="#Leetcode-202-å¿«ä¹æ•°" class="headerlink" title="Leetcode 202 å¿«ä¹æ•°"></a>Leetcode 202 å¿«ä¹æ•°</h4><p>è¿™ä¸ªé¢˜è®¨è®º3ç§å‡è®¾æƒ…å†µ</p>
<ol>
<li>æœ€ån1-&gt;n2-&gt;â€¦-&gt;1 true</li>
<li>æœ€åå¾ªç¯ä¸‹æ¥äº†,n1-&gt;n2-&gt;â€¦-&gt;n1 false</li>
<li>è¶ŠåŠ è¶Šå¤§</li>
</ol>
<p>ä½†æ˜¯äº‹å®ä¸Šä¸ä¼šè¶ŠåŠ è¶Šå¤§ï¼Œæ‹¿9æ¥ä¸¾ä¾‹ï¼Œ9^2&#x3D;81,99-&gt;162, â€¦.999-&gt;243,9999-&gt;324,99999-&gt;405è¿™æ ·åŠ ä¸‹å»ï¼Œä¸ä¼šè¶…å…¶æœ¬èº«ï¼Œæ‰€ä»¥ä¸ä¼šè¶ŠåŠ è¶Šå¤§ã€‚æ‰€ä»¥æˆ‘ä»¬åªéœ€è¦è®¨è®ºå‰ä¸¤ç§æ–¹æ¡ˆï¼Œåªè¦åœ¨å¾ªç¯è¿‡ç¨‹ä¸­å‡ºç°äº†é‡å¤çš„ï¼Œå°±åœæ­¢å¾ªç¯å¹¶è¿”å›ï¼Œå‡ºç°1äº†ä¹Ÿåœæ­¢å¾ªç¯å¹¶è¿”å›ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isHappy</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        Set&lt;Integer&gt; record = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span> (n != <span class="number">1</span> &amp;&amp; !record.contains(n)) &#123;</span><br><span class="line">            record.add(n);</span><br><span class="line">            n = getNextNumber(n);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> n == <span class="number">1</span>;</span><br><span class="line">         </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">getNextNumber</span><span class="params">(<span class="type">int</span> n)</span>&#123;</span><br><span class="line">    <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(n&gt;<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> n%<span class="number">10</span>;</span><br><span class="line">        res+=temp*temp;</span><br><span class="line">        n=n/<span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="Leetcode-1-ä¸¤æ•°ä¹‹å’Œ"><a href="#Leetcode-1-ä¸¤æ•°ä¹‹å’Œ" class="headerlink" title="Leetcode 1 ä¸¤æ•°ä¹‹å’Œ"></a>Leetcode 1 ä¸¤æ•°ä¹‹å’Œ</h4><p><strong>Brute force:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">public</span> <span class="type">int</span>[] twoSum(<span class="type">int</span>[] nums, <span class="type">int</span> target) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;nums.length;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;nums.length;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(i==j)&#123;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>((nums[i]+nums[j])==target)&#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;i,j&#125;;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>HashMap:</strong></p>
<p>æœ¬è§£æ³•æœ‰å››ä¸ªé‡ç‚¹ï¼š</p>
<ul>
<li>ä¸ºä»€ä¹ˆä¼šæƒ³åˆ°ç”¨å“ˆå¸Œè¡¨</li>
<li>å“ˆå¸Œè¡¨ä¸ºä»€ä¹ˆç”¨map</li>
<li>æœ¬é¢˜mapæ˜¯ç”¨æ¥å­˜ä»€ä¹ˆçš„</li>
<li>mapä¸­çš„keyå’Œvalueç”¨æ¥å­˜ä»€ä¹ˆçš„</li>
</ul>
<p>mapç›®çš„ç”¨æ¥å­˜æ”¾æˆ‘ä»¬è®¿é—®è¿‡çš„å…ƒç´ ï¼Œå› ä¸ºéå†æ•°ç»„çš„æ—¶å€™ï¼Œéœ€è¦è®°å½•æˆ‘ä»¬ä¹‹å‰éå†è¿‡å“ªäº›å…ƒç´ å’Œå¯¹åº”çš„ä¸‹æ ‡ï¼Œè¿™æ ·æ‰èƒ½æ‰¾åˆ°ä¸å½“å‰å…ƒç´ ç›¸åŒ¹é…çš„ï¼ˆä¹Ÿå°±æ˜¯ç›¸åŠ ç­‰äºtargetï¼‰</p>
<p>æ¥ä¸‹æ¥æ˜¯mapä¸­keyå’Œvalueåˆ†åˆ«è¡¨ç¤ºä»€ä¹ˆã€‚</p>
<p>è¿™é“é¢˜ æˆ‘ä»¬éœ€è¦ ç»™å‡ºä¸€ä¸ªå…ƒç´ ï¼Œåˆ¤æ–­è¿™ä¸ªå…ƒç´ æ˜¯å¦å‡ºç°è¿‡ï¼Œå¦‚æœå‡ºç°è¿‡ï¼Œè¿”å›è¿™ä¸ªå…ƒç´ çš„ä¸‹æ ‡ã€‚</p>
<p>é‚£ä¹ˆåˆ¤æ–­å…ƒç´ æ˜¯å¦å‡ºç°ï¼Œè¿™ä¸ªå…ƒç´ å°±è¦ä½œä¸ºkeyï¼Œæ‰€ä»¥æ•°ç»„ä¸­çš„å…ƒç´ ä½œä¸ºkeyï¼Œæœ‰keyå¯¹åº”çš„å°±æ˜¯valueï¼Œvalueç”¨æ¥å­˜ä¸‹æ ‡ã€‚</p>
<p>æ‰€ä»¥ mapä¸­çš„å­˜å‚¨ç»“æ„ä¸º {keyï¼šæ•°æ®å…ƒç´ ï¼Œvalueï¼šæ•°ç»„å…ƒç´ å¯¹åº”çš„ä¸‹æ ‡}ã€‚</p>
<p>åœ¨éå†æ•°ç»„çš„æ—¶å€™ï¼Œåªéœ€è¦å‘mapå»æŸ¥è¯¢æ˜¯å¦æœ‰å’Œç›®å‰éå†å…ƒç´ åŒ¹é…çš„æ•°å€¼ï¼Œå¦‚æœæœ‰ï¼Œå°±æ‰¾åˆ°çš„åŒ¹é…å¯¹ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå°±æŠŠç›®å‰éå†çš„å…ƒç´ æ”¾è¿›mapä¸­ï¼Œå› ä¸ºmapå­˜æ”¾çš„å°±æ˜¯æˆ‘ä»¬è®¿é—®è¿‡çš„å…ƒç´ ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] twoSum(<span class="type">int</span>[] nums, <span class="type">int</span> target) &#123;</span><br><span class="line">    <span class="type">int</span>[] res = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">if</span>(nums==<span class="literal">null</span>||nums.length==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    Map&lt;Integer,Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;nums.length;i++)&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> target-nums[i];</span><br><span class="line">        <span class="keyword">if</span>(map.containsKey(temp))&#123;</span><br><span class="line">            res[<span class="number">0</span>]=i;</span><br><span class="line">            res[<span class="number">1</span>]=map.get(temp);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        map.put(nums[i],i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br></pre></td></tr></table></figure>



<h4 id="Leetcode-454-å››æ•°ç›¸åŠ "><a href="#Leetcode-454-å››æ•°ç›¸åŠ " class="headerlink" title="Leetcode 454 å››æ•°ç›¸åŠ "></a>Leetcode 454 å››æ•°ç›¸åŠ </h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">fourSumCount</span><span class="params">(<span class="type">int</span>[] nums1, <span class="type">int</span>[] nums2, <span class="type">int</span>[] nums3, <span class="type">int</span>[] nums4)</span> &#123;</span><br><span class="line">        Map&lt;Integer,Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        <span class="type">int</span> temp;</span><br><span class="line">        <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i:nums1)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j:nums2)&#123;</span><br><span class="line">                temp=i+j;</span><br><span class="line">                <span class="keyword">if</span> (map.containsKey(temp)) &#123;</span><br><span class="line">                    map.put(temp, map.get(temp) + <span class="number">1</span>);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    map.put(temp, <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i:nums3)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j:nums4)&#123;</span><br><span class="line">                temp=i+j;</span><br><span class="line">                <span class="keyword">if</span> (map.containsKey(<span class="number">0</span> - temp)) &#123;</span><br><span class="line">                    res += map.get(<span class="number">0</span> - temp);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="String-type-question"><a href="#String-type-question" class="headerlink" title="String type question"></a>String type question</h3><h4 id="344-Reverse-the-String"><a href="#344-Reverse-the-String" class="headerlink" title="344. Reverse the String"></a>344. Reverse the String</h4><p>ä½¿ç”¨åŒæŒ‡é’ˆï¼Œ<strong>left</strong>å’Œ<strong>right</strong></p>
<p>å¾ªç¯swap left å’Œ right ç›´åˆ° <strong>left&gt;&#x3D;right</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">reverseString</span><span class="params">(<span class="type">char</span>[] s)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> s.length-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;j)&#123;</span><br><span class="line">        swap(s,i,j);</span><br><span class="line">        i++;</span><br><span class="line">        j--;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">char</span> s[], <span class="type">int</span> i, <span class="type">int</span> j)</span>&#123;</span><br><span class="line">    <span class="type">char</span> temp=s[i];</span><br><span class="line">    s[i]=s[j];</span><br><span class="line">    s[j]=temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="541-Reverse-the-String-II"><a href="#541-Reverse-the-String-II" class="headerlink" title="541. Reverse the String II"></a>541. Reverse the String II</h4><p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² s å’Œä¸€ä¸ªæ•´æ•° kï¼Œä»å­—ç¬¦ä¸²å¼€å¤´ç®—èµ·ï¼Œæ¯è®¡æ•°è‡³ 2k ä¸ªå­—ç¬¦ï¼Œå°±åè½¬è¿™ 2k å­—ç¬¦ä¸­çš„å‰ k ä¸ªå­—ç¬¦ã€‚</p>
<p>å¦‚æœå‰©ä½™å­—ç¬¦å°‘äº k ä¸ªï¼Œåˆ™å°†å‰©ä½™å­—ç¬¦å…¨éƒ¨åè½¬ã€‚<br>å¦‚æœå‰©ä½™å­—ç¬¦å°äº 2k ä½†å¤§äºæˆ–ç­‰äº k ä¸ªï¼Œåˆ™åè½¬å‰ k ä¸ªå­—ç¬¦ï¼Œå…¶ä½™å­—ç¬¦ä¿æŒåŸæ ·ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">reverseStr</span><span class="params">(String s, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> s.length();</span><br><span class="line">    <span class="type">StringBuilder</span> <span class="variable">res</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">    <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">remain</span> <span class="operator">=</span> length;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> (remain &gt;= <span class="number">2</span> * k) &#123;</span><br><span class="line">        res.append(reverse(s, <span class="number">0</span> + <span class="number">2</span> * k * count, k + <span class="number">2</span> * k * count));</span><br><span class="line">        res.append(s.substring(k + <span class="number">2</span> * k * count, <span class="number">2</span> * k + <span class="number">2</span> * k * count));</span><br><span class="line">        remain -= <span class="number">2</span> * k;</span><br><span class="line">        count++;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (remain &gt;= k) &#123;</span><br><span class="line">        res.append(reverse(s, <span class="number">0</span> + <span class="number">2</span> * k * count, k + <span class="number">2</span> * k * count));</span><br><span class="line">        res.append(s.substring(k + <span class="number">2</span> * k * count));</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">sub</span> <span class="operator">=</span> s.substring(<span class="number">0</span> + <span class="number">2</span> * k * count);</span><br><span class="line">        res.append(reverse(sub, <span class="number">0</span>, sub.length()));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> res.toString();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> String <span class="title function_">reverse</span><span class="params">(String s, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">    <span class="type">char</span>[] a = s.substring(i, j).toCharArray();</span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> a.length - <span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">        swap(a, left, right);</span><br><span class="line">        left++;</span><br><span class="line">        right--;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">String</span>(a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">char</span>[] s, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">    <span class="type">char</span> <span class="variable">temp</span> <span class="operator">=</span> s[i];</span><br><span class="line">    s[i] = s[j];</span><br><span class="line">    s[j] = temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é¢˜å°±æ˜¯æ³¨æ„è¾¹ç•Œå€¼çš„å¤„ç†ï¼Œåˆ«çš„æ²¡ä»€ä¹ˆã€‚</p>
<h4 id="å‰‘æŒ‡offer05"><a href="#å‰‘æŒ‡offer05" class="headerlink" title="å‰‘æŒ‡offer05"></a>å‰‘æŒ‡offer05</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">replaceSpace</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">    <span class="type">char</span>[] ch = s.toCharArray();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">char</span> c: ch)&#123;</span><br><span class="line">        <span class="keyword">if</span>(c==<span class="number">32</span>)&#123;</span><br><span class="line">            sb.append(<span class="string">&quot;%20&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            sb.append(c);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sb.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>åŒæŒ‡é’ˆæ³•ï¼Œå¾ˆå·§å¦™</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">replaceSpace</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(s == <span class="literal">null</span> || s.length() == <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æ‰©å……ç©ºé—´ï¼Œç©ºæ ¼æ•°é‡2å€</span></span><br><span class="line">    <span class="type">StringBuilder</span> <span class="variable">str</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(s.charAt(i) == <span class="string">&#x27; &#x27;</span>)&#123;</span><br><span class="line">            str.append(<span class="string">&quot;  &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è‹¥æ˜¯æ²¡æœ‰ç©ºæ ¼ç›´æ¥è¿”å›</span></span><br><span class="line">    <span class="keyword">if</span>(str.length() == <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æœ‰ç©ºæ ¼æƒ…å†µ å®šä¹‰ä¸¤ä¸ªæŒ‡é’ˆ</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> s.length() - <span class="number">1</span>;<span class="comment">//å·¦æŒ‡é’ˆï¼šæŒ‡å‘åŸå§‹å­—ç¬¦ä¸²æœ€åä¸€ä¸ªä½ç½®</span></span><br><span class="line">    s += str.toString();</span><br><span class="line">    <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> s.length()-<span class="number">1</span>;<span class="comment">//å³æŒ‡é’ˆï¼šæŒ‡å‘æ‰©å±•å­—ç¬¦ä¸²çš„æœ€åä¸€ä¸ªä½ç½®</span></span><br><span class="line">    <span class="type">char</span>[] chars = s.toCharArray();</span><br><span class="line">    <span class="keyword">while</span>(left&gt;=<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(chars[left] == <span class="string">&#x27; &#x27;</span>)&#123;</span><br><span class="line">            chars[right--] = <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">            chars[right--] = <span class="string">&#x27;2&#x27;</span>;</span><br><span class="line">            chars[right] = <span class="string">&#x27;%&#x27;</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            chars[right] = chars[left];</span><br><span class="line">        &#125;</span><br><span class="line">        left--;</span><br><span class="line">        right--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">String</span>(chars);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="151-ç¿»è½¬å­—ç¬¦ä¸²é‡Œçš„å•è¯"><a href="#151-ç¿»è½¬å­—ç¬¦ä¸²é‡Œçš„å•è¯" class="headerlink" title="151 ç¿»è½¬å­—ç¬¦ä¸²é‡Œçš„å•è¯"></a>151 ç¿»è½¬å­—ç¬¦ä¸²é‡Œçš„å•è¯</h4><p>My solution: use a stack</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">reverseWords</span><span class="params">(String s)</span> &#123;</span><br><span class="line">String[] words = s.split(<span class="string">&quot;\\s+&quot;</span>);</span><br><span class="line">Stack&lt;String&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line"><span class="keyword">for</span>(String word: words)&#123;</span><br><span class="line">    stack.push(word);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line"><span class="keyword">while</span>(!stack.isEmpty())&#123;</span><br><span class="line">    sb.append(stack.pop());</span><br><span class="line">    sb.append(<span class="string">&quot; &quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> sb.toString().trim();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">reverseWords</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="comment">// System.out.println(&quot;ReverseWords.reverseWords2() called with: s = [&quot; + s + &quot;]&quot;);</span></span><br><span class="line">        <span class="comment">// 1.å»é™¤é¦–å°¾ä»¥åŠä¸­é—´å¤šä½™ç©ºæ ¼</span></span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> removeSpace(s);</span><br><span class="line">        <span class="comment">// 2.åè½¬æ•´ä¸ªå­—ç¬¦ä¸²</span></span><br><span class="line">        reverseString(sb, <span class="number">0</span>, sb.length() - <span class="number">1</span>);</span><br><span class="line">        <span class="comment">// 3.åè½¬å„ä¸ªå•è¯</span></span><br><span class="line">        reverseEachWord(sb);</span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">    &#125; </span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> StringBuilder <span class="title function_">removeSpace</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="comment">// System.out.println(&quot;ReverseWords.removeSpace() called with: s = [&quot; + s + &quot;]&quot;);</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">start</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">end</span> <span class="operator">=</span> s.length() - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (s.charAt(start) == <span class="string">&#x27; &#x27;</span>) start++;</span><br><span class="line">        <span class="keyword">while</span> (s.charAt(end) == <span class="string">&#x27; &#x27;</span>) end--;<span class="comment">//è¿™ä¸¤è¡Œæ˜¯ä¸ºäº†å»é™¤å¤´éƒ¨å’Œå°¾éƒ¨çš„ç©ºæ ¼</span></span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="keyword">while</span> (start &lt;= end) &#123;</span><br><span class="line">            <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> s.charAt(start);</span><br><span class="line">            <span class="keyword">if</span> (c != <span class="string">&#x27; &#x27;</span> || sb.charAt(sb.length() - <span class="number">1</span>) != <span class="string">&#x27; &#x27;</span>) &#123;</span><br><span class="line">                sb.append(c);</span><br><span class="line">            &#125;</span><br><span class="line">            start++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// System.out.println(&quot;ReverseWords.removeSpace returned: sb = [&quot; + sb + &quot;]&quot;);</span></span><br><span class="line">        <span class="keyword">return</span> sb;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åè½¬å­—ç¬¦ä¸²æŒ‡å®šåŒºé—´[start, end]çš„å­—ç¬¦</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">reverseString</span><span class="params">(StringBuilder sb, <span class="type">int</span> start, <span class="type">int</span> end)</span> &#123;</span><br><span class="line">        <span class="comment">// System.out.println(&quot;ReverseWords.reverseString() called with: sb = [&quot; + sb + &quot;], start = [&quot; + start + &quot;], end = [&quot; + end + &quot;]&quot;);</span></span><br><span class="line">        <span class="keyword">while</span> (start &lt; end) &#123;</span><br><span class="line">            <span class="type">char</span> <span class="variable">temp</span> <span class="operator">=</span> sb.charAt(start);</span><br><span class="line">            sb.setCharAt(start, sb.charAt(end));</span><br><span class="line">            sb.setCharAt(end, temp);</span><br><span class="line">            start++;</span><br><span class="line">            end--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// System.out.println(&quot;ReverseWords.reverseString returned: sb = [&quot; + sb + &quot;]&quot;);</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">reverseEachWord</span><span class="params">(StringBuilder sb)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">start</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">end</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> sb.length();</span><br><span class="line">        <span class="keyword">while</span> (start &lt; n) &#123;</span><br><span class="line">            <span class="keyword">while</span> (end &lt; n &amp;&amp; sb.charAt(end) != <span class="string">&#x27; &#x27;</span>) &#123;</span><br><span class="line">                end++;</span><br><span class="line">            &#125;</span><br><span class="line">            reverseString(sb, start, end - <span class="number">1</span>);</span><br><span class="line">            start = end + <span class="number">1</span>;</span><br><span class="line">            end = start + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<h4 id="å‰‘æŒ‡offer58-II"><a href="#å‰‘æŒ‡offer58-II" class="headerlink" title="å‰‘æŒ‡offer58 II"></a>å‰‘æŒ‡offer58 II</h4><p>åŸºæœ¬è§£æ³•:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">reverseLeftWords</span><span class="params">(String s, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="type">char</span>[] ss= s.toCharArray();</span><br><span class="line">    <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=n;i&lt;s.length();i++)&#123;</span><br><span class="line">        sb.append(ss[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        sb.append(ss[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sb.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>è§£æ³•äºŒï¼Œçœç©ºé—´</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">reverseLeftWords</span><span class="params">(String s, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="type">char</span>[] chars = s.toCharArray();</span><br><span class="line">        reverse(chars, <span class="number">0</span>, chars.length - <span class="number">1</span>);</span><br><span class="line">        reverse(chars, <span class="number">0</span>, chars.length - <span class="number">1</span> - n);</span><br><span class="line">        reverse(chars, chars.length - n, chars.length - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">String</span>(chars);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">reverse</span><span class="params">(<span class="type">char</span>[] chars, <span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">            chars[left] ^= chars[right];</span><br><span class="line">            chars[right] ^= chars[left];</span><br><span class="line">            chars[left] ^= chars[right];</span><br><span class="line">            left++;</span><br><span class="line">            right--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<h4 id="leetcode-28"><a href="#leetcode-28" class="headerlink" title="leetcode 28"></a>leetcode 28</h4><p>è§£æ³•1:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">strStr</span><span class="params">(String haystack, String needle)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(needle.length()&gt;haystack.length())&#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(haystack.equals(needle))&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">char</span>[] s1 = haystack.toCharArray();</span><br><span class="line">    <span class="type">int</span> <span class="variable">nLen</span> <span class="operator">=</span> needle.length();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=(s1.length-nLen);i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(s1[i]==needle.charAt(<span class="number">0</span>))&#123;</span><br><span class="line">            <span class="keyword">if</span>(haystack.substring(i,i+nLen).equals(needle))&#123;</span><br><span class="line">                <span class="keyword">return</span> i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>è§£æ³•2: KMP</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">strStr</span><span class="params">(String haystack, String needle)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (needle.length() == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span>[] next = <span class="keyword">new</span> <span class="title class_">int</span>[needle.length()];</span><br><span class="line">        getNext(next, needle);</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; haystack.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">while</span> (j &gt; <span class="number">0</span> &amp;&amp; needle.charAt(j) != haystack.charAt(i)) </span><br><span class="line">                j = next[j - <span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span> (needle.charAt(j) == haystack.charAt(i)) </span><br><span class="line">                j++;</span><br><span class="line">            <span class="keyword">if</span> (j == needle.length()) </span><br><span class="line">                <span class="keyword">return</span> i - needle.length() + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">getNext</span><span class="params">(<span class="type">int</span>[] next, String s)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        next[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">while</span> (j &gt; <span class="number">0</span> &amp;&amp; s.charAt(j) != s.charAt(i)) </span><br><span class="line">                j = next[j - <span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span> (s.charAt(j) == s.charAt(i)) </span><br><span class="line">                j++;</span><br><span class="line">            next[i] = j; </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>nextæ•°ç»„æ±‚æ³•</p>
<p>æ„é€ ä¸€ä¸ªgetNextæ–¹æ³•ï¼Œä¼ å…¥nextæ•°ç»„å’Œæ¨¡å¼ä¸²ä½œä¸ºå‚æ•°</p>
<p>1.åˆå§‹åŒ–</p>
<p>2.è®¨è®ºå‰ç¼€å’Œåç¼€ä¸åŒçš„æƒ…å†µ</p>
<p>3.è®¨è®ºå‰ç¼€å’Œåç¼€ç›¸åŒçš„æƒ…å†µ</p>
<p>4.æ›´æ–°nextæ•°ç»„</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">getNext(<span class="type">int</span>[] next,String s)&#123;</span><br><span class="line"></span><br><span class="line">  <span class="type">int</span> j=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  next[<span class="number">0</span>]=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;s.size();i++)&#123;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">while</span>(s[i]!=s[j]&amp;&amp;j&gt;<span class="number">0</span>)&#123;</span><br><span class="line">				j=next[j-<span class="number">1</span>];</span><br><span class="line">      &#125;</span><br><span class="line">    	<span class="keyword">if</span>(s[i]==s[j])&#123;</span><br><span class="line">        j++;</span><br><span class="line">      &#125;</span><br><span class="line">	next[i]=j;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="Leetcode-459"><a href="#Leetcode-459" class="headerlink" title="Leetcode 459"></a>Leetcode 459</h4><p>é‡å¤çš„å­—ä¸²</p>
<p>ä½¿ç”¨kmpç®—æ³•çš„è§£æ³•. å¯¹æ•´ä¸ªå­—ç¬¦ä¸²æ±‚nextå‰ç¼€æ•°ç»„ï¼Œå¯ä»¥å¾—åˆ°æœ€é•¿çš„ç›¸ç­‰å‰åç¼€é•¿åº¦ï¼Œç„¶åç”¨å­—ç¬¦ä¸²å‡å»è¿™ä¸ªé•¿åº¦ï¼Œå°±å¯ä»¥ç®—å¾—é‡å¤å­—ä¸²é•¿åº¦ï¼Œå¦‚æœè¯¥å­—ç¬¦ä¸²æ˜¯ç”±è¿™ä¸ªå­—ä¸²é‡å¤æ„æˆçš„è¯ï¼Œé‚£ä¹ˆå®ƒæ˜¯èƒ½è¢«å­—ç¬¦ä¸²é•¿åº¦æ•´é™¤çš„ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">repeatedSubstringPattern</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="type">int</span> len=s.length();</span><br><span class="line">        <span class="keyword">if</span> (s.equals(<span class="string">&quot;&quot;</span>)) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="type">int</span> j=<span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span>[] next = <span class="keyword">new</span> <span class="title class_">int</span>[len];</span><br><span class="line">        next[<span class="number">0</span>]=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;len;i++)&#123;</span><br><span class="line">            <span class="keyword">while</span>(j&gt;<span class="number">0</span>&amp;&amp;s.charAt(j)!=s.charAt(i))&#123;</span><br><span class="line">                j=next[j-<span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(s.charAt(j)==s.charAt(i))&#123;</span><br><span class="line">                j++;</span><br><span class="line">            &#125;</span><br><span class="line">            next[i]=j;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(len%(len-next[len-<span class="number">1</span>])==<span class="number">0</span>&amp;&amp;next[len-<span class="number">1</span>]&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="æ ˆä¸é˜Ÿåˆ—"><a href="#æ ˆä¸é˜Ÿåˆ—" class="headerlink" title="æ ˆä¸é˜Ÿåˆ—"></a>æ ˆä¸é˜Ÿåˆ—</h3><h4 id="leetcode-232"><a href="#leetcode-232" class="headerlink" title="leetcode 232"></a>leetcode 232</h4><p><strong>ç”¨æ ˆå®ç°é˜Ÿåˆ—</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Stack;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyQueue</span> &#123;</span><br><span class="line">    Stack&lt;Integer&gt; s1;</span><br><span class="line">    Stack&lt;Integer&gt; s2;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyQueue</span><span class="params">()</span> &#123;</span><br><span class="line">        s1=<span class="keyword">new</span> <span class="title class_">Stack</span>();</span><br><span class="line">        s2=<span class="keyword">new</span> <span class="title class_">Stack</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">        s1.push(x);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">pop</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span>(!s1.isEmpty())&#123;</span><br><span class="line">            s2.push(s1.pop());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> result=s2.pop();</span><br><span class="line">        <span class="keyword">while</span>(!s2.isEmpty())&#123;</span><br><span class="line">            s1.push(s2.pop());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">peek</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span>(!s1.isEmpty())&#123;</span><br><span class="line">            s2.push(s1.pop());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> result=s2.peek();</span><br><span class="line">        <span class="keyword">while</span>(!s2.isEmpty())&#123;</span><br><span class="line">            s1.push(s2.pop());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">empty</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> s1.isEmpty();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œé¢æœ‰å››æ¬¡å°†s1çš„å…ƒç´ å’Œs2çš„å…ƒç´ äº’ç›¸å€’è¿‡å»æˆ–è€…å€’å›æ¥çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°†è¿™ä¸€æ­¥æŠ½è±¡æˆä¸€ä¸ªæ–¹æ³•ã€‚</p>
<h4 id="leetcode-225"><a href="#leetcode-225" class="headerlink" title="leetcode 225"></a>leetcode 225</h4><p><strong>ç”¨é˜Ÿåˆ—å®ç°æ ˆ</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyStack</span> &#123;</span><br><span class="line"></span><br><span class="line">    Queue&lt;Integer&gt; queue1; <span class="comment">// å’Œæ ˆä¸­ä¿æŒä¸€æ ·å…ƒç´ çš„é˜Ÿåˆ—</span></span><br><span class="line">    Queue&lt;Integer&gt; queue2; <span class="comment">// è¾…åŠ©é˜Ÿåˆ—</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Initialize your data structure here. */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyStack</span><span class="params">()</span> &#123;</span><br><span class="line">        queue1 = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        queue2 = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Push element x onto stack. */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">        queue2.offer(x); <span class="comment">// å…ˆæ”¾åœ¨è¾…åŠ©é˜Ÿåˆ—ä¸­</span></span><br><span class="line">        <span class="keyword">while</span> (!queue1.isEmpty())&#123;</span><br><span class="line">            queue2.offer(queue1.poll());</span><br><span class="line">        &#125;</span><br><span class="line">        Queue&lt;Integer&gt; queueTemp;</span><br><span class="line">        queueTemp = queue1;</span><br><span class="line">        queue1 = queue2;</span><br><span class="line">        queue2 = queueTemp; <span class="comment">// æœ€åäº¤æ¢queue1å’Œqueue2ï¼Œå°†å…ƒç´ éƒ½æ”¾åˆ°queue1ä¸­</span></span><br><span class="line">    &#125;</span><br><span class="line">  <span class="comment">//åœ¨è¿™é‡Œè®©é˜Ÿåˆ—pushå…ƒç´ çš„æ–¹æ³•ä½¿å¾—æœ€åä¿æŒpopçš„æ—¶å€™å’Œæ ˆçš„popé¡ºåºä¸€æ ·å°±è¡Œ</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Removes the element on top of the stack and returns that element. */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">pop</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> queue1.poll(); <span class="comment">// å› ä¸ºqueue1ä¸­çš„å…ƒç´ å’Œæ ˆä¸­çš„ä¿æŒä¸€è‡´ï¼Œæ‰€ä»¥è¿™ä¸ªå’Œä¸‹é¢ä¸¤ä¸ªçš„æ“ä½œåªçœ‹queue1å³å¯</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Get the top element. */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">top</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> queue1.peek();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Returns whether the stack is empty. */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">empty</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> queue1.isEmpty();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="Leetcode20"><a href="#Leetcode20" class="headerlink" title="Leetcode20"></a>Leetcode20</h4><p><strong>æ‹¬å·åŒ¹é…é—®é¢˜</strong></p>
<p>è¿™ä¸ªé¢˜ä¸»è¦æœ‰ä¸€ç‚¹æ¯”è¾ƒå·§å¦™ï¼Œæˆ‘ä»¬æ¥éå†æ•´ä¸ªå­—ç¬¦ä¸²ï¼Œé‡åˆ°å·¦æ‹¬å·ï¼Œæˆ‘ä»¬å°±å¾€æ ˆé‡Œé¢pushå…¶ç›¸åº”çš„å³æ‹¬å·ï¼Œåœ¨é‡åˆ°å³æ‹¬å·å°±å¼€å§‹åˆ¤æ–­è¿™ä¸ªæ ˆé¦–å…ƒç´ å’Œè¿™ä¸ªå³æ‹¬å·æ˜¯å¦åŒ¹é…ï¼Œå¦‚æœä¸åŒ¹é…æˆ–è€…è¯´æ ˆå·²ç»ç©ºäº†ï¼Œé‚£ä¹ˆå°±æ˜¯è¿”å›falseã€‚æœ€åå®Œæˆå­—ç¬¦ä¸²æ‰«æåï¼Œå¦‚æœæ ˆå†…è¿˜æ²¡popå¹²å‡€ä¹Ÿè¯´æ˜æ²¡åŒ¹é…ä¸Šã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValid</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(s.length()%<span class="number">2</span>!=<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">char</span>[] ss = s.toCharArray();</span><br><span class="line">        Deque&lt;Character&gt; dq = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">char</span> c:ss)&#123;</span><br><span class="line">            <span class="keyword">if</span>(c==<span class="string">&#x27;(&#x27;</span>)&#123;</span><br><span class="line">                dq.push(<span class="string">&#x27;)&#x27;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(c==<span class="string">&#x27;&#123;&#x27;</span>)&#123;</span><br><span class="line">                dq.push(<span class="string">&#x27;&#125;&#x27;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(c==<span class="string">&#x27;[&#x27;</span>)&#123;</span><br><span class="line">                dq.push(<span class="string">&#x27;]&#x27;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(dq.isEmpty()||dq.peek()!=c)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                dq.pop();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dq.isEmpty();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="Leetcode-1047-åˆ é™¤å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰ç›¸é‚»é‡å¤é¡¹"><a href="#Leetcode-1047-åˆ é™¤å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰ç›¸é‚»é‡å¤é¡¹" class="headerlink" title="Leetcode 1047 åˆ é™¤å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰ç›¸é‚»é‡å¤é¡¹"></a>Leetcode 1047 åˆ é™¤å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰ç›¸é‚»é‡å¤é¡¹</h4><p>è¿™é“é¢˜å’Œä¸Šä¸€é“æ‹¬å·åŒ¹é…é—®é¢˜ç±»ä¼¼ï¼Œéƒ½æ˜¯ç”¨æ ˆæ¥è§£å†³</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">removeDuplicates</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="type">char</span>[] ss = s.toCharArray();</span><br><span class="line">        Deque&lt;Character&gt; dq = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">char</span> c:ss)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!dq.isEmpty()&amp;&amp;dq.peek()==c)&#123;</span><br><span class="line">                dq.pop();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                dq.push(c);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="keyword">while</span>(!dq.isEmpty())&#123;</span><br><span class="line">            sb.append(dq.pollLast());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="Leetcode150-é€†æ³¢å…°å¼è¡¨è¾¾å¼æ±‚å€¼"><a href="#Leetcode150-é€†æ³¢å…°å¼è¡¨è¾¾å¼æ±‚å€¼" class="headerlink" title="Leetcode150 é€†æ³¢å…°å¼è¡¨è¾¾å¼æ±‚å€¼"></a>Leetcode150 é€†æ³¢å…°å¼è¡¨è¾¾å¼æ±‚å€¼</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">evalRPN</span><span class="params">(String[] tokens)</span> &#123;</span><br><span class="line">       Deque&lt;String&gt; dq = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">       <span class="keyword">for</span>(String s:tokens)&#123;</span><br><span class="line">           <span class="keyword">if</span>(s.equals(<span class="string">&quot;+&quot;</span>))&#123;</span><br><span class="line">               <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> Integer.parseInt(dq.pop());</span><br><span class="line">               <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> Integer.parseInt(dq.pop());</span><br><span class="line">               dq.push(Integer.toString(a+b));</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">else</span> <span class="keyword">if</span>(s.equals(<span class="string">&quot;*&quot;</span>))&#123;</span><br><span class="line">               <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> Integer.parseInt(dq.pop());</span><br><span class="line">               <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> Integer.parseInt(dq.pop());</span><br><span class="line">               dq.push(Integer.toString(a*b));</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">else</span> <span class="keyword">if</span>(s.equals(<span class="string">&quot;-&quot;</span>))&#123;</span><br><span class="line">               <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> Integer.parseInt(dq.pop());</span><br><span class="line">               <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> Integer.parseInt(dq.pop());</span><br><span class="line">               dq.push(Integer.toString(b-a));</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">else</span> <span class="keyword">if</span>(s.equals(<span class="string">&quot;/&quot;</span>))&#123;</span><br><span class="line">               <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> Integer.parseInt(dq.pop());</span><br><span class="line">               <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> Integer.parseInt(dq.pop());</span><br><span class="line">               dq.push(Integer.toString(b/a));</span><br><span class="line">           &#125;</span><br><span class="line">       <span class="keyword">else</span>&#123;</span><br><span class="line">           dq.push(s);</span><br><span class="line">       &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> Integer.parseInt(dq.pop());</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>



<h4 id="Leetcode239-æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼"><a href="#Leetcode239-æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼" class="headerlink" title="Leetcode239 æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼"></a>Leetcode239 æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyQueue</span> &#123;</span><br><span class="line">    Deque&lt;Integer&gt; deque = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="comment">//å¼¹å‡ºå…ƒç´ æ—¶ï¼Œæ¯”è¾ƒå½“å‰è¦å¼¹å‡ºçš„æ•°å€¼æ˜¯å¦ç­‰äºé˜Ÿåˆ—å‡ºå£çš„æ•°å€¼ï¼Œå¦‚æœç›¸ç­‰åˆ™å¼¹å‡º</span></span><br><span class="line">    <span class="comment">//åŒæ—¶åˆ¤æ–­é˜Ÿåˆ—å½“å‰æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">poll</span><span class="params">(<span class="type">int</span> val)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!deque.isEmpty() &amp;&amp; val == deque.peek()) &#123;</span><br><span class="line">            deque.poll();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æ·»åŠ å…ƒç´ æ—¶ï¼Œå¦‚æœè¦æ·»åŠ çš„å…ƒç´ å¤§äºå…¥å£å¤„çš„å…ƒç´ ï¼Œå°±å°†å…¥å£å…ƒç´ å¼¹å‡º</span></span><br><span class="line">    <span class="comment">//ä¿è¯é˜Ÿåˆ—å…ƒç´ å•è°ƒé€’å‡</span></span><br><span class="line">    <span class="comment">//æ¯”å¦‚æ­¤æ—¶é˜Ÿåˆ—å…ƒç´ 3,1ï¼Œ2å°†è¦å…¥é˜Ÿï¼Œæ¯”1å¤§ï¼Œæ‰€ä»¥1å¼¹å‡ºï¼Œæ­¤æ—¶é˜Ÿåˆ—ï¼š3,2</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> val)</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (!deque.isEmpty() &amp;&amp; val &gt; deque.getLast()) &#123;</span><br><span class="line">            deque.removeLast();</span><br><span class="line">        &#125;</span><br><span class="line">        deque.add(val);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//é˜Ÿåˆ—é˜Ÿé¡¶å…ƒç´ å§‹ç»ˆä¸ºæœ€å¤§å€¼</span></span><br><span class="line">    <span class="type">int</span> <span class="title function_">peek</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> deque.peek();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] maxSlidingWindow(<span class="type">int</span>[] nums, <span class="type">int</span> k) &#123;</span><br><span class="line">        <span class="keyword">if</span> (nums.length == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> nums;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> nums.length - k + <span class="number">1</span>;</span><br><span class="line">        <span class="comment">//å­˜æ”¾ç»“æœå…ƒç´ çš„æ•°ç»„</span></span><br><span class="line">        <span class="type">int</span>[] res = <span class="keyword">new</span> <span class="title class_">int</span>[len];</span><br><span class="line">        <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="comment">//è‡ªå®šä¹‰é˜Ÿåˆ—</span></span><br><span class="line">        <span class="type">MyQueue</span> <span class="variable">myQueue</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyQueue</span>();</span><br><span class="line">        <span class="comment">//å…ˆå°†å‰kçš„å…ƒç´ æ”¾å…¥é˜Ÿåˆ—</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">            myQueue.add(nums[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        res[num++] = myQueue.peek();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> k; i &lt; nums.length; i++) &#123;</span><br><span class="line">            <span class="comment">//æ»‘åŠ¨çª—å£ç§»é™¤æœ€å‰é¢çš„å…ƒç´ ï¼Œç§»é™¤æ˜¯åˆ¤æ–­è¯¥å…ƒç´ æ˜¯å¦æ”¾å…¥é˜Ÿåˆ—</span></span><br><span class="line">            myQueue.poll(nums[i - k]);</span><br><span class="line">            <span class="comment">//æ»‘åŠ¨çª—å£åŠ å…¥æœ€åé¢çš„å…ƒç´ </span></span><br><span class="line">            myQueue.add(nums[i]);</span><br><span class="line">            <span class="comment">//è®°å½•å¯¹åº”çš„æœ€å¤§å€¼</span></span><br><span class="line">            res[num++] = myQueue.peek();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="æ ‘-x2F-Tree"><a href="#æ ‘-x2F-Tree" class="headerlink" title="æ ‘&#x2F;Tree"></a>æ ‘&#x2F;Tree</h3><h4 id="æ ‘çš„ç§ç±»"><a href="#æ ‘çš„ç§ç±»" class="headerlink" title="æ ‘çš„ç§ç±»"></a>æ ‘çš„ç§ç±»</h4><p><strong>æ»¡äºŒå‰æ ‘</strong>ï¼šå¦‚æœä¸€æ£µäºŒå‰æ ‘åªæœ‰åº¦ä¸º0çš„ç»“ç‚¹å’Œåº¦ä¸º2çš„ç»“ç‚¹ï¼Œå¹¶ä¸”åº¦ä¸º0çš„ç»“ç‚¹åœ¨åŒä¸€å±‚ä¸Šï¼Œåˆ™è¿™æ£µäºŒå‰æ ‘ä¸ºæ»¡äºŒå‰æ ‘ã€‚</p>
<p><strong>å®Œå…¨äºŒå‰æ ‘</strong>ï¼šåœ¨å®Œå…¨äºŒå‰æ ‘ä¸­ï¼Œé™¤äº†æœ€åº•å±‚èŠ‚ç‚¹å¯èƒ½æ²¡å¡«æ»¡å¤–ï¼Œå…¶ä½™æ¯å±‚èŠ‚ç‚¹æ•°éƒ½è¾¾åˆ°æœ€å¤§å€¼ï¼Œå¹¶ä¸”æœ€ä¸‹é¢ä¸€å±‚çš„èŠ‚ç‚¹éƒ½é›†ä¸­åœ¨è¯¥å±‚æœ€å·¦è¾¹çš„è‹¥å¹²ä½ç½®ã€‚è‹¥æœ€åº•å±‚ä¸ºç¬¬ h å±‚ï¼ˆhä»1å¼€å§‹ï¼‰ï¼Œåˆ™è¯¥å±‚åŒ…å« 1~ 2^(h-1) ä¸ªèŠ‚ç‚¹ã€‚</p>
<p><strong>äºŒå‰æœç´¢æ ‘</strong> (æœ‰åºæ ‘):</p>
<ul>
<li>è‹¥å®ƒçš„å·¦å­æ ‘ä¸ç©ºï¼Œåˆ™å·¦å­æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å€¼å‡å°äºå®ƒçš„æ ¹ç»“ç‚¹çš„å€¼ï¼›</li>
<li>è‹¥å®ƒçš„å³å­æ ‘ä¸ç©ºï¼Œåˆ™å³å­æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å€¼å‡å¤§äºå®ƒçš„æ ¹ç»“ç‚¹çš„å€¼ï¼›</li>
<li>å®ƒçš„å·¦ã€å³å­æ ‘ä¹Ÿåˆ†åˆ«ä¸ºäºŒå‰æ’åºæ ‘</li>
</ul>
<p>**å¹³è¡¡äºŒå‰æ ‘AVL(Adelson-Velsky and Landis): **å®ƒæ˜¯ä¸€æ£µç©ºæ ‘æˆ–å®ƒçš„å·¦å³ä¸¤ä¸ªå­æ ‘çš„é«˜åº¦å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡1ï¼Œå¹¶ä¸”å·¦å³ä¸¤ä¸ªå­æ ‘éƒ½æ˜¯ä¸€æ£µå¹³è¡¡äºŒå‰æ ‘ã€‚</p>
<h4 id="æ ‘çš„å®ç°"><a href="#æ ‘çš„å®ç°" class="headerlink" title="æ ‘çš„å®ç°"></a>æ ‘çš„å®ç°</h4><p>é“¾å¼å­˜å‚¨ï¼ˆä½¿ç”¨æŒ‡é’ˆï¼‰ï¼Œé¡ºåºå­˜å‚¨ï¼ˆä½¿ç”¨æ•°ç»„ï¼‰</p>
<h4 id="æ ‘çš„éå†"><a href="#æ ‘çš„éå†" class="headerlink" title="æ ‘çš„éå†"></a>æ ‘çš„éå†</h4><p><strong>1.DFS:</strong> </p>
<p>å…ˆå¾€æ·±èµ°ï¼Œé‡åˆ°å¶å­èŠ‚ç‚¹å†å¾€å›èµ°</p>
<ul>
<li>å‰åºéå†ï¼ˆé€’å½’æ³•ï¼Œè¿­ä»£æ³•ï¼‰</li>
<li>ä¸­åºéå†ï¼ˆé€’å½’æ³•ï¼Œè¿­ä»£æ³•ï¼‰</li>
<li>ååºéå†ï¼ˆé€’å½’æ³•ï¼Œè¿­ä»£æ³•ï¼‰</li>
</ul>
<p><strong>2.BFS:</strong></p>
<p>ä¸€å±‚ä¸€å±‚çš„å»éå†ã€‚</p>
<ul>
<li>å±‚æ¬¡éå†ï¼ˆè¿­ä»£æ³•ï¼‰</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    TreeNode left;</span><br><span class="line">    TreeNode right;</span><br><span class="line"></span><br><span class="line">    TreeNode() &#123;&#125;</span><br><span class="line">    TreeNode(<span class="type">int</span> val) &#123; <span class="built_in">this</span>.val = val; &#125;</span><br><span class="line">    TreeNode(<span class="type">int</span> val, TreeNode left, TreeNode right) &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">        <span class="built_in">this</span>.left = left;</span><br><span class="line">        <span class="built_in">this</span>.right = right;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="äºŒå‰æ ‘é€’å½’éå†-DFS"><a href="#äºŒå‰æ ‘é€’å½’éå†-DFS" class="headerlink" title="äºŒå‰æ ‘é€’å½’éå†,DFS"></a>äºŒå‰æ ‘é€’å½’éå†,DFS</h4><p>å‰åºéå†: ä¸­å·¦å³ leetcode 144</p>
<p>ä¸­åºéå†: å·¦ä¸­å³ leetcode 145</p>
<p>ååºéå†: å·¦å³ä¸­ leetcode 94</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‰åºéå†Â·é€’å½’Â·LC144_äºŒå‰æ ‘çš„å‰åºéå†</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">preorderTraversal</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        List&lt;Integer&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Integer&gt;();</span><br><span class="line">        preorder(root, result);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">preorder</span><span class="params">(TreeNode root, List&lt;Integer&gt; result)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        result.add(root.val);</span><br><span class="line">        preorder(root.left, result);</span><br><span class="line">        preorder(root.right, result);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä¸­åºéå†Â·é€’å½’Â·LC94_äºŒå‰æ ‘çš„ä¸­åºéå†</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">inorderTraversal</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        List&lt;Integer&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        inorder(root, res);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">inorder</span><span class="params">(TreeNode root, List&lt;Integer&gt; list)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        inorder(root.left, list);</span><br><span class="line">        list.add(root.val);             <span class="comment">// æ³¨æ„è¿™ä¸€å¥</span></span><br><span class="line">        inorder(root.right, list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ååºéå†Â·é€’å½’Â·LC145_äºŒå‰æ ‘çš„ååºéå†</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">postorderTraversal</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        List&lt;Integer&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        postorder(root, res);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">postorder</span><span class="params">(TreeNode root, List&lt;Integer&gt; list)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        postorder(root.left, list);</span><br><span class="line">        postorder(root.right, list);</span><br><span class="line">        list.add(root.val);             <span class="comment">// æ³¨æ„è¿™ä¸€å¥</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="Nå‰æ ‘çš„å‰åºå’Œååºéå†-leetcode-589-590"><a href="#Nå‰æ ‘çš„å‰åºå’Œååºéå†-leetcode-589-590" class="headerlink" title="Nå‰æ ‘çš„å‰åºå’Œååºéå†, leetcode 589,590"></a>Nå‰æ ‘çš„å‰åºå’Œååºéå†, leetcode 589,590</h4><p><strong>å‰åº:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">preorder</span><span class="params">(Node root)</span> &#123;</span><br><span class="line">    List&lt;Integer&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="literal">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    pre(root,res);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pre</span><span class="params">(Node root, List&lt;Integer&gt; list)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="literal">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    list.add(root.val);</span><br><span class="line">    <span class="keyword">for</span>(Node child : root.children)&#123;</span><br><span class="line">        pre(child,list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ååº:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">postorder</span><span class="params">(Node root)</span> &#123;</span><br><span class="line">    List&lt;Integer&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="literal">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    post(root,res);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">post</span><span class="params">(Node root,List&lt;Integer&gt; list)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="literal">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(Node child:root.children)&#123;</span><br><span class="line">        post(child,list);</span><br><span class="line">    &#125;</span><br><span class="line">    list.add(root.val);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="äºŒå‰æ ‘éå†ï¼Œè¿­ä»£æ³•-DFS"><a href="#äºŒå‰æ ‘éå†ï¼Œè¿­ä»£æ³•-DFS" class="headerlink" title="äºŒå‰æ ‘éå†ï¼Œè¿­ä»£æ³•, DFS"></a>äºŒå‰æ ‘éå†ï¼Œè¿­ä»£æ³•, DFS</h4><p>ä½¿ç”¨æ ˆæ¥è¿›è¡Œè¿­ä»£</p>
<p>å‰åº</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">preorderTraversal</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        List&lt;Integer&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">        Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">        stack.push(root);</span><br><span class="line">        <span class="keyword">while</span> (!stack.isEmpty())&#123;</span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">node</span> <span class="operator">=</span> stack.pop();</span><br><span class="line">            result.add(node.val);</span><br><span class="line">            <span class="keyword">if</span> (node.right != <span class="literal">null</span>)&#123;</span><br><span class="line">                stack.push(node.right);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (node.left != <span class="literal">null</span>)&#123;</span><br><span class="line">                stack.push(node.left);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>ä¸­åº</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">inorderTraversal</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        List&lt;Integer&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">        Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">cur</span> <span class="operator">=</span> root;</span><br><span class="line">        <span class="keyword">while</span> (cur != <span class="literal">null</span> || !stack.isEmpty())&#123;</span><br><span class="line">           <span class="keyword">if</span> (cur != <span class="literal">null</span>)&#123;</span><br><span class="line">               stack.push(cur);</span><br><span class="line">               cur = cur.left;</span><br><span class="line">           &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">               cur = stack.pop();</span><br><span class="line">               result.add(cur.val);</span><br><span class="line">               cur = cur.right;</span><br><span class="line">           &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>ååº</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">postorderTraversal</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    List&lt;Integer&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">    stack.push(root);</span><br><span class="line">    <span class="keyword">while</span> (!stack.isEmpty())&#123;</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">node</span> <span class="operator">=</span> stack.pop();</span><br><span class="line">        result.add(node.val);</span><br><span class="line">        <span class="keyword">if</span> (node.left != <span class="literal">null</span>)&#123;</span><br><span class="line">            stack.push(node.left);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (node.right != <span class="literal">null</span>)&#123;</span><br><span class="line">            stack.push(node.right);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    Collections.reverse(result);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="BFS"><a href="#BFS" class="headerlink" title="BFS"></a>BFS</h4><p><strong>Leetcode 102&#x2F;107</strong></p>
<p>éœ€è¦é˜Ÿåˆ—æ¥å®ç°&#x2F;æˆ–è€…é€’å½’</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">levelOrder</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">       List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;List&lt;Integer&gt;&gt;();</span><br><span class="line">       <span class="keyword">if</span>(root==<span class="literal">null</span>)&#123;</span><br><span class="line">           <span class="keyword">return</span> res;</span><br><span class="line">       &#125;</span><br><span class="line">       Queue&lt;TreeNode&gt; que = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;TreeNode&gt;();</span><br><span class="line">       que.offer(root);</span><br><span class="line"></span><br><span class="line">       <span class="keyword">while</span>(!que.isEmpty())&#123;</span><br><span class="line">           List&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Integer&gt;();</span><br><span class="line">           <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> que.size();<span class="comment">//è®°å½•äº†æ¯ä¸€å±‚çš„èŠ‚ç‚¹ä¸ªæ•°ï¼Œæ–¹ä¾¿æˆ‘ä»¬è¿›å…¥ä¸‹ä¸€å±‚ã€‚</span></span><br><span class="line">           <span class="keyword">while</span>(len&gt;<span class="number">0</span>)&#123;</span><br><span class="line">               <span class="type">TreeNode</span> <span class="variable">tem</span> <span class="operator">=</span> que.poll();</span><br><span class="line">               list.add(tem.val);</span><br><span class="line">               <span class="keyword">if</span>(tem.left!=<span class="literal">null</span>) que.offer(tem.left);</span><br><span class="line">               <span class="keyword">if</span>(tem.right!=<span class="literal">null</span>) que.offer(tem.right);</span><br><span class="line">               len--;</span><br><span class="line"></span><br><span class="line">           &#125;</span><br><span class="line">           res.add(list);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Leetcode 199 è¿”å›äºŒå‰æ ‘çš„å³è§†å›¾</strong></p>
<p>è¿˜æ˜¯bfsï¼Œä¸è¿‡ä¸ç”¨æ„é€ æ•´æ£µäºŒå‰æ ‘ï¼Œå°±è¿”å›æ¯ä¸€å±‚æœ€å³è¾¹çš„é‚£ä¸ªå€¼</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">rightSideView</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        List&lt;Integer&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span>(root==<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">        &#125;</span><br><span class="line">        Queue&lt;TreeNode&gt; que = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        que.offer(root);</span><br><span class="line">        <span class="keyword">while</span>(!que.isEmpty())&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> que.size();</span><br><span class="line">            <span class="keyword">while</span>(len&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                <span class="type">TreeNode</span> <span class="variable">node</span> <span class="operator">=</span> que.poll();</span><br><span class="line">                <span class="keyword">if</span>(len==<span class="number">1</span>)&#123;</span><br><span class="line">                    res.add(node.val);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(node.left!=<span class="literal">null</span>) que.offer(node.left);</span><br><span class="line">                <span class="keyword">if</span>(node.right!=<span class="literal">null</span>) que.offer(node.right);</span><br><span class="line">                len--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<p><strong>Leetcode 637</strong></p>
<p>æ±‚æ¯ä¸€å±‚çš„å¹³å‡å€¼</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;Double&gt; <span class="title function_">averageOfLevels</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        List&lt;Double&gt; averages = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Double&gt;();</span><br><span class="line">       Queue&lt;TreeNode&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;TreeNode&gt;();</span><br><span class="line">       queue.offer(root);</span><br><span class="line">       <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">           <span class="type">double</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">           <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> queue.size();</span><br><span class="line">           <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">               <span class="type">TreeNode</span> <span class="variable">node</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">               sum += node.val;</span><br><span class="line">               <span class="type">TreeNode</span> <span class="variable">left</span> <span class="operator">=</span> node.left, right = node.right;</span><br><span class="line">               <span class="keyword">if</span> (left != <span class="literal">null</span>) &#123;</span><br><span class="line">                   queue.offer(left);</span><br><span class="line">               &#125;</span><br><span class="line">               <span class="keyword">if</span> (right != <span class="literal">null</span>) &#123;</span><br><span class="line">                   queue.offer(right);</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">           averages.add(sum / size);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> averages;</span><br><span class="line"></span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>



<p><strong>Leetcode 429</strong></p>
<p>éå†nå‰æ ‘</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">levelOrder</span><span class="params">(Node root)</span> &#123;</span><br><span class="line">List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"><span class="keyword">if</span>(root==<span class="literal">null</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line">Queue&lt;Node&gt; que = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">que.offer(root);</span><br><span class="line"><span class="keyword">while</span>(!que.isEmpty())&#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> que.size();</span><br><span class="line">    List&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">while</span>(size&gt;<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="type">Node</span> <span class="variable">node</span> <span class="operator">=</span> que.poll();</span><br><span class="line">        list.add(node.val);</span><br><span class="line">        <span class="keyword">for</span>(Node child:node.children)&#123;</span><br><span class="line">            <span class="keyword">if</span>(child!=<span class="literal">null</span>)&#123;</span><br><span class="line">                que.offer(child);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        size--;</span><br><span class="line">    &#125;</span><br><span class="line">    res.add(list);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>Leetcode 515</strong></p>
<p>æ¯ä¸€å±‚çš„æœ€å¤§å€¼</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">largestValues</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">       List&lt;Integer&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">       <span class="keyword">if</span>(root==<span class="literal">null</span>)&#123;</span><br><span class="line">           <span class="keyword">return</span> res;</span><br><span class="line">       &#125;</span><br><span class="line">       Queue&lt;TreeNode&gt; que = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">       que.offer(root);</span><br><span class="line">       <span class="keyword">while</span>(!que.isEmpty())&#123;</span><br><span class="line">           <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> que.size();</span><br><span class="line">           <span class="type">int</span> <span class="variable">max</span> <span class="operator">=</span> Integer.MIN_VALUE;</span><br><span class="line">           <span class="keyword">while</span>(size&gt;<span class="number">0</span>)&#123;</span><br><span class="line">               <span class="type">TreeNode</span> <span class="variable">node</span> <span class="operator">=</span> que.poll();</span><br><span class="line">               <span class="keyword">if</span>(node.left!=<span class="literal">null</span>) que.offer(node.left);</span><br><span class="line">               <span class="keyword">if</span>(node.right!=<span class="literal">null</span>) que.offer(node.right);</span><br><span class="line">               <span class="keyword">if</span>(node.val&gt;max) max=node.val;</span><br><span class="line">               size--;</span><br><span class="line">           &#125;</span><br><span class="line">           res.add(max);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> res;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>



<p><strong>Leetcode 116&#x2F;117</strong></p>
<p>è¿™ä¸¤é“é¢˜ç”¨è¿™ä¸ªç­”æ¡ˆéƒ½å¯ä»¥é€šè¿‡leetcode</p>
<p>æ·»åŠ nextæŒ‡é’ˆï¼Œæ³¨æ„å¤„ç†ä¸€ä¸‹å¼•å…¥previousç»“ç‚¹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> Node <span class="title function_">connect</span><span class="params">(Node root)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="literal">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">    Queue&lt;Node&gt; que = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    que.offer(root);</span><br><span class="line">    <span class="keyword">while</span>(!que.isEmpty())&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> que.size();</span><br><span class="line">        <span class="type">Node</span> <span class="variable">previous</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">while</span>(len&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="type">Node</span> <span class="variable">node</span> <span class="operator">=</span> que.poll();</span><br><span class="line">            <span class="keyword">if</span>(previous!=<span class="literal">null</span>)&#123;</span><br><span class="line">                previous.next=node;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(len==<span class="number">1</span>)&#123;</span><br><span class="line">                node.next=<span class="literal">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(node.left!=<span class="literal">null</span>) que.offer(node.left);</span><br><span class="line">            <span class="keyword">if</span>(node.right!=<span class="literal">null</span>) que.offer(node.right);</span><br><span class="line">            previous=node;</span><br><span class="line">            len--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Leetcode 104</strong></p>
<p>æ±‚æœ€å¤§æ·±åº¦é€’å½’å°±è¡Œäº†ï¼Œä¸ç”¨éå†</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxDepth</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="literal">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> Math.max((maxDepth(root.left)+<span class="number">1</span>),(maxDepth(root.right)+<span class="number">1</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>Leetcode 111</strong></p>
<p>æ±‚æœ€å°æ·±åº¦çš„æ—¶å€™è¦è®¨è®ºæ ‘é€€åŒ–æˆçº¿æ€§çš„æƒ…å†µï¼Œå› ä¸ºå¦‚æœç›´æ¥é€’å½’çš„è¯ï¼Œè¿™æ ·å­è¿”å›çš„æœ€å°å€¼æ˜¯1ï¼Œä½†æ˜¯å…¶å®è¿™é¢—æ ‘çš„æœ€å°æ·±åº¦æ˜¯æ•´é¢—æ ‘çš„é«˜åº¦ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minDepth</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="literal">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(root.right==<span class="literal">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> minDepth(root.left)+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(root.left==<span class="literal">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> minDepth(root.right)+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> Math.min((minDepth(root.left)+<span class="number">1</span>),(minDepth(root.right)+<span class="number">1</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minDepth</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line"><span class="keyword">if</span>(root==<span class="literal">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> minDepth(root.left);</span><br><span class="line"><span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> minDepth(root.right);</span><br><span class="line"><span class="keyword">if</span>(left==<span class="number">0</span>||right==<span class="number">0</span>) <span class="keyword">return</span> left+right+<span class="number">1</span>;</span><br><span class="line"><span class="keyword">return</span> Math.min(left,right)+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="Leetcode-226-ç¿»è½¬äºŒå‰æ ‘"><a href="#Leetcode-226-ç¿»è½¬äºŒå‰æ ‘" class="headerlink" title="Leetcode 226 ç¿»è½¬äºŒå‰æ ‘"></a>Leetcode 226 ç¿»è½¬äºŒå‰æ ‘</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> TreeNode <span class="title function_">invertTree</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">       <span class="keyword">if</span>(root==<span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">       <span class="type">TreeNode</span> <span class="variable">left</span> <span class="operator">=</span> root.left;  <span class="comment">// åé¢çš„æ“ä½œä¼šæ”¹å˜ left æŒ‡é’ˆï¼Œå› æ­¤å…ˆä¿å­˜ä¸‹æ¥</span></span><br><span class="line">       root.left=invertTree(root.right);</span><br><span class="line">       root.right=invertTree(left);</span><br><span class="line">       <span class="keyword">return</span> root;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>



<h4 id="Leetcoed-100-ç›¸åŒçš„äºŒå‰æ ‘"><a href="#Leetcoed-100-ç›¸åŒçš„äºŒå‰æ ‘" class="headerlink" title="Leetcoed 100 ç›¸åŒçš„äºŒå‰æ ‘"></a>Leetcoed 100 ç›¸åŒçš„äºŒå‰æ ‘</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isSameTree</span><span class="params">(TreeNode p, TreeNode q)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(p==<span class="literal">null</span>&amp;&amp;q==<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(p==<span class="literal">null</span>||q==<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(p.val!=q.val)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> isSameTree(p.left,q.left)&amp;&amp;isSameTree(p.right,q.right);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<h4 id="Leetcode-101-å¯¹ç§°äºŒå‰æ ‘"><a href="#Leetcode-101-å¯¹ç§°äºŒå‰æ ‘" class="headerlink" title="Leetcode 101 å¯¹ç§°äºŒå‰æ ‘"></a>Leetcode 101 å¯¹ç§°äºŒå‰æ ‘</h4><p>é€’å½’æ³•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isSymmetric</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">       <span class="keyword">if</span>(root==<span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">       <span class="keyword">return</span> sym(root.left,root.right);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">sym</span><span class="params">(TreeNode t1, TreeNode t2)</span>&#123;</span><br><span class="line">       <span class="keyword">if</span>(t1==<span class="literal">null</span>&amp;t2==<span class="literal">null</span>)&#123;</span><br><span class="line">           <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">if</span>(t1==<span class="literal">null</span>||t2==<span class="literal">null</span>)&#123;</span><br><span class="line">           <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">if</span>(t1.val!=t2.val)&#123;</span><br><span class="line">           <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> sym(t1.left,t2.right)&amp;&amp;sym(t2.left,t1.right);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>



<p>è¿­ä»£æ³•ï¼Œä½¿ç”¨é˜Ÿåˆ—</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isSymmetric</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        Queue&lt;TreeNode&gt; deque = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        deque.offer(root.left);</span><br><span class="line">        deque.offer(root.right);</span><br><span class="line">        <span class="keyword">while</span> (!deque.isEmpty()) &#123;</span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">leftNode</span> <span class="operator">=</span> deque.poll();</span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">rightNode</span> <span class="operator">=</span> deque.poll();</span><br><span class="line">            <span class="keyword">if</span> (leftNode == <span class="literal">null</span> &amp;&amp; rightNode == <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line"><span class="comment">//            if (leftNode == null &amp;&amp; rightNode != null) &#123;</span></span><br><span class="line"><span class="comment">//                return false;</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line"><span class="comment">//            if (leftNode != null &amp;&amp; rightNode == null) &#123;</span></span><br><span class="line"><span class="comment">//                return false;</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line"><span class="comment">//            if (leftNode.val != rightNode.val) &#123;</span></span><br><span class="line"><span class="comment">//                return false;</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line">            <span class="comment">// ä»¥ä¸Šä¸‰ä¸ªåˆ¤æ–­æ¡ä»¶åˆå¹¶</span></span><br><span class="line">            <span class="keyword">if</span> (leftNode == <span class="literal">null</span> || rightNode == <span class="literal">null</span> || leftNode.val != rightNode.val) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// è¿™é‡Œé¡ºåºä¸ä½¿ç”¨Dequeä¸åŒ</span></span><br><span class="line">            deque.offer(leftNode.left);</span><br><span class="line">            deque.offer(rightNode.right);</span><br><span class="line">            deque.offer(leftNode.right);</span><br><span class="line">            deque.offer(rightNode.left);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="Leetcode-222"><a href="#Leetcode-222" class="headerlink" title="Leetcode 222"></a>Leetcode 222</h4><p>å®Œå…¨äºŒå‰æ ‘çš„ä¸ªæ•°</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">countNodes</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">      <span class="keyword">if</span>(root==<span class="literal">null</span>)&#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> countNodes(root.left)+countNodes(root.right)+<span class="number">1</span>;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>



<h4 id="Leetcode-110"><a href="#Leetcode-110" class="headerlink" title="Leetcode 110"></a>Leetcode 110</h4><p>å¹³è¡¡äºŒå‰æ ‘</p>
<p>è¿™é“é¢˜å’Œæ±‚æœ€å¤§æ·±åº¦ä¸ä¸€æ ·ï¼Œå­æ ‘ä¸­è¦æ˜¯æœ€å¤§æ·±åº¦å·®å¤§äºä¸€äº†ä¹Ÿä¸æ˜¯å¹³è¡¡äºŒå‰æ ‘ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isBalanced</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">       <span class="keyword">return</span> getHeight(root) != -<span class="number">1</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">getHeight</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">       <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">           <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="type">int</span> <span class="variable">leftHeight</span> <span class="operator">=</span> getHeight(root.left);</span><br><span class="line">       <span class="keyword">if</span> (leftHeight == -<span class="number">1</span>) &#123;</span><br><span class="line">           <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="type">int</span> <span class="variable">rightHeight</span> <span class="operator">=</span> getHeight(root.right);</span><br><span class="line">       <span class="keyword">if</span> (rightHeight == -<span class="number">1</span>) &#123;</span><br><span class="line">           <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">// å·¦å³å­æ ‘é«˜åº¦å·®å¤§äº1ï¼Œreturn -1è¡¨ç¤ºå·²ç»ä¸æ˜¯å¹³è¡¡æ ‘äº†</span></span><br><span class="line">       <span class="keyword">if</span> (Math.abs(leftHeight - rightHeight) &gt; <span class="number">1</span>) &#123;</span><br><span class="line">           <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> Math.max(leftHeight, rightHeight) + <span class="number">1</span>;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>



<h4 id="Leetcode-257-äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„"><a href="#Leetcode-257-äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„" class="headerlink" title="Leetcode 257 äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„"></a>Leetcode 257 äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„</h4><p>å‰åºéå†æ³•,åœ¨éå†çš„è¿‡ç¨‹ä¸­è®°å¾—æ—¶åˆ»è®°å½•æ¯ä¸€æ¡è·¯å¾„ï¼Œ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;String&gt; <span class="title function_">binaryTreePaths</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">   List&lt;String&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"> <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">     <span class="keyword">return</span> res;</span><br><span class="line"> &#125;</span><br><span class="line"> Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line"> stack.push(root);</span><br><span class="line"></span><br><span class="line"> Stack&lt;StringBuilder&gt; paths = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line"> <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line"> sb.append(Integer.toString(root.val));</span><br><span class="line"> paths.push(sb);</span><br><span class="line"></span><br><span class="line"> <span class="keyword">while</span> (!stack.isEmpty()) &#123;</span><br><span class="line">     <span class="type">TreeNode</span> <span class="variable">node</span> <span class="operator">=</span> stack.pop();</span><br><span class="line">     sb = paths.pop();</span><br><span class="line"></span><br><span class="line">     <span class="keyword">if</span> (node.right != <span class="literal">null</span>) &#123;</span><br><span class="line">         stack.push(node.right);</span><br><span class="line">         <span class="type">StringBuilder</span> <span class="variable">newPath</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>(sb);</span><br><span class="line">         newPath.append(<span class="string">&quot;-&gt;&quot;</span>);</span><br><span class="line">         newPath.append(Integer.toString(node.right.val));</span><br><span class="line">         paths.push(newPath);</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">if</span> (node.left != <span class="literal">null</span>) &#123;</span><br><span class="line">         stack.push(node.left);</span><br><span class="line">         <span class="type">StringBuilder</span> <span class="variable">newPath</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>(sb);</span><br><span class="line">         newPath.append(<span class="string">&quot;-&gt;&quot;</span>);</span><br><span class="line">         newPath.append(Integer.toString(node.left.val));</span><br><span class="line">         paths.push(newPath);</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">if</span> (node.left == <span class="literal">null</span> &amp;&amp; node.right == <span class="literal">null</span>) &#123;</span><br><span class="line">         <span class="type">String</span> <span class="variable">route</span> <span class="operator">=</span> sb.toString();</span><br><span class="line">         res.add(route);</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">return</span> res;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>è¿­ä»£æ³•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;String&gt; <span class="title function_">binaryTreePaths</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">       List&lt;String&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();<span class="comment">// å­˜æœ€ç»ˆçš„ç»“æœ</span></span><br><span class="line">       <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">           <span class="keyword">return</span> res;</span><br><span class="line">       &#125;</span><br><span class="line">       List&lt;Integer&gt; paths = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();<span class="comment">// ä½œä¸ºç»“æœä¸­çš„è·¯å¾„</span></span><br><span class="line">       traversal(root, paths, res);</span><br><span class="line">       <span class="keyword">return</span> res;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">traversal</span><span class="params">(TreeNode root, List&lt;Integer&gt; paths, List&lt;String&gt; res)</span> &#123;</span><br><span class="line">       paths.add(root.val);<span class="comment">// å‰åºéå†ï¼Œä¸­</span></span><br><span class="line">       <span class="comment">// é‡åˆ°å¶å­ç»“ç‚¹</span></span><br><span class="line">       <span class="keyword">if</span> (root.left == <span class="literal">null</span> &amp;&amp; root.right == <span class="literal">null</span>) &#123;</span><br><span class="line">           <span class="comment">// è¾“å‡º</span></span><br><span class="line">           <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();<span class="comment">// StringBuilderç”¨æ¥æ‹¼æ¥å­—ç¬¦ä¸²ï¼Œé€Ÿåº¦æ›´å¿«</span></span><br><span class="line">           <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; paths.size() - <span class="number">1</span>; i++) &#123;</span><br><span class="line">               sb.append(paths.get(i)).append(<span class="string">&quot;-&gt;&quot;</span>);</span><br><span class="line">           &#125;</span><br><span class="line">           sb.append(paths.get(paths.size() - <span class="number">1</span>));<span class="comment">// è®°å½•æœ€åä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">           res.add(sb.toString());<span class="comment">// æ”¶é›†ä¸€ä¸ªè·¯å¾„</span></span><br><span class="line">           <span class="keyword">return</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">// é€’å½’å’Œå›æº¯æ˜¯åŒæ—¶è¿›è¡Œï¼Œæ‰€ä»¥è¦æ”¾åœ¨åŒä¸€ä¸ªèŠ±æ‹¬å·é‡Œ</span></span><br><span class="line">       <span class="keyword">if</span> (root.left != <span class="literal">null</span>) &#123; <span class="comment">// å·¦</span></span><br><span class="line">           traversal(root.left, paths, res);</span><br><span class="line">           paths.remove(paths.size() - <span class="number">1</span>);<span class="comment">// å›æº¯</span></span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">if</span> (root.right != <span class="literal">null</span>) &#123; <span class="comment">// å³</span></span><br><span class="line">           traversal(root.right, paths, res);</span><br><span class="line">           paths.remove(paths.size() - <span class="number">1</span>);<span class="comment">// å›æº¯</span></span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>



<h3 id="éšæƒ³ç»ƒä¹ "><a href="#éšæƒ³ç»ƒä¹ " class="headerlink" title="éšæƒ³ç»ƒä¹ "></a>éšæƒ³ç»ƒä¹ </h3><h4 id="Leetcode-852å±±å³°æ•°ç»„"><a href="#Leetcode-852å±±å³°æ•°ç»„" class="headerlink" title="Leetcode 852å±±å³°æ•°ç»„"></a>Leetcode 852å±±å³°æ•°ç»„</h4><p><strong>çº¿æ€§æŸ¥æ‰¾, O(n)</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">peakIndexInMountainArray</span><span class="params">(<span class="type">int</span>[] arr)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> arr.length;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>,j=len-<span class="number">1</span>;i&lt;len;i++,j--)&#123;</span><br><span class="line">            <span class="keyword">if</span>(arr[i]&gt;arr[i+<span class="number">1</span>])&#123;</span><br><span class="line">                <span class="keyword">return</span> i;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(arr[j-<span class="number">1</span>]&lt;arr[j])&#123;</span><br><span class="line">                <span class="keyword">return</span> j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p><strong>äºŒåˆ†æŸ¥æ‰¾, O(log(n))</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">peakIndexInMountainArray</span><span class="params">(<span class="type">int</span>[] arr)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> arr.length - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> left + (right - left) / <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (arr[mid] &lt; arr[mid + <span class="number">1</span>]) &#123;</span><br><span class="line">            left = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            right = mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> left;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>å¿«é€Ÿæ’åºquicksort</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">quickSort</span><span class="params">(<span class="type">int</span>[] array)</span>&#123;</span><br><span class="line">    quick(array,<span class="number">0</span>,array.length-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">quick</span><span class="params">(<span class="type">int</span>[] array, <span class="type">int</span> left, <span class="type">int</span> right)</span> &#123;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//é€’å½’ç»“æŸæ¡ä»¶:è¿™é‡Œä»£è¡¨åªæœ‰ä¸€ä¸ªæ ¹   å¤§äºå·ï¼šæœ‰å¯èƒ½æ²¡æœ‰å­æ ‘  1  2  3   4  1ä¸ºåŸºå‡†ï¼Œpivot-1å°±è¶Šç•Œäº†</span></span><br><span class="line">    <span class="keyword">if</span>(left &gt;= right)&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="type">int</span> <span class="variable">pivot</span> <span class="operator">=</span> partition(array, left, right);</span><br><span class="line">    quick(array,left,pivot-<span class="number">1</span>);</span><br><span class="line">    quick(array,pivot+<span class="number">1</span>,right);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">partition</span><span class="params">(<span class="type">int</span>[] array,<span class="type">int</span> start, <span class="type">int</span> end)</span>&#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> start;<span class="comment">//è¿™é‡Œå­˜å¼€å§‹æ—¶åŸºå‡†çš„ä¸‹æ ‡ï¼Œä¸ºäº†å¾ªç¯ç»“æŸåï¼Œç›¸é‡å€¼å’ŒåŸºå‡†å€¼äº¤æ¢æ—¶èƒ½æ‰¾åˆ°åŸºå‡†å€¼çš„ä¸‹æ ‡</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">key</span> <span class="operator">=</span> array[start];<span class="comment">//è¿™æ˜¯åŸºå‡†</span></span><br><span class="line">    <span class="keyword">while</span> (start &lt; end)&#123;</span><br><span class="line">        <span class="keyword">while</span> (start &lt; end &amp;&amp; array[end] &gt;= key)&#123;</span><br><span class="line">            end--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (start &lt; end &amp;&amp; array[start] &lt;= key)&#123;</span><br><span class="line">            start++;</span><br><span class="line">        &#125;</span><br><span class="line">        swap(array,start,end);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åˆ°è¿™é‡Œså’Œeç›¸é‡ï¼ŒæŠŠç›¸é‡å€¼å’ŒåŸºå‡†å€¼äº¤æ¢</span></span><br><span class="line">    swap(array,start,i);</span><br><span class="line">    <span class="keyword">return</span> start;<span class="comment">//è¿”å›åŸºå‡†ä¸‹æ ‡</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tech/" rel="tag">tech</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-Secured-Software-Engineering"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/04/21/Secured-Software-Engineering/"
    >Secured Software Engineering</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/04/21/Secured-Software-Engineering/" class="article-date">
  <time datetime="2023-04-21T14:04:06.000Z" itemprop="datePublished">2023-04-21</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Courses/">Courses</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>The below case studies are given here in advance, they will be part of the final exam. </p>
<p><strong>Case Study 1:</strong> You are part of a team that has been tasked with developing a web-based application for a healthcare organisation. The application will allow doctors to view patient information, including medical history, test results and treatment plans. Patients will also be able to access the application to view their own medical information and communicate with their doctors. The application will be used by a large number of healthcare providers and patients, and therefore security is a top priority. (Provided ahead of the exam) </p>
<p><strong>Case Study 2:</strong> ABC airlines operates a large number of flights globally. In 2021, the airline suffered a significant data breach that affected the personal information of thousands of customers. In response to this breach, ABC airlines invested in a new approach to secure software engineering, including implementing secure coding practices, testing and validating software, and conducting regular security audits. The company has a complex network infrastructure that includes several web servers, database servers, and application servers. (Provided ahead of the exam)</p>
<p><strong>æ¡ˆä¾‹ç ”ç©¶1</strong>ï¼š ä½ æ˜¯ä¸€ä¸ªå›¢é˜Ÿçš„æˆå‘˜ï¼Œä»–ä»¬çš„ä»»åŠ¡æ˜¯ä¸ºä¸€ä¸ªåŒ»ç–—æœºæ„å¼€å‘ä¸€ä¸ªåŸºäºç½‘ç»œçš„åº”ç”¨ç¨‹åºã€‚è¯¥åº”ç”¨ç¨‹åºå°†å…è®¸åŒ»ç”ŸæŸ¥çœ‹ç—…äººä¿¡æ¯ï¼ŒåŒ…æ‹¬ç—…å²ã€æµ‹è¯•ç»“æœå’Œæ²»ç–—è®¡åˆ’ã€‚ç—…äººä¹Ÿå¯ä»¥è®¿é—®è¯¥åº”ç”¨ç¨‹åºï¼ŒæŸ¥çœ‹ä»–ä»¬è‡ªå·±çš„åŒ»ç–—ä¿¡æ¯ï¼Œå¹¶ä¸ä»–ä»¬çš„åŒ»ç”Ÿæ²Ÿé€šã€‚è¯¥åº”ç”¨ç¨‹åºå°†è¢«å¤§é‡çš„åŒ»ç–—æœåŠ¡æä¾›è€…å’Œç—…äººä½¿ç”¨ï¼Œå› æ­¤å®‰å…¨æ€§æ˜¯é‡ä¸­ä¹‹é‡ã€‚(è¯¥æ¡ˆä¾‹ç ”ç©¶æ˜¯æœŸæœ«è€ƒè¯•çš„ä¸€éƒ¨åˆ†ï¼Œåœ¨è€ƒè¯•å‰æä¾›ç»™å¤§å®¶)</p>
<p><strong>æ¡ˆä¾‹ç ”ç©¶2ï¼š</strong>ABCèˆªç©ºå…¬å¸åœ¨å…¨çƒèŒƒå›´å†…è¿è¥ç€å¤§é‡çš„èˆªç­ã€‚2021å¹´ï¼Œè¯¥èˆªç©ºå…¬å¸é­å—äº†ä¸€æ¬¡é‡å¤§çš„æ•°æ®æ³„éœ²äº‹ä»¶ï¼Œå½±å“äº†æˆåƒä¸Šä¸‡çš„å®¢æˆ·çš„ä¸ªäººä¿¡æ¯ã€‚ä¸ºäº†åº”å¯¹è¿™ä¸€æ¼æ´ï¼ŒABCèˆªç©ºå…¬å¸æŠ•èµ„äº†ä¸€ç§æ–°çš„å®‰å…¨è½¯ä»¶å·¥ç¨‹æ–¹æ³•ï¼ŒåŒ…æ‹¬å®æ–½å®‰å…¨ç¼–ç å®è·µï¼Œæµ‹è¯•å’ŒéªŒè¯è½¯ä»¶ï¼Œå¹¶å®šæœŸè¿›è¡Œå®‰å…¨å®¡è®¡ã€‚è¯¥å…¬å¸æœ‰ä¸€ä¸ªå¤æ‚çš„ç½‘ç»œåŸºç¡€è®¾æ–½ï¼ŒåŒ…æ‹¬å‡ ä¸ªç½‘ç»œæœåŠ¡å™¨ã€æ•°æ®åº“æœåŠ¡å™¨å’Œåº”ç”¨æœåŠ¡å™¨ã€‚(åœ¨è€ƒè¯•å‰æä¾›)</p>
<p><strong>1.</strong> <strong>Case Study:</strong> You are part of a team that has been tasked with developing a web-based application for a healthcare organization. The application will allow doctors to view patient information, including medical history, test results and treatment plans. Patients will also be able to access the application to view their own medical information and communicate with their doctors. The application will be used by a large number of healthcare providers and patients, so security is a top priority. (This case study is part of the final exam, provided ahead of the exam here)</p>
<p><strong>(a)</strong> Identify and list down five use cases and five misuse cases of the system. [5]</p>
<p>Use Cases:</p>
<ol>
<li>Registration: A new patient can securely register on the platform, providing their personal and contact information, and setting up a strong, unique password.</li>
<li>Medical Record Access: A doctor can access a patientâ€™s medical history, including previous diagnoses, treatment plans, medications, and test results, to make informed decisions regarding the patientâ€™s care.</li>
<li>Appointment Scheduling: Patients can use the application to schedule appointments with their healthcare providers, selecting available dates and times and receiving confirmation notifications.</li>
<li>Secure Messaging: Doctors and patients can communicate via a secure messaging platform within the application, discussing treatment plans, symptoms, and other healthcare-related topics.</li>
<li>Prescription Management: Healthcare providers can securely prescribe medications through the application, enabling patients to access their prescriptions and facilitating communication with pharmacies.</li>
</ol>
<p>Misuse Cases:</p>
<ol>
<li>Unauthorized Access: An attacker gains unauthorized access to a patientâ€™s account, potentially viewing, altering, or deleting sensitive medical information, or even impersonating the patient.</li>
<li>Man-in-the-Middle Attack: An attacker intercepts the communication between the patient and the healthcare provider, potentially modifying the messages sent or received or eavesdropping on sensitive information.</li>
<li>Phishing Attacks: An attacker sends phishing emails or messages to patients, posing as a healthcare provider or the application itself, in an attempt to steal login credentials or other sensitive information.</li>
<li>Distributed Denial-of-Service (DDoS) Attack: An attacker overwhelms the application with a large volume of traffic, causing it to become unresponsive or slow, preventing healthcare providers and patients from accessing necessary information and services.</li>
<li>Security Misconfiguration: The applicationâ€™s security settings are not properly configured, leaving it vulnerable to attacks and exposing sensitive patient data.</li>
</ol>
<p><strong>(b)</strong> List down five actors and five attackers of the system. [5]</p>
<p><strong>Actors:</strong></p>
<p>Patients, Doctors, Admin, Nurses, Patient Family.</p>
<p><strong>Attackers:</strong> </p>
<p>General attackers, Payment gateway attackers, Nurses, Doctors, Patient Family.</p>
<p><strong>(c)</strong> List down five high-level threats to the system. [5]</p>
<ol>
<li>Insecure authentication</li>
<li>DDoS Attacks</li>
<li>Leakage of patients medical information. Implement a chain of custody to monitor on this system.</li>
<li>Attacker modify the information of patients and drug perscription for patients.</li>
<li>Large size file uploads&#x2F;buffer overflow:</li>
</ol>
<p><strong>(d)</strong> Against each threat what would be your countermeasure? [5]</p>
<ol>
<li><p>Introduce multi-factor authentication.</p>
</li>
<li><p>Add defence against DoS&#x2F;DDoS attacks.</p>
</li>
<li><p>Implement a chain of custody to monitor on this system.</p>
</li>
<li><p>implement logging on website against all actions and audit to be performed by doctors.</p>
</li>
<li><p>implement max size limit for file submission and implement defence against buffer overflow.</p>
</li>
</ol>
<p><strong>2.</strong> <strong>(a)</strong> If requirements are introduced at a later stage in the project, what would be its impact on security?</p>
<p>Support your answer with an example. [3]</p>
<p>it often leads to incomplete or insufficient security measures, making the system vulnerable to threats and attacks. </p>
<ol>
<li>Increased complexity: Adding new requirements can make the system more complex, which in turn makes it harder to analyze and secure. Complex systems are more prone to vulnerabilities, as they have more potential points of failure and attack.</li>
</ol>
<p>Example: Imagine a web application that initially only required user authentication via username and password. If the project scope is changed to include multi-factor authentication, this introduces additional components such as SMS or email verification. The complexity of the system increases, making it more difficult to ensure that all security aspects are correctly implemented and that no vulnerabilities are introduced.</p>
<ol start="2">
<li>Insufficient time for security analysis and testing: Introducing new requirements late in the project often means that there is less time available for security analysis and testing, increasing the likelihood of vulnerabilities remaining undetected.</li>
</ol>
<p>Example: If a new payment feature is added to an e-commerce website just before the projectâ€™s deadline, there may not be enough time to perform a thorough security analysis and test all potential attack vectors, such as SQL injection or cross-site scripting vulnerabilities.</p>
<ol start="3">
<li>Cost and resource constraints: Late requirement changes can lead to increased costs and put additional strain on resources. This can result in cutting corners on security measures or failing to allocate enough time for thorough security testing.</li>
</ol>
<p>Example: If a new payment feature is added to an e-commerce website just before the projectâ€™s deadline, there may not be enough time to perform a thorough security analysis and test all potential attack vectors, such as SQL injection or cross-site scripting vulnerabilities.</p>
<ol start="4">
<li>Incomplete integration of security measures: New requirements might not be fully compatible with existing security measures, requiring rework or additional implementation to ensure that the overall security posture remains strong.</li>
</ol>
<p>Example: An organization decides to migrate its on-premises infrastructure to the cloud during the projectâ€™s later stages. This change requires a reassessment of the security measures in place, as cloud environments have different security considerations compared to on-premises infrastructure. If not addressed properly, this can lead to vulnerabilities in the cloud environment.</p>
<p><strong>(b)</strong> An organisation is performing risk analysis during the development stage for their asset having an </p>
<p>estimated value of Â£100,000. The exposure factor of the asset is estimated to be 0.25 and annual </p>
<p>rate of occurrence is expected to be 0.5. Mitigating the risk will cost the organization Â£5,000, is it </p>
<p>feasible to fix the vulnerability in the code or not? [5]</p>
<p>If do not fix the vulnerablity, the annual lost will be Â£12500</p>
<p>So, it is very worthy to spend Â£5000 to fix this vulnerability.</p>
<p><strong>(c)</strong> A company wants to do the audit of their software for GDPR compliance. Which three <em>Secure</em> </p>
<p><em>Software Engineering</em> methods you would recommend for this purpose? Give a brief explanation </p>
<p>for each method. [6]</p>
<p><strong>Biometric Recognition Multi-factor Authentication</strong></p>
<p><strong>(d)</strong> In the code given on the next page, identify which variables are considered tainted and identify </p>
<p>any two potential security vulnerabilities in the code and suggest how to fix them (write in your </p>
<p>own words, no coding is required). [6]</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">authenticateUser</span>(<span class="params">username, password</span>) &#123;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">var</span> userCredentials = &#123;</span><br><span class="line"></span><br><span class="line"> <span class="attr">username</span>: username, </span><br><span class="line"></span><br><span class="line"> <span class="attr">password</span>: password </span><br><span class="line"></span><br><span class="line"> &#125;;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">var</span> input = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;input&quot;</span>).<span class="property">value</span>; </span><br><span class="line"></span><br><span class="line"> <span class="keyword">if</span> (<span class="title function_">isValidEmail</span>(input)) &#123;</span><br><span class="line"></span><br><span class="line"> userCredentials.<span class="property">email</span> = input; </span><br><span class="line"></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> $.<span class="title function_">post</span>(<span class="string">&quot;/login&quot;</span>, userCredentials, <span class="keyword">function</span>(<span class="params">response</span>) &#123;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">if</span> (response.<span class="property">success</span>) &#123;</span><br><span class="line"></span><br><span class="line"> <span class="title function_">alert</span>(<span class="string">&quot;You are logged in!&quot;</span>);</span><br><span class="line"></span><br><span class="line"> &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&quot;Authentication failed.&quot;</span>);</span><br><span class="line"></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> &#125;);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">isValidEmail</span>(<span class="params">email</span>) &#123;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">var</span> emailRegex = <span class="regexp">/^[^\s@]+@[^\s@]+\.[^\s@]+$/</span>;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">return</span> emailRegex.<span class="title function_">test</span>(email); </span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<ol>
<li>tainted varaibles:</li>
</ol>
<p>userCredentialsä¸­çš„usernameå’Œuserpasswordå¯èƒ½å—æ±¡æŸ“ï¼Œå› ä¸ºä»–æ˜¯ç›´æ¥ä»ä¼ å…¥çš„å‚æ•°ä¸­è·å¾—çš„ï¼Œ</p>
<p>inputå˜é‡åŒæ ·æ˜¯ç›´æ¥ä»é¡µé¢ä¸­è·å–çš„ï¼Œå¯èƒ½æ”¶åˆ°æ±¡æŸ“</p>
<ol start="2">
<li>solution</li>
</ol>
<p>å¯¹äºç”¨æˆ·åå’Œå¯†ç ï¼Œè¿›è¡Œè¡¨å•æäº¤ï¼Œå¹¶ä¸”è¿›è¡Œè¡¨å•è®¤è¯ï¼Œå¹¶ä¸”å¯¹äºç”¨æˆ·åå’Œå¯†ç è¿›è¡Œå®‰å…¨ç¼–ç ï¼ŒåŒæ—¶å¯¹ç”¨æˆ·çš„è¾“å…¥è¿›è¡Œè¾“å…¥æ£€æŸ¥ï¼Œå¦‚dompurifyçš„åº“å¯ä»¥å¸®åŠ©åšåˆ°è¿™ä¸€ç‚¹</p>
<p>å¯¹äºå‘é€çš„ POST è¯·æ±‚ï¼Œåº”è¯¥ä½¿ç”¨ HTTPS åè®®è¿›è¡Œé€šä¿¡ï¼Œå¹¶å¯¹ç”¨æˆ·è¾“å…¥çš„æ•æ„Ÿä¿¡æ¯è¿›è¡ŒåŠ å¯†æˆ–è€…å“ˆå¸Œå¤„ç†ï¼Œé¿å…è¢«åŠ«æŒæˆ–è€…çªƒå–ã€‚å¯ä»¥ä½¿ç”¨åŠ å¯†ç®—æ³•ã€å“ˆå¸Œç®—æ³•æˆ–è€… SSL&#x2F;TLS åè®®æ¥ä¿è¯é€šä¿¡å®‰å…¨ã€‚</p>
<p>ä»£ç ä¸­æœ‰ä¸¤ä¸ªæ½œåœ¨çš„å®‰å…¨æ¼æ´:</p>
<p>è·¨ç«™è„šæœ¬æ¼æ´:</p>
<p>ä»£ç æ¥å—ç”¨æˆ·è¾“å…¥(ç”¨æˆ·åå’Œå¯†ç )ï¼Œå¹¶ç›´æ¥å°†å…¶å‘é€åˆ°æœåŠ¡å™¨ï¼Œè€Œæ²¡æœ‰è¿›è¡Œé€‚å½“çš„éªŒè¯æˆ–å¤„ç†ã€‚å¦‚æœæ”»å‡»è€…å°†æ¶æ„è„šæœ¬æ³¨å…¥åˆ°è¾“å…¥å­—æ®µä¸­ï¼ŒæœåŠ¡å™¨å¯èƒ½ä¼šæ‰§è¡Œè¿™äº›è„šæœ¬ï¼Œä»è€Œå¯èƒ½å±åŠåº”ç”¨ç¨‹åºã€‚</p>
<p>è¦ä¿®å¤æ­¤æ¼æ´ï¼Œæ‚¨åº”è¯¥åœ¨å°†ç”¨æˆ·è¾“å…¥å‘é€åˆ°æœåŠ¡å™¨ä¹‹å‰å¯¹å…¶è¿›è¡Œæ¸…ç†å’ŒéªŒè¯ã€‚æ‚¨å¯ä»¥ä½¿ç”¨åƒDOMPurifyè¿™æ ·çš„åº“æ¥å‡€åŒ–è¾“å…¥ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªéªŒè¯å‡½æ•°æ¥æ£€æŸ¥è¾“å…¥å­—æ®µä¸­çš„ä»»ä½•æ— æ•ˆå­—ç¬¦ã€‚</p>
<p>æ•æ„Ÿæ•°æ®çš„ä¸å®‰å…¨ä¼ è¾“:</p>
<p>è¯¥ä»£ç å°†ç”¨æˆ·çš„å‡­æ®(ç”¨æˆ·åå’Œå¯†ç )ä»¥æ˜æ–‡å½¢å¼å‘é€åˆ°æœåŠ¡å™¨ï¼Œè€Œä¸è¿›è¡Œä»»ä½•åŠ å¯†ã€‚è¿™å¯èƒ½ä¼šå°†æ•æ„Ÿä¿¡æ¯æš´éœ²ç»™æ½œåœ¨çš„çªƒå¬è€…æˆ–æ”»å‡»è€…ï¼Œç‰¹åˆ«æ˜¯åœ¨è¿æ¥æ²¡æœ‰ä½¿ç”¨HTTPSä¿æŠ¤çš„æƒ…å†µä¸‹ã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½ åº”è¯¥ç¡®ä¿ä½ çš„ç½‘ç«™ä½¿ç”¨HTTPSï¼Œå®ƒåŠ å¯†å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´ä¼ è¾“çš„æ•°æ®ã€‚æ­¤å¤–ï¼Œè€ƒè™‘å®ç°æ›´å®‰å…¨çš„èº«ä»½éªŒè¯æœºåˆ¶(å¦‚OAuth2)æˆ–ä½¿ç”¨å¯†ç æ•£åˆ—æŠ€æœ¯(å¦‚bcrypt)æ¥å®‰å…¨åœ°å­˜å‚¨å’Œä¼ è¾“å¯†ç ã€‚</p>
<p>(e).</p>
<p>(a). You are being asked to consult with a start-up who are looking to put together a security policy for integrity. You are told that there are three security levels for the objects: o1 &lt; o2 &lt;o3 where o3 is the highest and o1 is the lowest security level. The following table present the associated security levels and categories for the objects (o). The subjects S1 lies on Level 1, S2 lies on Level 2 and S3 lies on Level 3. Fill out the following table to indicate all applicable permissions when the Simple Security Property is applied. Write -pâ€™ for read and â€˜-wâ€™ for write and â€˜-rwâ€™ for both read and write operations. If a Subject is not authorized to perform any action, leave the cell blank. [8] </p>
<table>
<thead>
<tr>
<th></th>
<th>O1</th>
<th>O2</th>
<th>O3</th>
</tr>
</thead>
<tbody><tr>
<td>S1</td>
<td>-r</td>
<td></td>
<td></td>
</tr>
<tr>
<td>S2</td>
<td>-r</td>
<td>-r</td>
<td></td>
</tr>
<tr>
<td>S3</td>
<td>-r</td>
<td>-r</td>
<td>-r</td>
</tr>
</tbody></table>
<p>Table 1: A security model indicating subject and object integrity levels</p>
<p>(b). How an organization can effectively apply confidentiality and integrity in their software products?</p>
<p>Provide a brief explanation of the consequences.</p>
<p>(c). ABC airlines operates a large number of flights globally. In 2021, the airline suffered a significant data breach that affected the personal information of thousands of customers. In response to this breach, ABC airlines invested in a new approach to secure software engineering, including implementing secure coding practices, testing and validating software, and conducting regular security audits. The company has a complex network infrastructure that includes several web servers, database servers, and application servers. Now, the airline company wants to implement confidentiality and integrity in their system, how it will be done? List any three suggestions.</p>
<p>(d). Why it is important to rank stakeholders in the system? Provide an example scenario and rank 3 different stakeholders in it.</p>
<p>Reason: </p>
<p>The ranking is important to satisfy the competing needs,Contradiction of needs e.g., privacy in one case can conflict with requirement to send name and email in other case.</p>
<p>Candidate stakeholders are: end users, project manager, CEO, CIO, team lead, network admin, db manager, marketing department, legal department and sales team.</p>
<p>Number of external stakeholders is limited</p>
<h1 id="revision"><a href="#revision" class="headerlink" title="revision"></a>revision</h1><h2 id="Risk"><a href="#Risk" class="headerlink" title="Risk"></a>Risk</h2><p><strong>Risk and Risk management</strong></p>
<ul>
<li>ï»¿ï»¿Risk is the potential that a given threat will exploit vulnerabilities of an asset or group of assets and thereby cause harm to the organization</li>
<li>ï»¿ï»¿Risk managementâ€” â€œProcess of identifying, controlling and minimizing or eliminating security risks that may affect information systems, for an acceptable cost.â€</li>
<li>ï»¿ï»¿Risk assessmentâ€”â€œassessment of threats to, impact on and vulnerabilities of information and information processing facilities and the likelihood of their occurrence.â€</li>
</ul>
<p><strong>Who is the enemy? Why do they do it?</strong><br>â€¢ Offenders</p>
<ul>
<li>Crackersâ€”mostly teenagers doing as intellectual challenge</li>
<li>Information systemâ€™s criminalsâ€”Espionage and&#x2F;or<br>Fraud&#x2F;abuseâ€”for a nation&#x2F;company to gain a competitive advantage over its rivals</li>
<li>Vandalsâ€”authorized users and strangers (cracker or a criminal)â€”motivated by anger directed at an individual&#x2F;organization&#x2F;life in general</li>
</ul>
<p><strong>Risk &#x3D; Threats Ã— Vulnerabilities</strong></p>
<table>
<thead>
<tr>
<th>Risk</th>
<th>Threats</th>
<th>Vulnerabilities</th>
</tr>
</thead>
<tbody><tr>
<td>business disruption</td>
<td>angry employees</td>
<td>software bugs</td>
</tr>
<tr>
<td>financial losses</td>
<td>dishonest employees</td>
<td>broken processes</td>
</tr>
<tr>
<td>loss of privacy</td>
<td>criminals</td>
<td>ineffective controls</td>
</tr>
<tr>
<td>damage to reputation</td>
<td>governments</td>
<td>hardware flaws</td>
</tr>
<tr>
<td>loss of confidence</td>
<td>terrorists</td>
<td>business change</td>
</tr>
<tr>
<td>legal penalties</td>
<td>the press</td>
<td>legacy systems</td>
</tr>
<tr>
<td>impaired growth</td>
<td>competitors</td>
<td>Inadequate BCP</td>
</tr>
<tr>
<td>loss of life</td>
<td>hackers</td>
<td>human error</td>
</tr>
<tr>
<td></td>
<td>nature</td>
<td></td>
</tr>
</tbody></table>
<p><strong>Types of Damage</strong></p>
<ul>
<li>ï»¿ï»¿Interruptionâ€”destroyed&#x2F;unavailable services&#x2F;resources</li>
<li>ï»¿ï»¿Interceptionâ€”unauthorized party snooping or getting access to a resource</li>
<li>ï»¿ï»¿Modificationâ€” unauthorized party modifying<br> a resource</li>
<li>ï»¿ï»¿Fabricationâ€”unauthorized party inserts a fake asset&#x2F;resource</li>
</ul>
<p><strong>The purpose of risk management</strong></p>
<ul>
<li>ï»¿ï»¿Ensure overall business and business assets are safe</li>
<li>ï»¿Protect against competitive disadvantage</li>
<li>ï»¿Compliance with laws and best business practices</li>
<li>ï»¿Maintain a good public reputation</li>
</ul>
<p><strong>Accountability for Risk Management</strong></p>
<ul>
<li><p>ï»¿ï»¿It is the responsibility of each community of interest to manage risks; each community has a role to play:</p>
</li>
<li><p>ï»¿ï»¿Information Security - best understands the threats and attacks that introduce risk into the organization</p>
</li>
<li><p>ï»¿ï»¿Management and Users - play a part in the early detection and response process - they also insure sufficient resources are allocated</p>
</li>
<li><p>ï»¿ï»¿Information Technology - must assist in building secure systems and operating them safely</p>
</li>
</ul>
<p><img src="/../images/image-20230426143138064.png" alt="image-20230426143138064"></p>
<p><strong>Steps of a risk management plan</strong></p>
<ul>
<li>ï»¿ï»¿Step 1: Identify Risk</li>
<li>ï»¿ï»¿Step 2: Assess Risk</li>
<li>ï»¿ï»¿Step 3: Control Risk</li>
<li>ï»¿ï»¿Steps are similar regardless of context (InfoSec, Physical Security, Financial, etc.)</li>
<li>ï»¿ï»¿This presentation will focus on controlling risk within an InfoSec context</li>
</ul>
<p><strong>Risk Identification</strong></p>
<ul>
<li><p>ï»¿ï»¿The steps to risk identification are:</p>
</li>
<li><p>ï»¿ï»¿Identify your organizationâ€™s information assets</p>
</li>
<li><p>ï»¿ï»¿Classify and categorize said assets into useful groups</p>
</li>
<li><p>ï»¿ï»¿Rank assets necessity to the organization</p>
</li>
</ul>
<p>To the right is a simplified example of how a company may identify risks</p>
<p><strong>Risk Assessment</strong></p>
<ul>
<li><p>ï»¿ï»¿The steps to risk assessment are:</p>
</li>
<li><p>ï»¿ï»¿Identify threats and threat agents</p>
</li>
<li><p>ï»¿ï»¿Prioritize threats and threat agents</p>
</li>
<li><p>ï»¿ï»¿Assess vulnerabilities in current InfoSec plan</p>
</li>
<li><p>ï»¿ï»¿Determine risk of each threat</p>
</li>
</ul>
<p>R&#x3D;P*V-M+ U</p>
<p>â€‹	R&#x3D; Risk</p>
<p>â€‹	P&#x3D; Probability of threat attack</p>
<p>â€‹	V &#x3D; Value of Information Asset</p>
<p>â€‹	M &#x3D; Mitigation by current controls</p>
<p>â€‹	U &#x3D; Uncertainty of vulnerability</p>
<p><strong>Risk control</strong></p>
<ul>
<li>ï»¿ï»¿The steps to risk control are:</li>
<li>ï»¿ï»¿Cost-Benefit Analysis (CBA)<ul>
<li>ï»¿ï»¿Single Loss Expectancy (SLE)</li>
<li>ï»¿ï»¿Annualized Rate of Occurrence (ARO)</li>
<li>ï»¿ï»¿Annual Loss Expectancy (ALE)</li>
<li>ï»¿ï»¿Annual Cost of the Safeguard (ASG)</li>
</ul>
</li>
<li>ï»¿Feasibility Analysis<ul>
<li>ï»¿ï»¿Organizational Feasibility</li>
<li>ï»¿ï»¿Operational Feasibility</li>
<li>ï»¿ï»¿Technical Feasibility</li>
<li>ï»¿ï»¿Political Feasibility</li>
</ul>
</li>
<li>ï»¿Risk Control Strategy Implementation</li>
</ul>
<p><strong>Cost-Benefit analysis</strong></p>
<ul>
<li><p>ï»¿Determine what risk control strategies are cost effective</p>
</li>
<li><p>ï»¿ï»¿Below are some common formulas used to calculate cost-benefit analysis</p>
</li>
<li><p>ï»¿ï»¿SLE &#x3D; AV * EF</p>
<ul>
<li>ï»¿ï»¿AV &#x3D; Asset Value, EF &#x3D;<br> Exposure factor (% of asset affected)</li>
</ul>
</li>
<li><p>ï»¿ï»¿ALE &#x3D; SLE * ARO</p>
</li>
<li><p>ï»¿ï»¿CBA &#x3D; ALE (pre-control) -</p>
<p>ALE (post-control) - ACE(Annually Countermeasure Expectancy)</p>
</li>
</ul>
<p>SLE - single loss expectancy, ALE - Annual loss expectancy, CBA â€“ Cost benefit analysis</p>
<p><strong>Feasibility analysis</strong></p>
<p>Organizational: Does the plan correspond to the organizationâ€™s objectives? What is in it for the organization? Does it limit the organizationâ€™s capabilities in any way?</p>
<p>Operational: Will shareholders (users, managers, etc.) be able&#x2F;willing to accept the plan? Is the system compatible with the new changes? Have the possible changes been communicated to the employees?</p>
<p>Technical: Is the necessary technology owned or obtainable? Are our employees trained and if not can we afford to train them? Should we hire new employees?</p>
<p>Political: Can InfoSec acquire the necessary budget and approval to implement the plan? Is the budget required justifiable? Does InfoSec have to compete with other departments to acquire the desired budget?</p>
<p><strong>Risk control Strategies</strong></p>
<ul>
<li>ï»¿ï»¿Defense</li>
<li>ï»¿ï»¿Transferal</li>
<li>ï»¿ï»¿Mitigation</li>
<li>ï»¿ï»¿Acceptance (Abandonment)</li>
<li>ï»¿ï»¿Termination</li>
</ul>
<p><strong>Risk control Strategy: defense</strong></p>
<p>â€¢ Defense: Prevent the exploitation of the system via application of policy, training&#x2F;education, and technology. Preferably layered security (defense in depth)</p>
<p>% Counter threats</p>
<p>% Remove vulnerabilities from assess</p>
<p>% Limit access to assets</p>
<p>Â§ Add protective safeguards</p>
<p>Figure 1-Application Security Layered Approach</p>
<p>![image-20230426144850808](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:image-20230426144850808.png)</p>
<p><strong>Risk control Strategy: transferal</strong></p>
<ul>
<li>ï»¿ï»¿Transferal: Shift risks to other areas or outside entities to handle</li>
<li>ï»¿ï»¿Can include:</li>
</ul>
<p>% Purchasing insurance</p>
<p>â€¢ Outsourcing to other organizations</p>
<p>* Implementing service contracts with providers<br> Â§ Revising deployment models</p>
<p>![image-20230426145019527](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:image-20230426145019527.png)</p>
<p><strong>Risk control Strategy: Mitigation</strong></p>
<p>![image-20230426145147173](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:image-20230426145147173.png)</p>
<p><strong>Risk control Strategy: Acceptance</strong></p>
<p>Appropriate when:</p>
<p>% The cost to protect an asset or assets exceeds the cost to replace it&#x2F;them</p>
<ul>
<li>ï»¿When the probability of risk is very low and the asset is of low priority</li>
<li>ï»¿ï»¿Otherwise acceptance &#x3D; negligence</li>
</ul>
<p><strong>Risk control Strategy: Termination</strong></p>
<ul>
<li>ï»¿ï»¿Termination: Removing or discontinuing the information asset from the organization</li>
<li>ï»¿ï»¿Examples include:</li>
</ul>
<p>Equipment disposal</p>
<p>Discontinuing a provided service</p>
<p>Firing an employee</p>
<p><strong>Pros and cons of each strategy</strong></p>
<p>![image-20230426145601149](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:image-20230426145601149.png)</p>
<p><strong>Standard approaches to risk management</strong></p>
<ul>
<li>ï»¿ï»¿U.S CERTâ€™s Operationally Critical Threat Assessment<br> Vulnerability Evaluation (OCTAVE) Methods (Original, OCTAVE-S, OCTAVE-Allegro)</li>
<li>ï»¿ï»¿ISO 27005 Standard for InfoSec Risk Management</li>
<li>ï»¿ï»¿NIST Risk Management Model</li>
<li>ï»¿ï»¿Microsoft Risk Management Approach</li>
<li>ï»¿ï»¿Jack A. Jonesâ€™ Factor Analysis of Information Risk<br> (FAIR)</li>
<li>ï»¿ï»¿Delphi Technique</li>
</ul>
<p><strong>Risk Determination</strong></p>
<p>For the purpose of relative risk assessment:</p>
<p>RISK &#x3D;</p>
<p>â€‹	likelihood of vulnerability occurrence times value (or impact)</p>
<p>MINUS</p>
<p>â€‹	percentage risk already controlled	</p>
<p>PLUS</p>
<p>â€‹	an element of uncertainty</p>
<p><strong>Access Controls</strong></p>
<ul>
<li><p>ï»¿ï»¿One particular application of controls is in the area of access controls</p>
</li>
<li><p>ï»¿ï»¿Access controls are those controls that specifically address admission of a user into a trusted area of the organization</p>
</li>
<li><p>ï»¿ï»¿There are a number of approaches to controlling access</p>
</li>
<li><p>ï»¿ï»¿Access controls can be</p>
</li>
<li><p>ï»¿ï»¿discretionary</p>
</li>
<li><p>ï»¿ï»¿mandatory</p>
</li>
<li><p>ï»¿ï»¿nondiscretionary</p>
</li>
</ul>
<p><strong>Types of Access Controls</strong></p>
<ul>
<li>ï»¿ï»¿Discretionary Access Controls (DAC) are implemented at the discretion or option of the data user</li>
<li>ï»¿ï»¿Mandatory Access Controls (MACs) are structured and coordinated with a data classification scheme, and are required</li>
<li>ï»¿ï»¿Nondiscretionary Controls are those determined by a central authority in the organization and can be based on that individualâ€™s role</li>
</ul>
<p><strong>Lattice-based Control</strong></p>
<ul>
<li>ï»¿ï»¿Another type of nondiscretionary access is lattice-based control, where a lattice structure (or matrix) is created containing subjects and objects, and the boundaries associated with each pair is contained</li>
<li>ï»¿ï»¿This specifies the level of access each subiect has to each object</li>
<li>ï»¿ï»¿In a lattice-based control the column of attributes associated with a particular object are referred to as an access control list or ACL</li>
<li>ï»¿ï»¿The row of attributes associated with a particular subiect (such as a user) is referred to as a capabilities table</li>
<li>This is part of Principles of Information SecurityPrinciples of Information Security</li>
</ul>
<p><strong>Documenting Results of Risk Assessment</strong></p>
<ul>
<li>ï»¿ï»¿The goal of this process has been to identify the information assets of the organization that have specific vulnerabilities and create a list of them, ranked for focus on those most needing protection first</li>
<li>ï»¿ï»¿In preparing this list we have collected and preserved factual information about the assets, the threats they fac and the vulnerabilities they experience</li>
<li>ï»¿ï»¿We should also have collected some information about the controls that are already in place</li>
</ul>
<p><strong>Asset Identification and Valuation</strong></p>
<ul>
<li>ï»¿ï»¿This iterative process begins with the identification of assets, including all of the elements of an organizationâ€™s system</li>
<li>ï»¿ï»¿Then, we classify and categorize the assets adding details as we dig deeper into the analysis</li>
</ul>
<p><strong>Components of an Information System</strong></p>
<p>![image-20230426150102652](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:image-20230426150102652.png)</p>
<p><strong>Hardware, Software, and Network Asset Identification</strong></p>
<p>â€¢ Automated tools can sometimes uncover the system elements that make up the hardware, software, and network components</p>
<p>Once created, the inventory listing must be kept current, often through a tool that periodically refreshes the data</p>
<ul>
<li>ï»¿ï»¿What attributes of each of these information assets should be tracked?</li>
<li>ï»¿ï»¿When deciding which information assets to track, consider including these asset attributes:</li>
</ul>
<p>â€‹		Name</p>
<p>â€‹		ï»¿ï»¿IP address</p>
<p>â€‹		MAC address</p>
<p>â€‹		Element type</p>
<p>â€‹		ï»¿ï»¿Serial number</p>
<p>â€‹	ï»¿ï»¿	Manufacturer name</p>
<p><strong>People, Procedures, and Data Asset Identification</strong></p>
<ul>
<li>ï»¿ï»¿Unlike the tangible hardware and software elements already described, the human resources, documentation, and data information assets are not as readily discovered and documented</li>
<li>ï»¿ï»¿These assets should be identified, described, and evaluated by people using knowledge, experience, and judgment</li>
<li>ï»¿ï»¿As these elements are identified, they should also be recorded into some reliable data handling process</li>
</ul>
<p><strong>Asset Information for People</strong></p>
<ul>
<li><p>ï»¿ï»¿For People:</p>
<ul>
<li><p>ï»¿ï»¿Position name&#x2F;number&#x2F;ID - try to avoid names and stick to identifying positions, roles, or functions</p>
</li>
<li><p>ï»¿ï»¿Supervisor</p>
</li>
<li><p>ï»¿ï»¿Security clearance level</p>
</li>
<li><p>ï»¿ï»¿Special skills</p>
</li>
</ul>
</li>
</ul>
<p><strong>Asset Information for Procedures</strong></p>
<ul>
<li><p>ï»¿ï»¿For Procedures:</p>
<ul>
<li><p>ï»¿ï»¿Description</p>
</li>
<li><p>ï»¿ï»¿Intended purpose</p>
</li>
<li><p>ï»¿ï»¿What elements is it tied to</p>
</li>
<li><p>ï»¿ï»¿Where is it stored for reference</p>
</li>
<li><p>ï»¿ï»¿Where is it stored for update purposes</p>
</li>
</ul>
</li>
</ul>
<p><strong>Asset Information for Data</strong></p>
<ul>
<li><p>ï»¿ï»¿For Data:</p>
<ul>
<li><p>ï»¿ï»¿Classification</p>
</li>
<li><p>ï»¿ï»¿Owner&#x2F;creator&#x2F;manager</p>
</li>
<li><p>ï»¿ï»¿Size of data structure</p>
</li>
<li><p>ï»¿ï»¿Data structure used - sequential, relational</p>
</li>
<li><p>ï»¿ï»¿Online or offline</p>
</li>
<li><p>ï»¿ï»¿Where located</p>
</li>
<li><p>ï»¿ï»¿Backup procedures employed</p>
</li>
</ul>
</li>
</ul>
<p><strong>Information Asset Classification</strong></p>
<ul>
<li><p>ï»¿ï»¿Many organizations already have a classification scheme</p>
</li>
<li><p>ï»¿ï»¿Examples of these kinds of classifications are:</p>
<ul>
<li><p>ï»¿ï»¿confidential data</p>
</li>
<li><p>ï»¿ï»¿internal data</p>
</li>
<li><p>ï»¿ï»¿public data</p>
</li>
</ul>
</li>
<li><p>ï»¿ï»¿Informal organizations may have to organize themselves to create a useable data classification model</p>
</li>
<li><p>ï»¿ï»¿The other side of the data classification scheme is the personnel security clearance structure</p>
</li>
</ul>
<p><strong>Information Asset Valuation</strong></p>
<ul>
<li><p>ï»¿ï»¿Each asset is categorized</p>
</li>
<li><p>ï»¿ï»¿Questions to assist in developing the criteria to be used for asset valuation:</p>
<ul>
<li><p>ï»¿ï»¿Which information asset is the most critical to the success of the organization?</p>
</li>
<li><p>ï»¿ï»¿Which information asset generates the most revenue?</p>
</li>
<li><p>ï»¿ï»¿Which information asset generates the most profitability?</p>
</li>
<li><p>ï»¿ï»¿Which information asset would be the most expensive to replace?</p>
</li>
<li><p>ï»¿ï»¿Which information asset would be the most expensive to protect?</p>
</li>
<li><p>ï»¿ï»¿Which information asset would be the most embarrassing or cause the greatest liability if revealed?</p>
</li>
</ul>
</li>
</ul>
<p><strong>Examples of Information Security Vulnerabilities</strong></p>
<ul>
<li>ï»¿ï»¿Information security vulnerabilities are weaknesses that expose an organization to risk.</li>
<li>ï»¿ï»¿Through employees: Social interaction, Customer interaction,<br> Discussing work in public locations,</li>
<li>ï»¿ï»¿Through former employeesâ€”Former employees working for competitors, Former employees retaining company data,<br> Former employees discussing company matters</li>
<li>ï»¿ï»¿Though Technologyâ€”Social networking, File sharing, Rapid technological changes, Legacy systems, Storing data on mobile devices such as mobile phones, Internet browsers</li>
<li>ï»¿ï»¿Through hardwareâ€”. Susceptibility to dust, heat and humidity,<br> Hardware design flaws, Out of date hardware,</li>
<li>Misconfiguration of hardware</li>
</ul>
<p><strong>Examples of Information Security Vulnerabilities (Cont.)</strong></p>
<ul>
<li>ï»¿ï»¿Through softwareâ€”Insufficient testing, Lack of audit trail, Software bugs and design faults, Unchecked user input, Software that fails to consider human factors, Software complexity (bloatware), Software as a service (relinquishing control of data), Software vendors that go out of business or change ownership</li>
<li>ï»¿Through Networkâ€”Unprotected network communications, Open physical connections, IPs and ports, Insecure network architecture, Unused user ids, Excessive privileges, Unnecessary jobs and scripts executing, Wifi networks</li>
<li>ï»¿ï»¿Through IT Managementâ€”Insufficient IT capacity, Missed security patches, Insufficient incident and problem management, Configuration errors and missed security notices, System operation errors</li>
<li>ï»¿Partners and suppliersâ€”Disruption of telecom services, Disruption of utility services such as electric, gas, water, Hardware failure, Software failure, Lost mail and courier packages, Supply disruptions, Sharing confidential data with partners and suppliers</li>
</ul>
<p>![image-20230426150722235](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:image-20230426150722235.png)</p>
<p><strong>Programme Criticality</strong></p>
<ul>
<li><p>ï»¿ï»¿The programme criticality framework is a common<br> United Nations system framework for decision-making that puts in place a systematic structured approach that uses programme criticality as a way to ensure that programme activities can be balanced against security risks.</p>
</li>
<li><p>ï»¿ï»¿The concept of criticality means the critical impact of an activity on the population, not necessarily on the organisation.</p>
</li>
<li><p>ï»¿ï»¿Programme criticality assessment is mandatory in areas with residual risk levels of â€˜highâ€™ and very high,â€™ as determined in the Security Risk Assessments (SRAs).</p>
</li>
<li><p>ï»¿ï»¿Primary accountability for programme criticality is with United Nations senior management at the country level.</p>
</li>
</ul>
<p>A programme criticality assessment has steps as follows:</p>
<ul>
<li><p>ï»¿ï»¿1. Establish geographical scope and timeframe</p>
</li>
<li><p>ï»¿ï»¿2. List strategic results (SRs)</p>
</li>
<li><p>ï»¿ï»¿3. List UN activities&#x2F;outputs (involving UN personnel)</p>
</li>
<li><p>ï»¿ï»¿4. Assess contribution to strategic results</p>
</li>
<li><p>ï»¿ï»¿5. Assess likelihood of implementation</p>
</li>
<li><p>ï»¿ï»¿6. Evaluate activities&#x2F;outputs with PCI criteria</p>
</li>
<li><p>ï»¿ï»¿7. View PC level results, form consensus within the UN system and approve final results</p>
</li>
<li><p>ï»¿ï»¿8. Agree on a process to address and manage the results of the PC<br> assessment</p>
</li>
<li><p>ï»¿ï»¿9. Follow-up and review.</p>
</li>
<li><p>ï»¿ï»¿There are two possible criteria for an activity to be considered a PCI activity:</p>
<ul>
<li><p>ï»¿ï»¿Either the activity is assessed as lifesaving (humanitarian or non-humanitarian) at scale (defined as any activity to support processes or services, including needs assessments), that would have an immediate and significant impact on mortality; or</p>
</li>
<li><p>ï»¿ï»¿The activity is a directed activity that receives the endorsement of the Office of the Secretary-General for this particular situation.</p>
</li>
</ul>
</li>
<li><p>ï»¿ï»¿Risk level has no impact on programme criticality.<br> There must be no consideration of risk level when determining PC.</p>
</li>
<li><p>ï»¿ï»¿Programme criticality has no impact on risk level.<br> There must be no consideration of PC when determining risk level.</p>
</li>
</ul>
<p>![image-20230426152530740](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:image-20230426152530740.png)</p>
<p><strong>Other Processes with Security Implications</strong></p>
<ul>
<li>ï»¿ï»¿Intelligence and Information Cycle.</li>
<li>ï»¿ï»¿Strategic-level Integrated Mission Planning Process.</li>
<li>ï»¿ï»¿Mission-level Integrated Planning, Coordination and implementation.</li>
<li>ï»¿ï»¿Mission Component Planning and Implementation<br> Processes.</li>
<li>ï»¿ï»¿UN Budget Processes.</li>
<li>ï»¿ï»¿Staff Selection and Managed Mobility System.</li>
<li>ï»¿ï»¿Any other process that impacts the substance of UN security.</li>
</ul>
<h2 id="Security-Patterns"><a href="#Security-Patterns" class="headerlink" title="Security Patterns"></a><strong>Security Patterns</strong></h2><p><strong>Values of security pattern:</strong></p>
<p>Security patterns can apply <strong>security principles</strong>, <strong>guide the design and implementation</strong>, <strong>guide the use of security mechanisms</strong>,<strong>help understanding and use of complex</strong> **standards (**XACML, WiMax) and <strong>Convenient for teaching</strong> security principles and mechanisms.</p>
<p><strong>An Abstract Security Pattern (ASP)</strong>, describes a conceptual security mechanism that realizes one or more security policies able to control (stop or mitigate) a threat or comply with a security-related regulation or institutional policy (no implementation aspects).</p>
<p><strong>Conceptual security</strong></p>
<ul>
<li>ï»¿ï»¿Security is a <strong>quality</strong> aspect that constrains the semantic behavior of applications (by imposing access restrictions), so the requirements stage is the right development stage to start addressing security</li>
<li>ï»¿ï»¿However, we only want to indicate at this stage which specific security controls are needed, not their convenient or optimal implementation.</li>
<li>ï»¿ï»¿For example, in bank applications we only want to specify the semantic aspects of accounts, customers, and transactions with their corresponding restrictions.</li>
</ul>
<p><strong>An ASP example: Authenticator:</strong></p>
<ul>
<li>ï»¿ï»¿This is the Intent section of an Authenticator pattern: â€œWhen a user or system (subject) identifies itself to the system, how do we verify that the subject intending to access the system is who it says it is? Present some information that is recognized by the system as identifying this subject.<br> After being recognized, the requestor is given some proof that it has been authenticated.â€</li>
<li>ï»¿ï»¿Authentication restricts access to a system to only registered users; it handles the threat where an intruder enters a system and may try to perform unauthorized access to information</li>
<li>ï»¿ï»¿It is clear that there are many ways to perform this authentication, that go from manual ways, as done in voting places, to purely automatic ways, as when accessing a web site, but all of them must include the requirements of the abstract Authenticator</li>
</ul>
<p><strong>Authentication</strong> as an <strong>abstract</strong> function requires a basic sequence of activities.  Concrete realizations of this sequence implement these steps in different ways but all must perform these two steps: â€¢ The subject requests to enter a system indicating its identity and presenting some proof of identity. â€¢ If the system recognizes the subject using its identity information, it grants her entrance to the system and provides her with a proof of authentication for further use.  If not, the request is denied. â€¢ We can define a hierarchy of authentication patterns starting from the abstract Authenticator</p>
<p><strong>Force os abstract authenticator</strong></p>
<ul>
<li><p><strong>Closed system</strong>. If the authentication information presented by the user is not recognized, there is no access. In an open system all subjects would have access except some who are blacklisted for some reason.</p>
</li>
<li><p><strong>Registration</strong>. Users must register their identity information so that the system can recognize them later.</p>
</li>
<li><p><strong>Flexibility</strong>. There may be a variety of individuals (users) who require access to the system and a variety of system units with different access restrictions. We need to be able to handle all this variety appropriately or we risk security exposures.</p>
</li>
<li><p><strong>Dependability</strong>. We need to authenticate users in a reliable and secure way.</p>
<p>This means a robust protocol and a high degree of availability. Otherwise, users may fool the authentication process or enter when the system authentication is down.</p>
</li>
<li><p><strong>Protection of authentication information</strong>. Users should not be able to read or modify the authentication information. Otherwise, they can give themselves access to the system.</p>
</li>
<li><p>ï»¿ï»¿<strong>Simplicity</strong>. The authentication process must be relatively simple or the users or administrators may be confused. User errors are annoying to them but administrator errors may lead to security exposures.</p>
</li>
<li><p>ï»¿ï»¿<strong>Reach</strong>. Successful authentication only gives access to the system, not to any specific resource in the system. Access to these resources must be controlled using other mechanisms, typically authorization.</p>
</li>
<li><p><strong>Tamper freedom</strong>. It should be very difficult to falsify the proof of identity presented by the user.</p>
</li>
<li><p>ï»¿ï»¿<strong>Cost</strong>. There should be tradeoffs between security and cost, more security can be obtained at a higher cost.</p>
</li>
<li><p>ï»¿ï»¿<strong>Performance</strong>. Authentication should not take a long time or users will be annoyed.</p>
</li>
<li><p>ï»¿ï»¿<strong>Frequency</strong>. We should not make users authenticate frequently. Frequent authentications waste time and annoy the users.<br> All these properties must be present in the lower-level ways of performing authentication, e.g. in a Password Authenticator (see next slide). A Password Authenticator needs tomake concrete its Authentication Information (list of passwords) and its proof of authentication (a session)</p>
</li>
</ul>
<p><strong>Reference Monitor</strong></p>
<ul>
<li>Authorization rules define who has access to what and how. They must be enforced when a process request a resource</li>
<li>Each request for resources must be intercepted and evaluated for authorized access; this is the concept of Reference Monitor</li>
<li>An abstract concept, implemented as memory access manager, file permission checks, CORBA adapters, etc.</li>
</ul>
<p><strong>Role-Based Access Control</strong></p>
<ul>
<li>ï»¿ï»¿Users are assigned roles according to their functions and given the needed rights (access types for specific objects)</li>
<li>ï»¿ï»¿When users are assigned by administrators, this is a mandatory model</li>
<li>ï»¿ï»¿Can implement least privilege and separation of duty policies</li>
</ul>
<p><strong>XML firewall</strong></p>
<p>â€¢ <strong>Controls input&#x2F;output of XML applications</strong></p>
<p>â€¢ <strong>Well-formed documents (schema as</strong> <strong>reference)</strong></p>
<p>â€¢ <strong>Harmful data (wrong type or length)</strong></p>
<p>â€¢ <strong>Encryption&#x2F;decryption</strong></p>
<p>â€¢ <strong>Sign and verify signatures in documents</strong></p>
<hr>
<p><strong>Building secure systems</strong></p>
<ul>
<li>ï»¿ï»¿Secure systems need to be built in a systematic way where security is an integral part of the lifecycle, and the same applies to safety.</li>
<li>ï»¿ï»¿The platform should match the type of application, and all compliance, safety and security constraints should be defined at the application level, where their semantics are understood and propagated to the lower levels.</li>
<li>ï»¿ï»¿The lower levels must provide the assurance that the constraints are being followed, i.e., they implement these constraints and enforce that there are no ways to bypass them.</li>
<li>ï»¿ï»¿Following these ideas, the Authors of the book in reference developed a secure systems development methodology, which considers all lifecycle stages and all architectural levels. It is expanded with architectural aspects, and recently with process aspects.</li>
</ul>
<p><strong><em>Security methodology</em>:</strong></p>
<p><strong>systematic way of introducing security into a software system</strong> <strong>during the development life-cycle</strong></p>
<p>Consists of two aspects&#x2F;facets:<strong>security process</strong>(SP) and <strong>conceptualsecurity framework</strong> (CF)</p>
<p><strong>ASE:</strong> <strong>a comprehensive security methodology for distributed systems</strong></p>
<ul>
<li>Many methodologies exist with different paradigms</li>
<li>Very important class is methodologies that use security patterns</li>
<li>ASE: a security methodology using patterns and related constructs designed specifically for general distributed systems</li>
</ul>
<p><strong>Basic security principles for system design</strong></p>
<ul>
<li>ï»¿ï»¿Security constraints must be defined at the highest layer, where their semantics are clear, and propagated to the lower levels, which enforce them.</li>
<li>ï»¿ï»¿All the layers of the architecture must be secure.</li>
<li>ï»¿ï»¿We can define patterns at all levels. This allows a designer to make sure that all levels are secured, and also makes easier propagating down the high-level constraints.</li>
<li>ï»¿ï»¿We must apply security in all development stages</li>
<li>ï»¿ï»¿A two-dimensional approach: time and space</li>
</ul>
<p><strong>Reference Architecture (RA)</strong></p>
<p>â€¢ A Reference Architecture (RA) is a generic software architecture, based on one or more domains, with no implementation aspects<br>â€¢ An RA is reusable, extendable, and configurable.<br>â€¢ It specifies the components of the system, their individual functionalities and their mutual interaction.<br>â€¢ An RA can be considered as a compound pattern and its components described as patterns.<br>â€¢ In addition to domain models, an RA may include a set of use cases (UC), and a set of Roles (R) corresponding to its stakeholders actors).</p>
<p>We can measure security by <strong>counting the threats that have been</strong> <strong>neutralized by using patterns</strong></p>
<p><strong>Incident Response Plan</strong></p>
<p>â€¢ Before system is released, an incident response plan should be created (compromise or failure)</p>
<p>â€¢ Contact personnel, availability and procedures for multiple levels of failure</p>
<p>â€¢ A minor glitch does not require CEO to be informed but should be documented</p>
<p>â€¢ Network admin or security admin to determine an appropriate response when incident occurs</p>
<p><strong>Key elements</strong> of incident response plan:</p>
<ul>
<li><p>ï»¿ï»¿Monitoring duties for the software in live operation</p>
</li>
<li><p>ï»¿ï»¿A definition for incidents</p>
</li>
<li><p>ï»¿ï»¿A contact for incidents</p>
</li>
<li><p>ï»¿ï»¿An emergency contact for priority incidents</p>
</li>
<li><p>ï»¿ï»¿A clear chain of escalation</p>
</li>
<li><p>ï»¿ï»¿Procedures for shutting down the software or components of the software</p>
</li>
<li><p>ï»¿ï»¿Procedures for specified exploits or attacks</p>
</li>
<li><p>ï»¿ï»¿Security documentation or the references for external ode or hardware used</p>
</li>
</ul>
<p>*It depends on the organization that the person responsible is from development team or outside</p>
<p><strong>evolving attacks &#x2F; periodic review and archiving</strong></p>
<h2 id="Web-Application-Threats"><a href="#Web-Application-Threats" class="headerlink" title="Web Application Threats"></a>Web Application Threats</h2><ul>
<li>ï»¿ï»¿Never trust the client at the server side</li>
<li>ï»¿ï»¿Never trust the browser on the client side</li>
<li>ï»¿ï»¿Never execute client input as code</li>
<li>ï»¿ï»¿Never allow client input to pass into the system without validation internally</li>
<li>ï»¿ï»¿Scrub client for any known exploits and suspect characters</li>
</ul>
<p><strong>XSS</strong></p>
<p><strong>CSRF</strong></p>
<p><strong>File Upload</strong></p>
<p><strong>Buffer Overflow</strong></p>
<p><strong>SQL Injection</strong></p>
<h2 id="Threat-Modelling"><a href="#Threat-Modelling" class="headerlink" title="Threat Modelling"></a>Threat Modelling</h2><p>â€¢ In a nutshell, threat modelling is the use of abstractions to help you consider risks.<br>â€¢ Involves developing a shared understanding of a product or service architecture and the problems that could happen.<br>â€¢When you model threats, you typically use one of two types of model.</p>
<ol>
<li>The model for what you are building.</li>
<li>The model for the threats of what you are building.</li>
</ol>
<p>The Four-Step Framework</p>
<ol>
<li><strong>Model System</strong>, Model the system youâ€™re building, deploying or changing.</li>
<li><strong>Find Threats</strong>, Find threats using the model.</li>
<li><strong>Addrasc Inrears</strong>,  Address the threats.</li>
<li><strong>Validate,Validate</strong>, the result for completeness and effectiveness</li>
</ol>
<p>(1) What are you Building?</p>
<ul>
<li>ï»¿ï»¿Diagrams are a good way to communicate what you are building.</li>
<li>ï»¿ï»¿There are lots of ways to diagram software and you can start with a whiteboard diagram of how data flows through the system.</li>
</ul>
<p>(2) What can go wrong?</p>
<ul>
<li><p>ï»¿ï»¿Given a simple diagram, we can start thinking about what can go wrong. Example:</p>
</li>
<li><p>ï»¿ï»¿How do you know that the web browser is being used by the person you expect?</p>
</li>
<li><p>ï»¿ï»¿What happens if someone modifies data in the database?</p>
</li>
<li><p>ï»¿ï»¿Is it okay for information to move from one box to the next without encryption?</p>
</li>
<li><p>ï»¿ï»¿You can identify threats like these using the STRIDE approach.</p>
</li>
<li><p>ï»¿ï»¿Use STRIDE to walk through each part of the diagram:</p>
</li>
<li><p>ï»¿ï»¿Spoofing.</p>
</li>
<li><p>ï»¿ï»¿Tampering.</p>
</li>
<li><p>ï»¿ï»¿Repudiation.</p>
</li>
<li><p>ï»¿ï»¿Information Disclosure.</p>
</li>
<li><p>ï»¿ï»¿Denial of Service.</p>
</li>
<li><p>ï»¿ï»¿Elevation of Privilege.</p>
</li>
</ul>
<p><strong>(3) What Are We Going To Do</strong> <strong>About It</strong></p>
<p>â€¢ There are four types of action you can take against a threat:</p>
<ol>
<li>Mitigate it.</li>
</ol>
<p>![image-20230427001002917](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:image-20230427001002917.png)</p>
<p>![image-20230427001035008](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:image-20230427001035008.png)</p>
<p>![image-20230427001116901](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:image-20230427001116901.png)</p>
<p>![image-20230427001224625](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:image-20230427001224625.png)</p>
<p>![image-20230427001300080](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:image-20230427001300080.png)</p>
<p>![image-20230427001333023](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:image-20230427001333023.png)</p>
<ol start="2">
<li><p>Eliminate it. Vpnï¼ˆGeo-restrictions: A VPN can be used to bypass geo-restrictions and access content that may be blocked in certain regions, reducing the risk of inadvertently visiting malicious websites or downloading malicious content.ï¼‰</p>
</li>
<li><p>Transfer it.</p>
</li>
<li><p>Accept it</p>
</li>
</ol>
<p><strong>(4) Did We Do A Good Job</strong></p>
<ol>
<li>ï»¿ï»¿ï»¿Look at the diagram, does it represent the system well?</li>
<li>ï»¿ï»¿ï»¿Look at the list of threats, did you find at least 5 threats per node in the diagram?</li>
<li>ï»¿ï»¿ï»¿Did you file a bug per threat?</li>
</ol>
<ul>
<li>ï»¿ï»¿When you find threats that violate your requirements and cannot be mitigated, it generally makes sense to adjust your requirements.<br> Sometimes itâ€™s possible to either mitigate the threat operationally, or defer a decision to the person using the system.</li>
<li>ï»¿ï»¿There are many other threat modelling techniques, we have only touched most popular approaches.</li>
<li>ï»¿ï»¿Some other threat modelling approaches include:</li>
<li>ï»¿ï»¿PASTA (Process for Attack Simulation and Threat Analysis)</li>
<li>ï»¿ï»¿CSVSS Common Vulnerability Scoring System)</li>
<li>ï»¿ï»¿HMM (Hybrid Threat Modelling Method)</li>
</ul>
<h2 id="Attack-Trees"><a href="#Attack-Trees" class="headerlink" title="Attack Trees"></a><strong>Attack Trees</strong></h2><p>![image-20230427001820867](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:image-20230427001820867.png)</p>
<ul>
<li>ï»¿ï»¿Top level node (or root) represents the ultimate goal of an attacker.</li>
<li>ï»¿ï»¿The nodes (or leaves) represent sub goals that need to be achieved (together or independently) to arrive at the top level goal.</li>
</ul>
<p>â€¢ An alternative to STRIDE(Spoofing, tampering, repudiation, Information disclosure,Denial of service,Denial of service).</p>
<p>â€¢ You can use attack trees as a way to find threats, or as a way to organize threats.</p>
<p>â€‹	â€¢ Attack trees work well as a building block for threat enumeration in the fourstep framework.</p>
<p><strong>We can use attack trees to find the threats</strong></p>
<p><strong>Attack-Defence Scenarios</strong></p>
<p>â€¢ Attack trees are used to model attack-defence scenarios.</p>
<p>â€¢ The attack-defence scenario is a game between two players:</p>
<p>â€¢ The proponent (denoted as p)</p>
<p>â€¢ The opponent (denoted as o)</p>
<ul>
<li><p>The root of an attack tree represents the main goal of the proponent. </p>
<ul>
<li>When the root is an attack node, the proponent is an attacker and the opponent is a defender.</li>
<li>ï»¿ï»¿Conversely, when the root is a defence node, the proponent is a defender and the opponent is an attacker.</li>
</ul>
</li>
<li><p>Notations:</p>
</li>
<li><p>ï»¿ï»¿Attack nodes are represented with circles.</p>
</li>
<li><p>ï»¿ï»¿Defence nodes are represented with rectangles.</p>
</li>
<li><p>ï»¿ï»¿Refinements:</p>
<ul>
<li>ï»¿ï»¿Refinements can be conjunctive (AND aggregation) or disjunctive (OR choice)</li>
<li>ï»¿ï»¿Refinement relations are indicated by solid edges between nodes.</li>
<li>ï»¿ï»¿Countermeasures are indicated by dotted edges.</li>
<li>ï»¿ï»¿A conjunctive refinement of a node is represented by an arc over all edges connecting the node and its children of equal type.</li>
</ul>
</li>
</ul>
<p><strong>The basic steps to create an attack tree are as follows</strong>:</p>
<p>\1. Decide on a representation.</p>
<p>Two types of trees:</p>
<p><strong>AND trees</strong> (aggregation): The state of a node depends on all of the nodes below it being true. æœ‰å¤¹è„š</p>
<p><strong>Or trees</strong> (choice): A node is true if any of its subnodes are true. æ²¡å¤¹è„š</p>
<p>\2. Create a root node.</p>
<p><strong>If the root node is a countermeasure mitigation actionâ€¦</strong></p>
<p><strong>Then the subnodes are used to identify what can go wrong.</strong></p>
<p><strong>Decompose the mitigation action and identify how the results can be threatened.</strong></p>
<p><strong>If the root node is a goal of the attacker</strong>:</p>
<p><strong>Then we consider ways to achieve that goal.</strong></p>
<p><strong>Each alternative way to achieve the goal should be drawn as a subnode.</strong></p>
<p>\3. Create subnodes.</p>
<p>â€¢ You typically create subnodes by brainstorming in some structured manner.</p>
<p>â€¢ The relation between subnodes and parent node can be AND or OR.</p>
<p>â€¢ Some possible structures for first-level subnodes include:</p>
<p>Attacking a system:</p>
<ul>
<li>ï»¿ï»¿Physical access.</li>
<li>ï»¿ï»¿Subvert software.</li>
<li>ï»¿ï»¿Subvert a person.</li>
</ul>
<p>Attacking a system via:</p>
<ul>
<li>ï»¿ï»¿People.<br> Process.</li>
<li>ï»¿ï»¿Technology.</li>
</ul>
<p>Attacking a product during:</p>
<ul>
<li>Design.</li>
<li>Production.</li>
<li>Distribution.</li>
<li>Usage.</li>
</ul>
<p>\4. Consider completeness.</p>
<p><strong>â€¢ An attack tree can be checked for quality by iterating over the node, looking for additional ways to reach the goal. It may be helpful to use STRIDE or attack libraries.</strong></p>
<p>\5. Prune the tree.</p>
<p><strong>â€¢ In this step, go through each node in the tree and consider whether the action in each subnode is prevented or duplicative.</strong></p>
<p>\6. Check the presentation.</p>
<p><strong>â€¢ Trees can be represented in two ways:</strong></p>
<p><strong>â€¢ As a free form (human viewable) model without any technical structure.</strong></p>
<p><strong>â€¢ As a structured representation with variable types and&#x2F;or metadata to facilitate programmatic analysis.</strong></p>
<p><strong>Human Viewable Representations</strong></p>
<p>â€¢ Attack trees can be drawn graphically or shown in outline form.</p>
<p>â€¢ Care should be taken to ensure that the graphics are actually information rich and useful.</p>
<p>â€¢ Outline representations are easier to create than graphical representations, but they tend to be less attention-grabbing.</p>
<p>â€¢ <strong>If you are using someone elseâ€™s tree, be sure to understand their intent. If you are creating once, be sure you are clear on your intent and communicate your intent clearly.</strong></p>
<p><strong>Risk Analysis</strong></p>
<p>â€¢ <strong>Risk</strong> &#x3D; (<strong>Probability</strong> of <strong>Incident</strong>) x (Incident Impact)</p>
<p>â€¢ When dealing with hostile risk, consider the following:</p>
<p>â€‹	â€¢ Vulnerabilities in systems are NOT constants.</p>
<p>â€‹	â€¢ Capabilities of the adversary are NOT constant.</p>
<p>â€‹	â€¢ Motivators for adversary changes instantaneously.</p>
<p>â€‹	â€¢ Adversaries can attack your system anytime.</p>
<p><strong>Probability of Incident</strong> &#x3D; Vulnerability x Threat x Motivation</p>
<p><strong>Security Functional Requirements</strong></p>
<ul>
<li>ï»¿ï»¿FAU: Security auditing.</li>
<li>ï»¿ï»¿FCP: Communications.</li>
<li>ï»¿ï»¿FCS: Cryptographic support.</li>
<li>ï»¿ï»¿FDP: User data protection.</li>
<li>ï»¿ï»¿FIA: Identification and authentication.</li>
<li>ï»¿ï»¿FMT: Security management.</li>
<li>ï»¿ï»¿FPR: Privacy.</li>
<li>ï»¿ï»¿FPT: Protection of security function.</li>
<li>ï»¿ï»¿FRU: Resource utilization.</li>
<li>ï»¿ï»¿FTA: Access.</li>
<li>ï»¿ï»¿FTP: Trusted path.</li>
</ul>
<p><strong>Security Mechanisms</strong>s</p>
<ul>
<li>There are several ways in which the security policy can be enforced.</li>
<li>Assurance requirements detail the ways in which security is demonstrated.</li>
<li>There are also different ways of evaluating these requirements.</li>
<li>Here are the FIPS standards.</li>
</ul>
<p>![image-20230427124928638](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:image-20230427124928638.png)</p>
<p>![image-20230427125103365](..&#x2F;images&#x2F;:Users:joshua:Library:Application Support:typora-user-images:image-20230427125103365.png)</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Courses/" rel="tag">Courses</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-forensics"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/04/20/forensics/"
    >forensics</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/04/20/forensics/" class="article-date">
  <time datetime="2023-04-20T13:49:35.000Z" itemprop="datePublished">2023-04-20</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Courses/">Courses</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>5080 UofG</p>
<p>[TOC]</p>
<h1 id="Revision-and-Reflection"><a href="#Revision-and-Reflection" class="headerlink" title="Revision and Reflection:"></a>Revision and Reflection:</h1><ol>
<li><h2 id="Raphael-Aerospace"><a href="#Raphael-Aerospace" class="headerlink" title="Raphael Aerospace"></a>Raphael Aerospace</h2></li>
</ol>
<p>The fictional Raphael Aerospace is a leading multinational, specialising in software engineering for defense systems. The organisation has seized a laptop from one of its employees during a routine search that occurs at the entry and exit point to its North America campus. The company is concerned that the laptop contains sensitive source code. The employee has refused to speak or cooperate with the organisation since the laptop was seized. The digital investigation team believes the laptop is password protected, employs software-based full-disk encryption and has been seized in sleep mode. The laptop has highly integrated components to achieve a â€˜slim-lineâ€™ profile and potentially has a Trusted Platform Module (TPM). The investigation team needs to acquire the keys associated with decryption and encryption of hard disk contents.</p>
<p><strong>a).  Outline the SIX states of the Advanced Configuration and Power Interface (ACPI) and argue the relevancy to software-based full-disk encryption for each state.</strong></p>
<p>The Advanced Configuration and Power Interface (ACPI) is a specification that defines power management and system configuration for computers. It establishes different power states, which play a significant role in the energy consumption and performance of a device. These power states are relevant to software-based full-disk encryption, as they can impact the security and accessibility of encrypted data. The six ACPI power states are:</p>
<ol>
<li>G0 (S0) - Working State: In this state, the system is fully powered on and operational. The CPU is executing instructions, and all peripherals are active. In the context of full-disk encryption, this state is when the system is most vulnerable to attacks. However, itâ€™s also the state in which encryption and decryption processes can be performed.</li>
<li>G1 (S1-S4) - Sleeping States: There are four different sleep states, S1 to S4, with S1 being the lightest sleep and S4 the deepest sleep state. As the sleep state deepens, more components are powered down, and the system consumes less power. Full-disk encryption keys are typically stored in RAM or the TPM. In sleep states, the encryption keys remain in memory, making it possible to access encrypted data without re-entering the password. However, these states also increase the risk of cold boot attacks, where attackers can extract the keys from RAM or TPM if they can gain physical access to the machine.</li>
<li>G2 (S5) - Soft Off State: In this state, the system is powered off, but some components may still receive power to support features like Wake-on-LAN. The encryption keys are not present in memory, so an attacker cannot extract them. However, encrypted data on the disk remains secure, and a password is required to access the system upon startup.</li>
<li>G3 - Mechanical Off State: The system is completely powered off, and no components receive power. In this state, the encryption keys are not present in memory, and the encrypted data is secure. To access the data, the user must power on the system and enter the password.</li>
<li>S4 - Hibernate State: In this state, the systemâ€™s state is saved to the hard drive before powering down. The encryption keys are not present in memory, making the data secure. However, the system will require the password upon waking from hibernation to access the encrypted data.</li>
<li>C0-C3 - Processor Power States: These are the power states of the CPU itself, with C0 being the fully operational state and C3 being the deepest sleep state. These states are less relevant to full-disk encryption, as they primarily affect the CPUâ€™s power consumption and performance. However, the encryption and decryption processes may be slower in deeper sleep states due to reduced CPU performance.</li>
</ol>
<p>In summary, ACPI power states have varying degrees of relevancy to software-based full-disk encryption. The Working State (G0) and Sleeping States (G1) are the most relevant, as they impact the security and accessibility of encrypted data. The Soft Off State (G2), Mechanical Off State (G3), Hibernate State (S4), and Processor Power States (C0-C3) are less directly relevant but may still influence the security of encrypted data in certain situations.</p>
<p><strong>b). Evaluate and describe THREE potential approaches to recover the keys associated with software-based full-disk encryption and argue for the optimal approach in the given context.</strong></p>
<p>There are several potential approaches to recover the keys associated with software-based full-disk encryption (FDE). Here are three possible methods:</p>
<ol>
<li>Brute-force attack: This approach involves systematically trying every possible combination of characters to find the correct encryption key or password. Given enough time and computational resources, a brute-force attack will eventually succeed.</li>
</ol>
<p>Pros:</p>
<ul>
<li>Guaranteed to find the correct key or password eventually.</li>
</ul>
<p>Cons:</p>
<ul>
<li>Requires a significant amount of time and computational power, making it inefficient.</li>
<li>May be ineffective against long, complex passwords or strong encryption algorithms.</li>
</ul>
<ol>
<li>Dictionary attack: This method involves using a pre-compiled list of words or phrases (a â€œdictionaryâ€) to attempt to recover the encryption key or password. Dictionary attacks are faster than brute-force attacks since they rely on a smaller set of possibilities, usually based on known common passwords or phrases.</li>
</ol>
<p>Pros:</p>
<ul>
<li>Faster than brute-force attacks.</li>
<li>Effective against weak passwords or phrases.</li>
</ul>
<p>Cons:</p>
<ul>
<li>Less effective against strong, unique passwords or phrases.</li>
<li>Relies on the quality of the dictionary used.</li>
</ul>
<ol>
<li>Cryptanalysis attack: This approach involves analyzing the encrypted data or the encryption algorithm itself to discover weaknesses or flaws that can be exploited to recover the encryption key. This method often requires deep knowledge of cryptography and a thorough understanding of the specific encryption algorithm used.</li>
</ol>
<p>Pros:</p>
<ul>
<li>Can be more efficient than brute-force or dictionary attacks.</li>
<li>Exploits weaknesses or flaws in the encryption algorithm itself, potentially making it more successful.</li>
</ul>
<p>Cons:</p>
<ul>
<li>Requires extensive knowledge and expertise in cryptography.</li>
<li>May not be successful if the encryption algorithm is well-designed and without significant weaknesses.</li>
</ul>
<p>In the given context, the optimal approach to recover the keys associated with software-based full-disk encryption would depend on several factors, such as the strength of the encryption algorithm, the complexity of the password, and the available resources (time and computational power).</p>
<p>If the encryption algorithm is known to have weaknesses or flaws, a cryptanalysis attack could be the most efficient method to recover the keys. However, this approach requires a high level of expertise in cryptography.</p>
<p>In cases where the password is known to be weak or likely to be found in a dictionary, a dictionary attack would be the preferred approach, as it is faster and more efficient than brute-force attacks.</p>
<p>If no information about the password or encryption algorithmâ€™s weaknesses is available, a brute-force attack could be the only viable option. However, this method may be time-consuming and resource-intensive.</p>
<p>Ultimately, the choice of the optimal approach will depend on the specific circumstances and the available resources. In many cases, a combination of these approaches may be required to successfully recover the keys associated with software-based full-disk encryption.</p>
<p><strong>c). Raphael Aerospace is a British company, but the laptop was seized at the North American campus. The employee is a United Kingdom (UK) citizen and is concerned about the laws regarding software-based full-disk encryption in the United States (US). The employee believes that the UK will be a more favorable jurisdiction from the perspective of being forced to reveal any keys or passwords associated with encryption. Contrast the UK and US legal perspectives regards compelled decryption, speculate on the optimal jurisdiction in the given context.</strong></p>
<p>The legal perspectives on compelled decryption differ between the United States (US) and the United Kingdom (UK). Here is a brief overview of the legal stances in both jurisdictions:</p>
<p>United States (US): In the US, the Fifth Amendment to the Constitution protects individuals from self-incrimination. This has been interpreted by some courts as providing protection against being forced to reveal encryption keys or passwords, as doing so could be seen as self-incrimination. However, the interpretation of the Fifth Amendment in the context of compelled decryption is not uniform across all courts, and some have ruled that individuals can be compelled to provide decryption keys or passwords under certain circumstances.</p>
<p>United Kingdom (UK): In the UK, the Regulation of Investigatory Powers Act 2000 (RIPA) governs the legal framework surrounding encryption and compelled decryption. Under RIPA, individuals can be legally compelled to provide encryption keys or passwords to law enforcement authorities when ordered to do so by a court. Failure to comply with such an order can result in severe penalties, including imprisonment.</p>
<p>In the given context, the employeeâ€™s belief that the UK might be a more favorable jurisdiction from the perspective of being forced to reveal encryption keys or passwords might be misguided. The UKâ€™s legal framework, as established by RIPA, clearly allows for compelled decryption under certain circumstances, whereas the US legal system provides some degree of protection against self-incrimination through the Fifth Amendment.</p>
<p>However, it is important to note that the specific circumstances of the case and the legal interpretations of the relevant laws may vary, leading to different outcomes in each jurisdiction. The optimal jurisdiction would depend on various factors, including the details of the case and the stance of the courts involved.</p>
<p>In conclusion, while the US legal system may offer more protection against compelled decryption than the UK, there are no guarantees, and the optimal jurisdiction would depend on the specific circumstances and the courts involved. The employee should seek legal counsel to better understand their rights and potential risks in both jurisdictions.</p>
<ol start="2">
<li><h2 id="BCO-Case"><a href="#BCO-Case" class="headerlink" title="BCO Case"></a>BCO Case</h2></li>
</ol>
<p>The fictional United States (US) Borders and Customs Office (BCO) wants to strengthen border controls. The BCO wants to ensure rigorous checks are possible at the border to ensure illegal digital content does not come across the border on physical devices. The BCO is particularly concerned that such files are hidden in unallocated space on drives. The BCO want a rapid process that can confirm a target file or traces of a target file are present on a suspected system. The suspected system can then be kept for further, deeper analysis. Argue an appropriate file carving technique and outline an implementation for the given context.</p>
<p><strong>a). In the given context, the BCO aims to quickly identify whether a target file or traces of it are present on a suspected system, particularly in unallocated space on drives. An appropriate technique for this purpose is file carving.</strong></p>
<p>In the given context, the BCO aims to quickly identify whether a target file or traces of it are present on a suspected system, particularly in unallocated space on drives. An appropriate technique for this purpose is file carving. Among the file carving techniques, Hash Based Carving is a suitable choice for the BCOâ€™s requirements.</p>
<p>Hash Based Carving involves creating hash values of known target files and comparing them to the hash values of data blocks in the unallocated space of a drive. This technique is fast and can efficiently identify complete or partial matches of target files on a suspected system.</p>
<p>The implementation of Hash Based Carving for the BCOâ€™s context can be outlined as follows:</p>
<p>Preparation: Compile a list of known target files that the BCO is concerned about. Calculate the hash values for these files and store them in a database.</p>
<p>Drive imaging: At the border, if a suspicious device is identified, create a forensically sound image of the drive to avoid tampering with the original evidence.</p>
<p>Data extraction: Extract data blocks from the unallocated space of the drive image. Divide the extracted data into fixed-size blocks, which will be used for hash comparison.</p>
<p>Hash comparison: Calculate hash values for each data block extracted from the unallocated space. Compare these hash values with the hash values of the known target files stored in the database.</p>
<p>Identification: If a match is found between the hash values, it indicates that the target file or traces of it are present on the suspected system. In such cases, the system can be retained for further, deeper analysis.</p>
<p>Hash Based Carving allows the BCO to rapidly check devices at the border for illegal digital content, enabling them to focus on suspicious systems for more in-depth investigation. This technique not only minimizes false positives but also helps streamline the process of detecting and preventing the transportation of illegal digital content across the border.</p>
<p><strong>b). The BCO want to reduce the number of false positives as this can result in unnecessary workload and delays at the border. Evaluate your proposed approach in (a), indicate potential causes of false positives and argue how they can be addressed.</strong></p>
<p>The proposed approach in (a) is Hash Based Carving. While it is a fast and efficient method to identify target files or their traces, it is not without potential causes of false positives. Here, weâ€™ll evaluate the approach, highlight the possible reasons for false positives, and suggest ways to address them.</p>
<p>Potential causes of false positives:</p>
<p>Hash collisions: Although rare, hash collisions can occur when two different data blocks result in the same hash value. In such cases, the carving tool might falsely identify a non-target file as a target file, leading to false positives.</p>
<p>Partial matches: Hash Based Carving can detect partial matches of target files. However, there might be instances where the partial matches are unrelated to the target files, thus causing false positives.</p>
<p>Addressing false positives:</p>
<p>Utilize multiple hash algorithms: To minimize the chances of hash collisions, the BCO can use multiple hash algorithms (such as SHA-256, SHA-3, or others) and perform a comparison based on a combination of hash values. This approach significantly reduces the likelihood of false positives due to hash collisions.</p>
<p>Verify file headers and footers: In addition to hash comparison, the BCO can implement a secondary check for file headers and footers to ensure that the identified files are indeed the target files. By verifying the unique file signatures of known target files, the BCO can further minimize false positives.</p>
<p>Threshold-based matching: To address false positives due to partial matches, the BCO can set a threshold value for the level of similarity required for a match. By refining the matching criteria, the BCO can filter out unrelated partial matches, thereby reducing false positives.</p>
<p>By addressing these potential causes of false positives, the BCO can enhance the efficiency of the Hash Based Carving approach, ensuring a more accurate and streamlined process at the border. This will minimize unnecessary workload and delays, allowing the BCO to focus on genuine cases that require deeper analysis.</p>
<p><strong>c). The BCO also want to ensure the legality of the approach. The BCO want to ensure the approach does not require a specific search warrant, as this would impact on the speed and efficiency of the approach in terms of border control. Argue the potential legal concerns and outline how they may be addressed in any implementation for the given context.</strong></p>
<p>Potential legal concerns:</p>
<ol>
<li>Privacy rights: Conducting a file carving process on a suspected system may raise concerns about an individualâ€™s right to privacy, as it involves searching and potentially extracting personal and private information without their consent.</li>
<li>Search and seizure laws: Depending on the jurisdiction, searching an individualâ€™s digital device without a specific search warrant could potentially violate search and seizure laws, which generally require law enforcement to obtain a warrant before conducting a search that infringes on an individualâ€™s privacy.</li>
<li>Chain of custody: Ensuring the integrity and admissibility of any digital evidence obtained through file carving in a court of law requires maintaining a proper chain of custody. This involves documenting every step of the evidence handling process, from the initial search to the final analysis.</li>
</ol>
<p>Ways to address legal concerns:</p>
<ol>
<li>Establish clear policies and guidelines: Develop and implement clear policies and guidelines for border agents to follow when conducting file carving or other digital forensic searches. These guidelines should outline the circumstances under which such searches are permissible, the extent of the search, and the steps to be followed to ensure legal compliance.</li>
<li>Train border agents: Provide regular training for border agents on the legal aspects of digital forensics and the proper procedures for conducting file carving and other digital searches. This can help minimize the risk of violating privacy rights and search and seizure laws.</li>
<li>Obtain appropriate authorization: While the BCO aims to avoid the need for specific search warrants, it is essential to obtain the necessary legal authorization to conduct file carving searches. This could involve establishing a reasonable suspicion or probable cause before conducting a search, depending on the jurisdictionâ€™s requirements.</li>
<li>Implement a tiered search approach: To minimize potential privacy intrusions, consider implementing a tiered search approach that starts with less invasive techniques (such as basic keyword searches) and only escalates to more intrusive methods like file carving when thereâ€™s a reasonable basis for suspicion.</li>
<li>Maintain proper documentation: Ensure that a proper chain of custody is maintained throughout the entire digital forensics process. This includes documenting every step of the evidence handling process, from the initial search to the final analysis, to ensure the admissibility of any evidence obtained in a court of law.</li>
</ol>
<p>Ultimately, it is crucial for the BCO to consult with legal experts to develop a compliant and legally defensible approach to file carving and other digital forensic techniques at the border. This can help ensure that the method is both effective in identifying illegal digital content and respecting individual privacy rights and due process requirements.</p>
<ol start="3">
<li><h2 id="Conway-Energy-Case"><a href="#Conway-Energy-Case" class="headerlink" title="Conway Energy Case"></a><strong>Conway Energy Case</strong></h2></li>
</ol>
<p>Conway Energy is a large enterprise with many customers. The company recently discovered that an employee generated letters demanding missed payments from hundreds of customers. The employee used a variant of a standard company letter and altered it to instruct recipients to make payment into their bank account. The employee then lodged the letters with the corporate file store for automatic dispatch. The technical team state the letters can be retrieved, but have concerns as the corporate file store contains millions of documents and letters. The company legal and management team have approved an investigation by the technical team to extract the hundreds of generated letters. The technical team have uncovered a template for the fraudulent standard letter on a corporate workstation. The technical team have altered the letter to include a known affected customer name and address. The technical team then generated a hash of the file, but were unable to identify a match in the file store.</p>
<p><strong>a). The management team are concerned that evidence discovered during the internal investigation may eventually be presented in court. The management team are confident the fraudulent standard letter has been seized legally with appropriate authority. However, the management team want to ensure the discovered standard letter is admissible evidence in court. Evaluate and argue if the uncovered fraudulent letter is admissible evidence to a court of law in the given context.</strong> </p>
<p>The use of scientifically derived and proven methods towards the preservation, collection, validation, identification, analysis, interpretation and presentation of digital evidence derived from digital sources for the purposes of facilitating or furthering the reconstruction of events found to be criminal or helping to  anticipate the unauthorised actions shown to be disruptive to planned operations</p>
<p>Admissibility depends upon several factors: (1) authenticity, (2) relevancy, and (3) competency. </p>
<p>In the context of the discovered fraudulent standard letter, the following factors can be considered:</p>
<ol>
<li>Relevance: <em>The term relevancy</em> means that the information must reasonably tend to prove or disprove any matter in issue. The question or test involved is, â€œDoes the evidence aid the court in answering the question before it?â€. The fraudulent letter is directly related to the case at hand, as it demonstrates the employeeâ€™s actions to create and distribute the letters demanding missed payments. It is likely to be considered relevant evidence.</li>
<li>Reliability: The technical team must be able to demonstrate that the letter was discovered through a reliable and consistent process, and that the investigation methods were accurate and thorough. Proper documentation of the investigation process, such as the steps taken to identify the fraudulent letter, can help establish its reliability.</li>
<li>Authenticity: The term <em>authenticity</em> refers to the genuine character of the evidence. The court will want to ensure that the discovered letter is indeed the fraudulent standard letter created by the employee. The technical team should be prepared to provide evidence that confirms the letterâ€™s authenticity, such as metadata, timestamps, and any other identifying information. A proper chain of custody should also be maintained to document the handling, storage, and transfer of the letter.</li>
<li>Competency: <em>Competent</em> as used to describe evidence means that the evidence is relevant and not barred by any exclusionary rule. The competency of the evidence in Conway Energyâ€™s case will depend on the technical teamâ€™s qualifications and expertise, the methods and techniques used in the investigation, proper documentation and record-keeping, and compliance with legal and procedural requirements. Ensuring these factors are addressed will increase the likelihood of the evidence being considered competent and admissible in court.</li>
</ol>
<p><strong>b). The technical team have uncovered more fraudulent letters, but hashes of each do not match any in the corporate file store. Upon closer inspection the technical team have determined that the employee has inserted words with the font colour set to white. The words are effectively â€˜hidden to visual inspection as they are not easily observable. The technical team have generated a definitive list of the hidden words present in the fraudulent letters. The technical team are unconvinced that generating a hash of each fraudulent letter is an effective route. The technical team need to utilise a hashing approach that is able to identify homologous patterns between the known fraudulent letters and those in the file store. Devise and explain an effective hashing approach in the given context.</strong></p>
<p>Since the traditional hashing approach does not seem to be effective in identifying the fraudulent letters, the technical team can explore alternative hashing techniques that focus on content-based similarity rather than exact file matches. One such approach is known as <strong>locality-sensitive hashing (LSH)</strong>.</p>
<p>Locality-sensitive hashing is a technique used to identify similar documents by generating hashes that have a higher probability of colliding when the documents are similar. This approach is more effective in identifying homologous patterns between the known fraudulent letters and those in the file store.</p>
<p>Hereâ€™s a possible approach to implementing LSH in this context:</p>
<ol>
<li>Preprocess the documents: Convert all the documents in the corporate file store and the known fraudulent letters to plain text, including the hidden white text, to ensure a consistent format for comparison.</li>
<li>Tokenize and create document vectors: Break the text of each document into tokens (e.g., words or phrases) and represent each document as a high-dimensional vector using techniques like term frequency-inverse document frequency (TF-IDF) or word embeddings. This process converts the documents into a suitable format for LSH.</li>
<li>Implement locality-sensitive hashing: Apply an LSH algorithm to the document vectors. The algorithm will generate similar hashes for documents with similar content, making it easier to identify the fraudulent letters with homologous patterns in the file store.</li>
<li>Set a similarity threshold: Determine an appropriate similarity threshold to identify potential matches. This threshold will depend on the specific LSH algorithm used and the desired balance between precision and recall.</li>
<li>Compare and flag potential matches: Compare the LSH hashes of the known fraudulent letters with those in the corporate file store. Flag any documents with hashes that exceed the set similarity threshold for further investigation.</li>
<li>Verify flagged documents: Manually review the flagged documents to ensure they are indeed fraudulent letters and not false positives. Make note of any discrepancies or issues to further refine the LSH algorithm or similarity threshold, if necessary.</li>
<li>Preserve evidence and implement preventive measures: Once the fraudulent letters have been identified and extracted, preserve the evidence and consider implementing additional security measures to prevent similar incidents in the future.</li>
</ol>
<p>By employing locality-sensitive hashing, the technical team can identify fraudulent letters with similar content patterns, even when the exact file hashes do not match. This approach should be more effective in detecting the hidden white text and other subtle alterations made by the employee.</p>
<p><strong>CTPH:</strong></p>
<ol>
<li>Preprocess the documents: Convert all the documents in the corporate file store and the known fraudulent letters to plain text, including the hidden white text, to ensure a consistent format for comparison.</li>
<li>Apply CTPH algorithm: Implement a CTPH algorithm, such as ssdeep, to generate fuzzy hash values for each document. The algorithm will create hashes that are similar for documents with similar content.</li>
<li>Set a similarity threshold: Determine an appropriate similarity threshold for comparing the generated fuzzy hashes. This threshold will depend on the desired balance between precision and recall in identifying similar documents.</li>
<li>Compare and flag potential matches: Compare the fuzzy hashes of the known fraudulent letters with those in the corporate file store. Flag any documents with hashes that exceed the set similarity threshold for further investigation.</li>
<li>Verify flagged documents: Manually review the flagged documents to ensure they are indeed fraudulent letters and not false positives. Make note of any discrepancies or issues to further refine the CTPH algorithm or similarity threshold, if necessary.</li>
<li>Preserve evidence and implement preventive measures: Once the fraudulent letters have been identified and extracted, preserve the evidence and consider implementing additional security measures to prevent similar incidents in the future.</li>
</ol>
<p>By employing CTPH, the technical team can identify fraudulent letters with similar content patterns, even when there are subtle differences such as the hidden white text. This approach should be more effective in detecting the homologous patterns between the known fraudulent letters and those in the file store compared to traditional hashing methods.</p>
<p><strong>c). The technical team are concerned that the hashing approach devised in (b) may not be appropriate in the given context. Identify potential concerns with the hashing approach devised in (b) for the given context.</strong></p>
<ol>
<li>Sensitivity to small changes: Although CTPH is designed to detect similar files, it may not always be sensitive enough to detect subtle differences, such as the hidden white text used in the fraudulent letters. This could lead to false negatives, where the technical team fails to identify some fraudulent letters.</li>
<li>False positives: CTPH can sometimes produce false positives, where non-fraudulent documents are flagged as potentially fraudulent due to similarity in content or structure. This could result in the technical team spending time and resources on manually reviewing non-fraudulent documents.</li>
<li>Scalability: Given that the corporate file store contains millions of documents, comparing the fuzzy hashes of the known fraudulent letters with those in the file store could be computationally expensive and time-consuming.</li>
<li>Accuracy: The accuracy of CTPH in identifying fraudulent letters depends on the chosen similarity threshold. Setting an appropriate threshold can be challenging, as a high threshold might result in false negatives, while a low threshold could lead to false positives.</li>
<li>Legal admissibility: There may be concerns about the legal admissibility of the evidence gathered using CTPH, as it relies on similarity rather than exact matches. The court may require additional validation or proof that the flagged documents are indeed fraudulent.</li>
</ol>
<p>Given these concerns, the technical team should carefully consider whether the CTPH approach is appropriate for their specific context. They may need to explore alternative methods, such as advanced text analytics or machine learning techniques, to more accurately and efficiently identify the fraudulent letters in the file store. Additionally, the technical team should consult with legal professionals to ensure the chosen approach meets the requirements for evidence admissibility in court.</p>
<p><strong>However, if we use LSH,</strong></p>
<p>Using locality-sensitive hashing (LSH) as your hash algorithm could be a suitable alternative for Conway Energyâ€™s case, as LSH is designed to identify similar documents by generating hashes that have a higher probability of colliding when the documents are similar. This approach can be more effective in identifying homologous patterns between the known fraudulent letters and those in the file store.</p>
<p>Still we need to consider the potential problems of LSH:</p>
<p>Locality-sensitive hashing (LSH) is a powerful technique for identifying similar documents, but it comes with some potential concerns that should be considered in the context of the Conway Energy case:</p>
<ol>
<li>False positives: LSH can produce false positives, where non-fraudulent documents are flagged as potentially fraudulent due to similarity in content or structure. This can lead to spending additional time and resources on manual review of non-fraudulent documents.</li>
<li>False negatives: Depending on the chosen similarity threshold and LSH algorithm, LSH can also produce false negatives, where fraudulent documents are not flagged due to insufficient similarity in their LSH hashes. This can result in missing important evidence.</li>
<li>Scalability: LSH requires a considerable amount of computation and storage, especially when dealing with large datasets like Conway Energyâ€™s corporate file store. This can lead to increased processing time and resource requirements.</li>
<li>Parameter selection: LSH algorithms often have several parameters that need to be fine-tuned, such as the similarity threshold, the number of hash functions, and the number of hash tables. Selecting appropriate parameters can be challenging and may require empirical testing and validation.</li>
<li>Preprocessing and feature extraction: LSH relies on converting documents into high-dimensional vectors, which may require considerable preprocessing and feature extraction, such as tokenization, stemming, and text vectorization using techniques like TF-IDF or word embeddings. This can be computationally expensive and may introduce additional complexity.</li>
<li>Legal admissibility: Similar to CTPH, there may be concerns about the legal admissibility of the evidence gathered using LSH, as it relies on similarity rather than exact matches. The court may require additional validation or proof that the flagged documents are indeed fraudulent.</li>
</ol>
<p>Given these potential concerns, the technical team should carefully consider whether the LSH approach is appropriate for their specific context. They may need to explore alternative methods or combine LSH with other techniques to improve accuracy, efficiency, and legal admissibility. Additionally, the technical team should consult with legal professionals to ensure the chosen approach meets the requirements for evidence admissibility in court.</p>
<ol start="4">
<li><h2 id="Laputa-University-Case"><a href="#Laputa-University-Case" class="headerlink" title="Laputa University Case"></a>Laputa University Case</h2></li>
</ol>
<p>The University of Laputa replaces computer systems for staff every five years. The management team have been informed by research staff that some systems have been replaced without sufficient notice and as a result important files have been lost. The management team have also been informed that some systems are being sold through various online auction websites, rather than being recycled.</p>
<p>The management team suspects a member of the systems support team has been selling the systems via online auction websites. The management team have authorised the digital investigations team to purchase several systems from online auction websites that they suspect have come from the institution. The management team have also authorised the digital investigation team to utilise appropriate data recovery techniques to recover files.</p>
<p><strong>a). The digital investigations team want to recover any previous Personal Storage Table (PST) files from many of the systems they have purchased from online auction websites. The digital investigations team believe such a file, in general, will not be heavily fragmented due to the numerous approaches adopted by modern file systems. Argue whether the position of the digital investigations team is accurate.</strong></p>
<p>The digital investigations teamâ€™s position that Personal Storage Table (PST) files, in general, will not be heavily fragmented due to the numerous approaches adopted by modern file systems is mostly accurate. However, some factors can still contribute to the fragmentation of PST files, even on modern file systems.</p>
<p>Modern file systems, such as NTFS, HFS+, and ext4, are designed to minimize fragmentation by using various allocation strategies and techniques. These file systems attempt to keep related data blocks close together and allocate new blocks in a way that minimizes fragmentation. As a result, the overall fragmentation of files on these file systems tends to be less severe compared to older file systems like FAT.</p>
<p>However, PST files, which are used by Microsoft Outlook to store email messages, contacts, and other data, can still become fragmented under certain conditions:</p>
<p>Large file sizes: PST files can grow quite large over time, especially if users have many emails and attachments. Large files can be more susceptible to fragmentation as they are more likely to be allocated in non-contiguous blocks.</p>
<p>Frequent updates: PST files are updated frequently as new emails are received, sent, or deleted. These updates can lead to fragmentation as the file system may need to allocate new blocks to accommodate the changes in file size and content.</p>
<p>Insufficient free space: If there is insufficient free space available on the storage device, it may be challenging for the file system to allocate contiguous blocks for new or updated data, resulting in fragmentation.</p>
<p>Multiple concurrent users: In a shared environment, multiple users might be accessing and modifying different files simultaneously. This can create a higher likelihood of fragmentation as the file system attempts to allocate blocks for various files concurrently.</p>
<p>While modern file systems are better at managing fragmentation, it is still essential for the digital investigations team to consider the factors mentioned above when attempting to recover PST files from the purchased systems. Fragmentation can affect the ease and success of the data recovery process, and the team may need to employ specialized data recovery tools or techniques to recover fragmented PST files effectively.</p>
<p><strong>b). The digital investigations team eventually assume the PST files they want to extract from the purchased systems are likely to comprise of more than two fragments and the relevant clusters are not necessarily in sequence. Devise and justify a carving approach to recover a single file in the given context. Highlight any limitations or constraints in the proposed solution.</strong></p>
<p>In the given context, the digital investigations team can employ a carving approach that combines signature-based carving and file system metadata analysis to recover the fragmented PST files. This approach involves the following steps:</p>
<ol>
<li>Signature-based carving: Scan the storage device for known file signatures or magic numbers associated with PST files. This process can help identify the starting point of each PST file fragment. Common magic numbers for PST files include <code>!BDN</code> for Outlook 97-2002 and <code>!BD0</code> for Outlook 2003 and later.</li>
<li>File system metadata analysis: Analyze the file system metadata to gather information about the allocation and location of clusters associated with PST files. This can help identify the correct sequence of fragmented clusters and uncover additional fragments that may not have been detected through signature-based carving.</li>
<li>Cluster chaining: Once the starting points of the file fragments and their metadata are identified, attempt to reconstruct the file by chaining the clusters in the correct order based on their allocation in the file system. This can be done using specialized data recovery tools or custom-built scripts.</li>
<li>File validation: After the PST file has been reconstructed, validate its integrity by checking its internal structure and attempting to open it using a compatible email client or PST viewer. This step helps ensure that the recovered file is complete and functional.</li>
<li>Iterative refinement: If the initial reconstruction is unsuccessful, refine the carving approach by adjusting parameters, such as the search window for signature-based carving or the cluster allocation strategy. Repeat the process until a successful recovery is achieved or it becomes clear that the file cannot be recovered.</li>
</ol>
<p>Limitations and constraints of the proposed solution:</p>
<ol>
<li>Incomplete recovery: The carving approach may not always be successful in recovering the entire PST file, particularly if some fragments are missing or corrupted.</li>
<li>Time-consuming: This process can be time-consuming, especially when dealing with large PST files or complex fragmentation patterns.</li>
<li>False positives: Signature-based carving can sometimes produce false positives, where unrelated data is mistakenly identified as part of the PST file.</li>
<li>Expertise required: The proposed carving approach requires a certain level of expertise in data recovery and file system analysis, as well as access to specialized tools or custom scripts.</li>
</ol>
<p>Despite these limitations, the proposed carving approach should provide the digital investigations team with a robust method for recovering fragmented PST files from the purchased systems. The team may need to iterate and refine the approach as necessary to maximize the chances of successful file recovery.</p>
<p><strong>c). The digital investigations team have since learned that they need to recover several PST files from each system, not just a single PST file. The digital investigations team have decided that the speed of recovery of the multiple files is more important than the accuracy of recovery. Devise a carving approach to recover multiple files in the given context. Highlight any limitations or constraints in the proposed solution.</strong></p>
<p>In the given context, where the speed of recovery is more important than accuracy, the digital investigations team can employ a streamlined carving approach to recover multiple PST files from each system. This approach involves the following steps:</p>
<ol>
<li>Signature-based carving: Perform a bulk scan of the storage device for known file signatures or magic numbers associated with PST files (e.g., <code>!BDN</code> for Outlook 97-2002 and <code>!BD0</code> for Outlook 2003 and later). This process helps identify the starting point of each PST file fragment.</li>
<li>File size estimation: Estimate the size of each PST file based on the distance between consecutive file signatures. This can help in the quick recovery of files without needing extensive file system metadata analysis.</li>
<li>File extraction: Extract the identified file fragments based on the estimated size and signature locations. This step may involve some level of over-extraction or under-extraction to ensure that complete files are recovered, at the expense of potential inaccuracies.</li>
<li>File validation (optional): If time permits, validate the integrity of the recovered PST files by checking their internal structure and attempting to open them using a compatible email client or PST viewer. This step can help identify any major issues with the recovered files.</li>
</ol>
<p>Limitations and constraints of the proposed solution:</p>
<ol>
<li>Inaccurate recovery: By prioritizing speed over accuracy, the carving approach may result in inaccurately recovered PST files, with potentially missing or corrupted data.</li>
<li>False positives: Signature-based carving can produce false positives, where unrelated data is mistakenly identified as part of the PST file. This may lead to the recovery of irrelevant or incomplete files.</li>
<li>File fragmentation: This approach does not account for fragmented files, which may result in incomplete recovery of some PST files.</li>
<li>File validation: Skipping or minimizing the file validation step can increase the risk of recovering unusable or corrupted files.</li>
<li>Expertise required: The proposed carving approach requires a certain level of expertise in data recovery and the ability to quickly analyze and adapt to the specific storage deviceâ€™s conditions.</li>
</ol>
<p>Despite these limitations, the proposed carving approach should provide the digital investigations team with a faster method for recovering multiple PST files from the purchased systems. The team may need to accept the trade-off between speed and accuracy, understanding that some of the recovered files may be incomplete or corrupted.</p>
<p><strong>d). The digital investigations team have recovered the PST file from one of the systems purchased online with the revelation that the PST does not belong to any researcher or member of the staff at the University of Laputa. The digital investigations team actually suspect the file might belong to another university. The digital investigations team have decided to investigate the system further to identify the specific individual. Argue whether the actions of the digital investigation team are appropriate in the given context.</strong></p>
<p>In the given context, the actions of the digital investigations team can be seen as both appropriate and inappropriate, depending on the objectives and the ethical considerations involved.</p>
<p>Arguments for the appropriateness of the digital investigations teamâ€™s actions:</p>
<ol>
<li>Prevent potential misuse of data: The recovery of a PST file that does not belong to any researcher or staff member at the University of Laputa raises concerns about the potential misuse of the data contained within it. Investigating the system further could help the team understand how this file ended up on the system and prevent any potential misuse of the information.</li>
<li>Uphold data privacy and security: Universities are responsible for protecting the privacy and security of personal and sensitive information. Investigating the origin of the unknown PST file and identifying the individual it belongs to could help the team ensure that the university is upholding its data protection obligations.</li>
</ol>
<p>Arguments against the appropriateness of the digital investigations teamâ€™s actions:</p>
<ol>
<li>Privacy concerns: Investigating the contents of a PST file that does not belong to a member of the University of Laputa could be seen as an invasion of privacy. The team should consider the ethical implications of accessing someone elseâ€™s personal data without their consent.</li>
<li>Legal considerations: The digital investigations team should be aware of any legal implications associated with accessing and analyzing data that does not belong to their institution. There might be laws and regulations that govern the handling of such data, and the team should ensure they are acting within the legal framework.</li>
<li>Scope of investigation: The primary objective of the investigation was to determine whether a member of the systems support team was selling university-owned systems online. The discovery of a PST file that does not belong to any researcher or staff member may not be directly relevant to this objective. The team should consider whether further investigation of the file falls within the scope of their initial mandate.</li>
</ol>
<p>In conclusion, the actions of the digital investigations team can be considered appropriate if they are conducted within legal and ethical boundaries and if they serve a legitimate purpose, such as protecting data privacy and security. However, the team should carefully weigh the potential risks and implications of their actions, ensuring they do not infringe upon the privacy rights of individuals or act outside the scope of their initial investigation.</p>
<h1 id="Sample-exam-paper-2020"><a href="#Sample-exam-paper-2020" class="headerlink" title="Sample exam paper 2020"></a>Sample exam paper 2020</h1><ol>
<li><h2 id="Lime-Legal-Case"><a href="#Lime-Legal-Case" class="headerlink" title="Lime Legal Case"></a>Lime Legal Case</h2></li>
</ol>
<p>The management team for Lime Legal, a large legal firm that conducts numerous digital investigations, has decided to develop its own hash function for use in digital investigations. The management team has commissioned a specialised software developer to design and implement the hash function. The specialised software developer states that compression is an important requirement for a hash function.</p>
<p><strong>a). Argue for another TWO important requirements for a hash function in the given  context. (approximately 200 words)</strong></p>
<p>è¦æƒ³è¦è®¾è®¡ä¸€ä¸ªå“ˆå¸Œç®—æ³•ï¼Œéœ€è¦æ»¡è¶³ä»¥ä¸‹å‡ ç‚¹è¦æ±‚ï¼š</p>
<ol>
<li>ä»å“ˆå¸Œå€¼ä¸èƒ½åå‘æ¨å¯¼å‡ºåŸå§‹æ•°æ®ï¼ˆå“ˆå¸Œç®—æ³•æ›´å¤šç®—æ˜¯ä¸€ç§å•å‘åŠ å¯†ç®—æ³•ï¼‰ã€‚</li>
<li>å¯¹è¾“å…¥æ•°æ®æ•æ„Ÿï¼Œè¾“å…¥æ•°æ®åªè¦æ”¹å˜ 1 bitï¼Œé‚£ä¹ˆæœ€ç»ˆå¾—åˆ°çš„å“ˆå¸Œå€¼ä¹Ÿè¦ä¸åŒã€‚</li>
<li>å†²çªçš„æ¦‚ç‡è¦å°ï¼Œå³å¯¹äºä¸åŒçš„åŸå§‹æ•°æ®ï¼Œå“ˆå¸Œå€¼ç›¸åŒçš„æ¦‚ç‡éå¸¸å°ã€‚</li>
<li>å“ˆå¸Œç®—æ³•çš„æ‰§è¡Œæ•ˆç‡è¦é«˜ï¼Œé’ˆå¯¹è¾ƒé•¿çš„æ–‡æœ¬ï¼Œä¹Ÿèƒ½å¿«é€Ÿè®¡ç®—å‡ºå“ˆå¸Œå€¼ã€‚</li>
</ol>
<p>While compression is indeed an important requirement for a hash function, there are two other crucial requirements that must be considered for Lime Legalâ€™s digital investigations: security and performance.</p>
<p>Firstly, security is paramount for a hash function in the context of digital investigations. A secure hash function needs to exhibit several properties, including collision resistance, preimage resistance, and second preimage resistance. Collision resistance ensures that it is computationally infeasible to find two distinct inputs that map to the same hash output, which is crucial to maintain the integrity of the evidence. Preimage resistance makes it difficult to find an input for a given hash output, while second preimage resistance ensures that it is hard to find a different input with the same hash output as an existing input. These security properties are essential for Lime Legalâ€™s work as they ensure the reliability and trustworthiness of the digital evidence in legal proceedings.</p>
<p>Secondly, performance is another key requirement for a hash function in digital investigations. Lime Legalâ€™s work likely involves processing large volumes of data in a timely manner. As such, the hash function must be efficient in terms of computational and memory requirements. A fast and resource-efficient hash function will not only minimize the time spent on processing the data but also reduce the likelihood of bottlenecks in the investigation process. This enables Lime Legal to provide more effective and timely services to their clients.</p>
<p>In conclusion, besides compression, security and performance are two essential requirements for a hash function in the context of Lime Legalâ€™s digital investigations. Ensuring a secure and efficient hash function will not only maintain the integrity of digital evidence but also enhance the effectiveness of the firmâ€™s investigative processes.</p>
<p><strong>b). The specialised software developer states that elements of the bespoke hash  function will rely upon some internal initial values and constants. The  specialised software developer states that these values and constants will be generated using a sophisticated and secret algorithm. The specialised software  developer informs the management team that the initial values and constants  will be made public along with the design and implementation details, but the  algorithm to generate them will be kept secret and managed by the company.  Argue whether the approach favoured by the specialised software developer is  appropriate in the given context.(approximately 400 words)</strong></p>
<p>One of the primary concerns is the lack of transparency in the process. In the field of cryptography, it is widely accepted that security should rely on the <strong>strength of the algorithm</strong> rather than the secrecy of its design. This principle is known as <strong>Kerckhoffsâ€™s principle</strong>. By keeping the algorithm for generating initial values and constants secret, Lime Legal risks undermining the trust and credibility of their hash function. Digital evidence generated using a hash function with undisclosed components may face challenges in legal proceedings, as opposing parties could question its integrity.</p>
<p>Additionally, the secrecy of the algorithm prevents independent verification and analysis by the broader cryptographic community. Peer review and open scrutiny are essential to establishing the security and reliability of cryptographic algorithms. Closed-source designs may contain unintentional flaws or vulnerabilities that would otherwise be identified and resolved through a transparent review process.</p>
<p>Furthermore, the reliance on a secret algorithm for generating initial values and constants introduces the possibility of a single point of failure. If the secret algorithm is compromised, the entire hash function could be rendered insecure, potentially jeopardizing ongoing and past investigations.</p>
<p>In conclusion, the approach favored by the specialized software developer is not appropriate in the given context. Lime Legal should consider adhering to established cryptographic principles and industry best practices, which emphasize transparency, open scrutiny, and independent verification to ensure the credibility and robustness of their bespoke hash function.</p>
<p><strong>c). The specialised software developer is not entirely sure how to design the bespoke hash function. Devise a potential hash function that exhibits a Merkle-DamgÃ¥rd construction, highlight and argue the importance of any core components. (approximately 400 words)</strong></p>
<p><strong>d). The management team want to employ the use of the bespoke hash function to identify unauthorised files on employee smartphones and laptops. The specialised software developer states they can develop a system that can be used to rapidly inspect employee smartphones and laptops as part of random security searches as employees leave campus. A member of the management team is concerned that such a process may violate the privacy of the employee and some employees may feel targeted. Argue whether the approach favoured by the management team is appropriate  in the given context.(approximately 250 words)</strong></p>
<ol start="2">
<li><h2 id="Orange-Entertainment"><a href="#Orange-Entertainment" class="headerlink" title="Orange Entertainment"></a>Orange Entertainment</h2></li>
</ol>
<p>The management team for Orange Entertainment want to recover files from a Microsoft Windows 10 workstation that have been destroyed by a disgruntled employee. The management team believe the employee destroyed the files as they had been manipulating them for their own gain over several months. The management team have authorised the systems support team to recover the files as part of their investigation. The systems support team have allocated trainees Bill and Ben to lead the investigation and recover the files.</p>
<p><strong>a). Ben has identified ShadowExplorer as a useful tool to recover files from the Microsoft Windows 10 workstation.Discuss TWO relevant features of the ShadowExplorer tool and argue the relevance in the given context. (approximately 200 words)</strong></p>
<p>ShadowExplorer is a valuable tool for recovering lost or damaged files, offering two key features that make it particularly relevant for the Orange Entertainment management teamâ€™s investigation.</p>
<ol>
<li>Access to Shadow Copies: Since it is a Windows OS, One of the primary features of ShadowExplorer is its ability to access and browse through the shadow copies of files created by the Windows Volume Shadow Copy Service (VSS) on Windows. These shadow copies act as snapshots of the files and their respective states at different points in time. In the context of Orange Entertainmentâ€™s investigation, this feature is crucial as it allows Bill and Ben to potentially recover earlier versions of the manipulated files. By restoring these earlier versions, the management team can gain insight into the disgruntled employeeâ€™s actions and better understand the extent of the manipulation.</li>
<li>User-friendly interface: ShadowExplorerâ€™s intuitive and user-friendly interface is another important feature that makes it suitable for the investigation. The tool presents a familiar Explorer-like interface, enabling Bill and Ben to easily navigate through the shadow copies and locate the relevant files. This ease of use will help streamline the recovery process, allowing the trainees to efficiently identify and restore the destroyed files. Furthermore, since both Bill and Ben are trainees, the simplicity of the tool will make it easier for them to learn and utilize in their investigation, reducing the chances of making mistakes during the recovery process.</li>
</ol>
<p>In summary, ShadowExplorerâ€™s ability to access shadow copies and its user-friendly interface make it an ideal tool for Bill and Ben to recover the destroyed files, providing Orange Entertainmentâ€™s management team with the information they need to assess the situation and address the employeeâ€™s misconduct.</p>
<p><strong>b. Bill has decided to use ShadowExplorer on the employee workstation in-situ, but Ben is concerned if such an approach is appropriate. Ben also suggests the pair should at least take some simple notes of their actions, Bill argues it is not necessary. Critique the differing positions of Bill and Ben in the given context.(approximately 300 words)</strong></p>
<p>Billâ€™s decision to use ShadowExplorer directly on the employee workstation in-situ might seem efficient and time-saving; however, Benâ€™s concerns are valid, particularly in the context of an investigation where preserving evidence and maintaining a clear chain of custody is crucial.</p>
<p>Using ShadowExplorer in-situ poses <strong>several risks</strong>. First, the process might inadvertently alter the state of the workstation, potentially corrupting or overwriting evidence. Such modifications can jeopardize the <strong>integrity of the investigation</strong> and might also <strong>impact the legal admissibility of the evidence</strong>, should the management team decide to pursue legal action against the disgruntled employee. Instead, it is more appropriate to <strong>create a forensic image</strong> of the hard drive and work on a copy of that image to ensure the original data remains unaltered.</p>
<p>Second, working directly on the employee workstation increases the risk of <strong>accidental data loss or damage</strong>, especially given that both Bill and Ben are trainees. Utilizing a forensic copy provides a <strong>safety net</strong>, allowing them to <strong>revert</strong> to the original state if any mistakes are made during the recovery process <strong>(investigation revertiable)</strong>.</p>
<p>Regarding the documentation of their actions, Benâ€™s suggestion to take simple notes is actually a necessary step in a proper investigation. Maintaining detailed records of their actions, tools used, and findings is essential for several reasons:</p>
<ol>
<li>Accountability: Documenting the investigation process ensures that all actions taken can be justified and reviewed, which helps maintain the credibility and integrity of the investigation.</li>
<li>Reproducibility: Detailed notes allow others, including senior team members or external experts, to review and reproduce the steps taken in the investigation if needed, helping to validate the findings.</li>
<li>Legal purposes: Should the case go to court, proper documentation is vital for establishing the chain of custody and proving the legitimacy of the evidence obtained.</li>
</ol>
<p>In conclusion, Benâ€™s concerns about using ShadowExplorer in-situ and the need for documentation are valid. Adopting a more cautious approach that preserves the integrity of the evidence and maintains a clear record of their actions will not only improve the quality of the investigation but also ensure that the recovered data can be used effectively in any potential legal proceedings.</p>
<h1 id="2019-Sample-Paper"><a href="#2019-Sample-Paper" class="headerlink" title="2019 Sample Paper"></a>2019 Sample Paper</h1><h2 id="1-Janus-in-BBFS"><a href="#1-Janus-in-BBFS" class="headerlink" title="1. Janus in BBFS"></a>1. Janus in BBFS</h2><p>Janus is a software engineer for Bill and Ben Financial Services (BBFS). Janus has concerns about algorithms that unfairly disadvantage business customers. Janus has raised it with his line manager, but she was disinterested in his concerns. Janus decides to effectively smuggle elements of source code and associated documents outside the organisation using an external disk.</p>
<p><strong>(a) Janus is aware that the company utilises forensic techniques to identify encrypted files on external disks taken outside the organisation. Janus decides to smuggle the data via an external disk using steganography.Contrast steganography with cryptography and argue for steganography in the given context.[4]</strong></p>
<p>Steganography and cryptography are two distinct techniques used for protecting and concealing data. While both methods have their applications, steganography might be more suitable for Janusâ€™s situation due to its ability to hide information within other data.</p>
<p>Steganography involves concealing information within another file or data stream, such as an image, audio, or video file, in such a way that it is virtually undetectable to an observer. The information is embedded in the carrier file without changing its perceptible characteristics, making it difficult to identify the presence of hidden data. This technique allows for the secret transfer of information, as the carrier file appears innocuous and attracts little suspicion.</p>
<p>Cryptography, on the other hand, focuses on encrypting data to make it unreadable and incomprehensible to unauthorized parties. While cryptography protects the contents of a message, it does not hide the fact that encrypted data exists. Encrypted files can draw attention and raise suspicion, potentially leading to further investigation.</p>
<p>In the given context, steganography might be more suitable for Janusâ€™s needs. Since BBFS uses forensic techniques to identify encrypted files, using cryptography to protect the data on an external disk could raise red flags and make it more likely for Janusâ€™s actions to be discovered. Steganography, however, would allow Janus to hide the source code and documents within seemingly harmless files, avoiding detection by BBFSâ€™s security measures. By employing steganography, Janus can minimize the risk of his actions being discovered while still smuggling the data out of the organization.</p>
<p><strong>(b) Janus has decided to use the Bit Plane Complexity Segmentation (BPCS) algorithm to ensure high-capacity use of vessel images. Janus wants to ensure that insertion of the payload will not result in images that are vulnerable to human visualinspection. Janus plans to use several holiday images in Pure Binary Coding (PBC) with many â€˜noisyâ€™ qualities, e.g. sand and rain. Explain THREE operations of the BPCS algorithm to ensure the payload is effectively hidden in the given context.[9]</strong></p>
<p><strong>BPCS-éšå†™æœ¯ï¼ˆBit-Plane Complexity Segmentation steganographyï¼‰æ˜¯</strong><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/File_camouflage">æ•°å­—éšå†™æœ¯</a>çš„ä¸€ç§ã€‚</p>
<p>æ•°å­—éšå†™æœ¯å¯ä»¥é€šè¿‡å°†æœºå¯†æ•°æ®ï¼ˆå³ç§˜å¯†æ–‡ä»¶ï¼‰åµŒå…¥åˆ°ä¸€äº›ç§°ä¸ºâ€œå®¹å™¨æ•°æ®â€çš„åª’ä½“æ•°æ®ä¸­æ¥éå¸¸å®‰å…¨åœ°éšè—å®ƒä»¬ã€‚å®¹å™¨æ•°æ®ä¹Ÿç§°ä¸ºâ€œæ‰¿è¿äººã€å°é¢æˆ–è™šæ‹Ÿæ•°æ®â€ã€‚åœ¨ BPCS éšå†™æœ¯ä¸­ï¼Œ<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/24-bit_color">çœŸå½©è‰²</a>å›¾åƒï¼ˆå³<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/24-bit_color">24 ä½å½©è‰²</a>å›¾åƒï¼‰ä¸»è¦ç”¨äºè¡€ç®¡æ•°æ®ã€‚å®é™…ä¸­çš„åµŒå…¥æ“ä½œæ˜¯ç”¨æœºå¯†æ•°æ®æ›¿æ¢è¡€ç®¡å›¾åƒ<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Bit_plane">ä½å¹³é¢</a>ä¸Šçš„â€œå¤æ‚åŒºåŸŸâ€ ã€‚BPCS-éšå†™æœ¯æœ€é‡è¦çš„æ–¹é¢æ˜¯åµŒå…¥å®¹é‡éå¸¸å¤§ã€‚ä¸ä»…ä½¿ç”¨æœ€ä¸é‡è¦çš„æ•°æ®ä½çš„ç®€å•å›¾åƒéšå†™æœ¯ç›¸æ¯”ï¼Œå› æ­¤ï¼ˆå¯¹äº<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/24-bit_color">24 ä½é¢œè‰²</a>å›¾åƒï¼‰åªèƒ½åµŒå…¥ç›¸å½“äºæ€»å¤§å° 1&#x2F;8 çš„æ•°æ®ï¼Œè€Œ BPCS éšå†™æœ¯ä½¿ç”¨å¤šä¸ªä½å¹³é¢ï¼Œå› æ­¤å¯ä»¥åµŒå…¥æ›´å¤šçš„æ•°æ®ï¼Œå°½ç®¡è¿™å–å†³äºå•ä¸ªå›¾åƒã€‚å¯¹äºâ€œæ­£å¸¸â€å›¾åƒï¼Œåœ¨å›¾åƒé€€åŒ–å˜å¾—æ˜æ˜¾ä¹‹å‰ï¼Œå¤§çº¦ 50% çš„æ•°æ®å¯èƒ½å¯ä»¥ç”¨ç§˜å¯†æ•°æ®æ›¿æ¢ã€‚</p>
<p>æ¯”ç‰¹å¹³é¢å¤æ‚åº¦åˆ†å‰²ï¼ˆBPCSï¼‰ç®—æ³•æ˜¯ä¸€ç§æœ‰æ•ˆçš„éšå†™æœ¯æ–¹æ³•ï¼Œç”¨äºåœ¨å›¾åƒä¸­éšè—æ•°æ®ï¼Œç‰¹åˆ«æ˜¯é‚£äº›å…·æœ‰ â€œå™ªéŸ³ â€œæ€§è´¨çš„å›¾åƒã€‚åœ¨Janusçš„æ¡ˆä¾‹ä¸­ï¼Œä½¿ç”¨å¸¦æœ‰æ²™å­å’Œé›¨æ°´çš„å‡æ—¥å›¾åƒå¯¹BPCSéšå†™æœ¯æ˜¯æœ‰åˆ©çš„ã€‚ä»¥ä¸‹æ˜¯BPCSç®—æ³•çš„ä¸‰ä¸ªå…³é”®æ“ä½œï¼Œæœ‰åŠ©äºç¡®ä¿æœ‰æ•ˆåœ°éšè—æœ‰æ•ˆè½½è·ï¼š</p>
<p>åˆ†è§£ä¸ºä½å¹³é¢ï¼š BPCSç®—æ³•é¦–å…ˆå°†å®¹å™¨å›¾åƒåˆ†è§£ä¸ºä¸€ç³»åˆ—çš„ä½å¹³é¢ã€‚æ¯ä¸ªæ¯”ç‰¹å¹³é¢ä»£è¡¨äº†å›¾åƒäºŒè¿›åˆ¶è¡¨ç¤ºæ³•ä¸­çš„ä¸åŒé‡è¦æ€§æ°´å¹³ã€‚ä¾‹å¦‚ï¼Œæœ€é‡è¦çš„ä½ï¼ˆMSBï¼‰å¹³é¢åŒ…å«æœ€é«˜çš„å¯¹æ¯”åº¦ä¿¡æ¯ï¼Œè€Œæœ€ä¸é‡è¦çš„ä½ï¼ˆLSBï¼‰å¹³é¢åŒ…å«æœ€ä½çš„å¯¹æ¯”åº¦ä¿¡æ¯ã€‚é€šè¿‡ä»¥è¿™ç§æ–¹å¼åˆ†è§£å›¾åƒï¼ŒBPCSå¯ä»¥æ“ä½œå¯¹æ¯”åº¦è¾ƒä½ã€â€å™ªéŸ³è¾ƒå¤§ â€œçš„ä½å¹³é¢æ¥åµŒå…¥æœ‰æ•ˆè½½è·ï¼Œè€Œä¸ä¼šå¯¹å›¾åƒé€ æˆæ˜æ˜¾çš„å˜åŒ–ã€‚</p>
<p>å¤æ‚åº¦è®¡ç®—å’Œåˆ†å‰²ï¼š BPCSé€šè¿‡è®¡ç®—ä¸åŒå€¼ï¼ˆ0æˆ–1ï¼‰çš„æ¥å£¤åƒç´ å¯¹çš„æ¯”ä¾‹æ¥è¯„ä¼°æ¯ä¸ªä½é¢æ®µçš„å¤æ‚æ€§ã€‚å¦‚æœä¸€ä¸ªç‰‡æ®µçš„å¤æ‚æ€§è¶…è¿‡äº†é¢„å®šçš„é˜ˆå€¼ï¼Œå®ƒå°±è¢«è®¤ä¸ºæ˜¯ â€œæœ‰å™ªå£° â€œçš„ï¼Œé€‚åˆåµŒå…¥æœ‰æ•ˆè½½è·ã€‚åœ¨Janusçš„æ¡ˆä¾‹ä¸­ï¼Œä½¿ç”¨å¸¦æœ‰æ²™å­å’Œé›¨æ°´çš„å›¾åƒå¢åŠ äº†å¯ç”¨äºæ•°æ®éšè—çš„å¤æ‚ç‰‡æ®µçš„æ•°é‡ã€‚è¿™æœ‰åŠ©äºç¡®ä¿æœ‰æ•ˆè½½è·è¢«å¾ˆå¥½åœ°éšè—èµ·æ¥ï¼Œéš¾ä»¥è¢«äººç±»çš„è§†è§‰æ£€æŸ¥æ‰€å‘ç°ã€‚</p>
<p>è‡ªé€‚åº”çš„æ•°æ®åµŒå…¥ï¼š BPCSå°†æœ‰æ•ˆè½½è·åµŒå…¥åˆ°ä¸Šä¸€æ­¥ç¡®å®šçš„å¤æ‚ç‰‡æ®µä¸­ã€‚é€šè¿‡æ ¹æ®å…¶å¤æ‚æ€§è‡ªé€‚åº”åœ°é€‰æ‹©åˆé€‚çš„ç‰‡æ®µï¼ŒBPCSç¡®ä¿åµŒå…¥çš„æ•°æ®ä¸ä¼šå¯¹å›¾åƒé€ æˆæ˜æ˜¾çš„å˜åŒ–ã€‚è¯¥ç®—æ³•ä»¥ä¿æŒå›¾åƒçš„æ•´ä½“å¤æ‚æ€§çš„æ–¹å¼ï¼Œç”¨æœ‰æ•ˆè½½è·æ•°æ®æ›¿æ¢åŸå§‹çš„å¤æ‚ç‰‡æ®µã€‚è¿™ç§è‡ªé€‚åº”çš„åµŒå…¥è¿‡ç¨‹å¯¹äºåœ¨ç»™å®šçš„ç¯å¢ƒä¸­æœ‰æ•ˆåœ°éšè—æœ‰æ•ˆè½½è·è‡³å…³é‡è¦ï¼Œå› ä¸ºå®ƒå‡å°‘äº†é€šè¿‡è§†è§‰æ£€æŸ¥å‘ç°çš„é£é™©ã€‚</p>
<p>é€šè¿‡ä½¿ç”¨BPCSç®—æ³•ï¼ŒJanuså¯ä»¥åˆ©ç”¨å‡æ—¥å›¾åƒçš„å™ªå£°ç‰¹æ€§æ¥æœ‰æ•ˆåœ°éšè—æœ‰æ•ˆè½½è·ã€‚åˆ†è§£ä¸ºä½å¹³é¢ï¼Œå¤æ‚åº¦è®¡ç®—å’Œåˆ†å‰²ï¼Œä»¥åŠè‡ªé€‚åº”æ•°æ®åµŒå…¥æ“ä½œå…±åŒä½œç”¨ï¼Œç¡®ä¿éšè—çš„æ•°æ®éš¾ä»¥è¢«å‘ç°ï¼ŒåŒæ—¶å¯¹å›¾åƒçš„è§†è§‰è´¨é‡å½±å“æœ€å°ã€‚</p>
<p><strong>(c) Janus is planning on implementing the BPCS algorithm on his workstation as to ensure he can embed payload data in the vessel images.Devise a simple BPCS algorithm to embed payload data in vessel images.[6]</strong></p>
<p>A simple BPCS algorithm for embedding payload data in vessel images can be broken down into the following steps:</p>
<ol>
<li>Image Preparation: Convert the vessel image to a suitable format, such as a lossless format like PNG or BMP, to prevent compression artifacts from affecting the steganography process. Resize the image if necessary to accommodate the payload data.</li>
<li>Bit Plane Decomposition: Decompose the vessel image into a series of bit planes. Separate the image into its color channels (e.g., red, green, and blue) and represent each channel using binary values. Then, create bit planes for each level of significance, from the most significant bit (MSB) to the least significant bit (LSB).</li>
<li>Payload Preparation: Convert the payload data into binary format. You may consider compressing and encrypting the data beforehand to further protect and optimize the payload.</li>
<li>Complexity Calculation and Segmentation: Evaluate the complexity of each bit plane segment by calculating the proportion of bordering pixel pairs with different values (0 or 1). If a segmentâ€™s complexity surpasses a predefined threshold, it is considered â€˜noisyâ€™ and suitable for embedding the payload.</li>
<li>Adaptive Data Embedding: Iterate through the noisy segments identified in the previous step, and embed the payload data by replacing the original complex segments. Ensure that the embedding process maintains the overall complexity of the image to avoid arousing suspicion.</li>
<li>Image Reconstruction: Reassemble the modified bit planes into their respective color channels, and then combine the channels to create the final stego-image. Save the stego-image in a lossless format to preserve the embedded data.</li>
<li>Payload Extraction: To extract the payload data from the stego-image, reverse the process by decomposing the stego-image into bit planes, identifying the noisy segments where the payload data was embedded, and reconstructing the original payload data from the binary values stored in those segments.</li>
</ol>
<p>By following these steps, Janus can implement a simple BPCS algorithm to effectively embed payload data in vessel images. The use of noisy segments for data embedding makes the hidden information difficult to detect through visual inspection, providing a level of security for the concealed data.</p>
<p><strong>(d) Janus is concerned that inspection techniques will reveal use of the steganography approach. Janus is concerned he will be legally required to reveal the devised algorithm in (c) to relevant authorities under the (UK) Regulation of Investigatory Powers Act 2000 (RIPA).Argue whether Janus would be required to reveal the devised algorithm in (c) under the (UK) Regulation of Investigatory Powers Act 2000 (RIPA).[4]</strong></p>
<p>While I am not a legal expert, I can provide some general information on the matter. The Regulation of Investigatory Powers Act 2000 (RIPA) in the UK provides a legal framework for the use of investigatory powers by authorities, including the interception of communications, acquisition of communications data, and the use of covert human intelligence sources, among others.</p>
<p>Under Part III of RIPA, authorities may legally demand the disclosure of protected information, which includes encrypted data or keys necessary to decrypt the information. If served with a notice under RIPA, individuals or organizations are required to provide the requested information or assistance, or face penalties for non-compliance.</p>
<p>In the case of Janus, if the relevant authorities become aware of his use of steganography and suspect that he has hidden sensitive or illegal information within the images, they may issue a notice under RIPA, requiring Janus to disclose the hidden data or provide the necessary means to access it. This could potentially include revealing the BPCS algorithm devised in (c).</p>
<p>However, RIPA notices are typically issued when there is a justified need for access to the protected information, such as in cases of national security, crime prevention, or public safety concerns. Whether Janus would be required to reveal the devised algorithm under RIPA would depend on the specific circumstances of his case and whether the authorities deem it necessary to obtain the hidden data for a lawful purpose.</p>
<p>It is essential for Janus to consider the legal implications of his actions and consult with a legal professional if he has concerns regarding the use of steganography and potential requirements under RIPA.</p>
<h2 id="2-Pagli-and-Antonellis"><a href="#2-Pagli-and-Antonellis" class="headerlink" title="2. Pagli and Antonellis"></a>2. Pagli and Antonellis</h2><p>Pagli and Antonellis are novice cyber system forensic investigators and have started a small start-up business. The pair have invested in two, basic laptop computers. The pair have been contracted by a large company to investigate an employee workstation. The company has multiple workstations, comprising of basic components, e.g. limited processing capabilities. The company management are particularly interested in specific Microsoft Word documents. The company state the workstations do not make use of any anti-forensics techniques, e.g. full-disk encryption.</p>
<p><strong>(a) Pagli and Antonellis have recovered the files of particular interest to company management but have discovered the files are encrypted and protected by unknown passwords. The pair are concerned that the passwords are sophisticated and cannot be easily determined. Pagli argues that the Distributed Network Attack (DNA) software tool from AccessData could be valuable.Describe TWO technical approaches employed by Distributed Network Attack(DNA) tool and argue the relevance in the given context[6]</strong></p>
<p>The Distributed Network Attack (DNA) tool from AccessData is designed to assist in recovering passwords for encrypted files by leveraging the power of distributed computing. In the given context, where Pagli and Antonellis have recovered encrypted Microsoft Word documents with unknown passwords, DNA could be a valuable tool to help them gain access to the files. Here are two technical approaches employed by the DNA tool and their relevance in this context:</p>
<ol>
<li>Brute-force attack: DNA can perform a brute-force attack, which involves systematically attempting every possible password combination until the correct one is found. Brute-force attacks can be time-consuming, especially if the password is long and complex. However, DNAâ€™s distributed computing capabilities allow it to harness the processing power of multiple computers, including the companyâ€™s workstations, to expedite the password recovery process. This distributed approach makes it more feasible to crack sophisticated passwords within a reasonable time frame, increasing the likelihood of success for Pagli and Antonellis.</li>
<li>Dictionary attack: Another approach employed by DNA is the dictionary attack. This method involves using a precompiled list of words, phrases, or known passwords (a dictionary) to attempt to guess the password. DNA can also utilize rules-based variations, such as common substitutions or character additions, to further expand the list of potential passwords. Dictionary attacks are generally faster than brute-force attacks, as they focus on more likely password candidates. In the given context, this approach could be relevant if the employee used a password based on a dictionary word, a common phrase, or a known pattern.</li>
</ol>
<p>In conclusion, the Distributed Network Attack tool could be valuable for Pagli and Antonellis in their efforts to recover the passwords for the encrypted Microsoft Word documents. By employing both brute-force and dictionary attacks, while utilizing distributed computing resources, DNA increases the chances of successfully cracking the passwords, even if they are sophisticated. This would ultimately help Pagli and Antonellis fulfill their contract and provide the company management with access to the files of interest.</p>
<p><strong>(b) Antonellis argues that the pair cannot afford to invest in Distributed Network Attack (DNA) software as resources are limited. Pagli argues that tool would be invaluable to the current case. Antonellis argues the pair should use a combination of command line tools and tailored scripts.Compare and contrast the tools suggested by Pagli and Antonellis and argue for the optimal approach in the given context.[8]</strong></p>
<p>Both the Distributed Network Attack (DNA) software and a combination of command line tools and tailored scripts have their merits and drawbacks in the given context. Here, we will compare and contrast these approaches and argue for the optimal solution for Pagli and Antonellis.</p>
<p>Distributed Network Attack (DNA) software: Pros:</p>
<ol>
<li>Comprehensive and user-friendly: DNA is a dedicated tool designed for password recovery, with built-in features and functionality that simplify the process for users.</li>
<li>Distributed computing: DNA leverages the power of multiple computers to speed up the password recovery process, making it more efficient for cracking complex passwords.</li>
<li>Multiple attack strategies: DNA supports both brute-force and dictionary attacks, offering a versatile approach to password recovery.</li>
</ol>
<p>Cons:</p>
<ol>
<li>Cost: DNA may be expensive, particularly for a small start-up with limited resources.</li>
<li>Overkill for simple cases: DNAâ€™s advanced capabilities may not be necessary if the target password is weak or follows a predictable pattern.</li>
</ol>
<p>Command line tools and tailored scripts: Pros:</p>
<ol>
<li>Cost-effective: Using open-source command line tools and custom scripts can be more budget-friendly, as there is no need to invest in expensive software.</li>
<li>Flexibility: Tailored scripts can be customized to the specific needs of the case, allowing Pagli and Antonellis to adapt their approach as required.</li>
</ol>
<p>Cons:</p>
<ol>
<li>Time-consuming setup: Developing and configuring custom scripts and tools may require a significant investment of time and expertise.</li>
<li>Limited scalability: The performance of command line tools and scripts may be constrained by the available hardware resources, making it less suitable for cracking complex passwords in a timely manner.</li>
</ol>
<p>In the given context, the optimal approach depends on several factors, including the available budget, time constraints, and the complexity of the passwords. If Pagli and Antonellis believe that the encrypted files are of high importance and the passwords are likely to be sophisticated, investing in the DNA software could prove invaluable for its speed, efficiency, and user-friendly features. The distributed computing capabilities and the support for multiple attack strategies can significantly increase the chances of success.</p>
<p>However, if the pairâ€™s budget is truly limited and they possess the technical expertise to develop custom scripts, using command line tools and tailored scripts may be a more cost-effective alternative. This approach would allow them to retain control over the process and adapt their strategy to the specific case.</p>
<p>Ultimately, the optimal approach will depend on the pairâ€™s assessment of the caseâ€™s importance, the potential value of the encrypted files, and their available resources. It is crucial for Pagli and Antonellis to weigh the pros and cons of each option carefully before deciding on the best course of action.</p>
<h1 id="Terminology-amp-Jargons"><a href="#Terminology-amp-Jargons" class="headerlink" title="Terminology&amp;Jargons:"></a>Terminology&amp;Jargons:</h1><p><strong>FDE:</strong> </p>
<p>Full Disk Encryption (FDE) is an encryption technology implemented on hard disk drives or solid state drives. It protects all data stored on the disk, including operating system, program files, user data, etc. Its main purpose is to ensure that sensitive data on the disk cannot be deciphered in case of unauthorized access.</p>
<p><strong>File Carving:</strong> </p>
<p>File carving is a process used in [computer forensics](<a target="_blank" rel="noopener" href="https://www.infosecinstitute.com/courses/computer-forensics-boot-camp/?utm_source=resources&amp;utm_medium=infosec">https://www.infosecinstitute.com/courses/computer-forensics-boot-camp/?utm_source=resources&amp;utm_medium=infosec</a> network&amp;utm_campaign&#x3D;course pricing&amp;utm_content&#x3D;hyperlink) to extract data from a disk drive or other storage device without the assistance of the file system that originality created the file. </p>
<p><strong>Unallocated area:</strong> </p>
<p>Unallocated space refers to the area of the drive which no longer holds any file information as indicated by the file system structures like the file table. </p>
<p><strong>Ip:</strong>  </p>
<p>investigative process.</p>
<p><strong>DFI</strong>(Digital forensics investigation): </p>
<p>investigate the tool of crime and subject of crime.</p>
<p><strong>Hash</strong>:</p>
<p>å“ˆå¸Œç®—æ³•æ˜¯æŒ‡å°†ä»»æ„é•¿åº¦çš„äºŒè¿›åˆ¶å€¼ä¸²æ˜ å°„ä¸ºå›ºå®šé•¿åº¦çš„äºŒè¿›åˆ¶å€¼ä¸²ã€‚åŸå§‹æ•°æ®ç»è¿‡æ˜ å°„ä¹‹åå¾—åˆ°çš„äºŒè¿›åˆ¶å€¼ä¸²å°±æ˜¯å“ˆå¸Œå€¼ã€‚</p>
<p><strong>MD5åŠ å¯†åŸç†æ­¥éª¤</strong>:</p>
<p>â€‹	<strong>a). å¡«å……ï¼Œå°†å…¶é•¿åº¦å¡«å……ä¸º512çš„æ•´æ•°å€:</strong></p>
<p>â€‹	å¡«å……çš„æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<p>â€‹	<strong>1)</strong> åœ¨ä¿¡æ¯çš„åé¢å¡«å……ä¸€ä¸ª1å’Œæ— æ•°ä¸ª0ï¼Œç›´åˆ°æ»¡è¶³ä¸Šé¢çš„æ¡ä»¶æ—¶æ‰åœæ­¢ç”¨0å¯¹ä¿¡æ¯çš„å¡«å……ã€‚</p>
<p>â€‹	<strong>2)</strong> åœ¨è¿™ä¸ªç»“æœåé¢é™„åŠ ä¸€ä¸ªä»¥64ä½äºŒè¿›åˆ¶è¡¨ç¤ºçš„å¡«å……å‰ä¿¡æ¯é•¿åº¦ï¼ˆå•ä½ä¸ºBitï¼‰ï¼Œå¦‚æœäºŒ</p>
<p>â€‹	è¿›åˆ¶è¡¨ç¤ºçš„å¡«å……å‰ä¿¡æ¯é•¿åº¦è¶…è¿‡64ä½ï¼Œåˆ™å–ä½64ä½ã€‚</p>
<p>â€‹	ç»è¿‡è¿™ä¸¤æ­¥çš„å¤„ç†ï¼Œä¿¡æ¯çš„ä½é•¿&#x3D;N<em>512+448+64&#x3D;(N+1ï¼‰</em>512ï¼Œå³é•¿åº¦æ°å¥½æ˜¯512çš„æ•´æ•°å€ã€‚è¿™æ ·åšçš„åŸå› æ˜¯ä¸ºæ»¡è¶³åé¢å¤„ç†ä¸­å¯¹ä¿¡æ¯é•¿åº¦çš„è¦æ±‚ã€‚</p>
<p>â€‹	<strong>b). åˆå§‹åŒ–å˜é‡</strong></p>
<p>â€‹	åˆå§‹çš„128ä½å€¼ä¸ºåˆè¯•é“¾æ¥å˜é‡ï¼Œè¿™äº›å‚æ•°ç”¨äºç¬¬ä¸€è½®çš„è¿ç®—ï¼Œä»¥å¤§ç«¯<a href="https://link.zhihu.com/?target=https://baike.baidu.com/item/%E5%AD%97%E8%8A%82%E5%BA%8F">å­—èŠ‚åº</a>æ¥è¡¨ç¤ºï¼Œä»–ä»¬åˆ†åˆ«ä¸ºï¼š 				  A&#x3D;0x01234567ï¼ŒB&#x3D;0x89ABCDEFï¼ŒC&#x3D;0xFEDCBA98ï¼ŒD&#x3D;0x76543210ã€‚</p>
<p>â€‹	ï¼ˆæ¯ä¸€ä¸ªå˜é‡ç»™å‡ºçš„æ•°å€¼æ˜¯é«˜å­—èŠ‚å­˜äºå†…å­˜ä½åœ°å€ï¼Œä½å­—èŠ‚å­˜äºå†…å­˜é«˜åœ°å€ï¼Œå³å¤§ç«¯å­—èŠ‚åºã€‚åœ¨ç¨‹åºä¸­å˜é‡Aã€	Bã€Cã€Dçš„å€¼åˆ†åˆ«ä¸º0x67452301ï¼Œ0xEFCDAB89ï¼Œ0x98BADCFEï¼Œ0x10325476ï¼‰</p>
<p>â€‹	<strong>c).å¤„ç†åˆ†ç»„æ•°æ®</strong></p>
<p>â€‹	æ¯ä¸€åˆ†ç»„çš„ç®—æ³•æµç¨‹å¦‚ä¸‹ï¼š</p>
<p>â€‹	ç¬¬ä¸€åˆ†ç»„éœ€è¦å°†ä¸Šé¢å››ä¸ªé“¾æ¥å˜é‡å¤åˆ¶åˆ°å¦å¤–å››ä¸ªå˜é‡ä¸­ï¼šAåˆ°aï¼ŒBåˆ°bï¼ŒCåˆ°cï¼ŒDåˆ°dã€‚ä»ç¬¬äºŒåˆ†ç»„å¼€å§‹çš„å˜é‡	ä¸ºä¸Šä¸€åˆ†ç»„çš„è¿ç®—ç»“æœï¼Œå³A &#x3D; aï¼Œ B &#x3D; bï¼Œ C &#x3D; cï¼Œ D &#x3D; dã€‚</p>
<p>â€‹	ä¸»å¾ªç¯æœ‰å››è½®ï¼ˆMD4åªæœ‰ä¸‰è½®ï¼‰ï¼Œæ¯è½®å¾ªç¯éƒ½å¾ˆç›¸ä¼¼ã€‚ç¬¬ä¸€è½®è¿›è¡Œ16æ¬¡æ“ä½œã€‚æ¯æ¬¡æ“ä½œå¯¹aã€bã€cå’Œdä¸­çš„å…¶ä¸­	ä¸‰ä¸ªä½œä¸€æ¬¡éçº¿æ€§å‡½æ•°è¿ç®—ï¼Œç„¶åå°†æ‰€å¾—ç»“æœåŠ ä¸Šç¬¬å››ä¸ªå˜é‡ï¼Œæ–‡æœ¬çš„ä¸€ä¸ªå­åˆ†ç»„å’Œä¸€ä¸ªå¸¸æ•°ã€‚å†å°†æ‰€å¾—ç»“æœ	å‘å·¦<strong>ç¯ç§»</strong>ä¸€ä¸ªä¸å®šçš„æ•°ï¼Œå¹¶åŠ ä¸Šaã€bã€cæˆ–dä¸­ä¹‹ä¸€ã€‚æœ€åç”¨è¯¥ç»“æœå–ä»£aã€bã€cæˆ–dä¸­ä¹‹ä¸€ã€‚</p>
<p>â€‹	ä»¥ä¸‹æ˜¯æ¯æ¬¡æ“ä½œä¸­ç”¨åˆ°çš„å››ä¸ªéçº¿æ€§å‡½æ•°ï¼ˆæ¯è½®ä¸€ä¸ªï¼‰ã€‚</p>
<p>â€‹	F( X ,Y ,Z ) &#x3D; ( X &amp; Y ) | ( (~X) &amp; Z )</p>
<p>â€‹	G( X ,Y ,Z ) &#x3D; ( X &amp; Z ) | ( Y &amp; (~Z) )</p>
<p>â€‹	H( X ,Y ,Z ) &#x3D;X ^ Y ^ Z</p>
<p>â€‹	I( X ,Y ,Z ) &#x3D;Y ^ ( X | (~Z) )</p>
<p>â€‹	ï¼ˆ&amp;æ˜¯ä¸ï¼ˆAndï¼‰ï¼Œ|æ˜¯æˆ–ï¼ˆOrï¼‰ï¼Œ~æ˜¯éï¼ˆNotï¼‰ï¼Œ^æ˜¯å¼‚æˆ–ï¼ˆXorï¼‰ï¼‰</p>
<hr>
<p><strong>Merkleâ€“DamgÃ¥rd</strong></p>
<p>Merkleâ€“DamgÃ¥rdç»“æ„ç®€ç§°ä¸ºMDç»“æ„ï¼Œä¸»è¦ç”¨åœ¨hashç®—æ³•ä¸­æŠµå¾¡ç¢°æ’æ”»å‡»ã€‚è¿™ä¸ªç»“æ„æ˜¯ä¸€äº›ä¼˜ç§€çš„hashç®—æ³•ï¼Œæ¯”å¦‚MD5,SHA-1å’ŒSHA-2çš„åŸºç¡€ã€‚ä»Šå¤©ç»™å¤§å®¶è®²è§£ä¸€ä¸‹è¿™ä¸ªMDç»“æ„å’Œå¯¹ä»–è¿›è¡Œçš„é•¿åº¦å»¶å±•æ”»å‡»ã€‚</p>
<p><strong>Steps</strong>:</p>
<p><strong>Padding</strong></p>
<p>MDç»“æ„é¦–å…ˆå¯¹è¾“å…¥æ¶ˆæ¯è¿›è¡Œå¡«å……ï¼Œè®©æ¶ˆæ¯å˜æˆå›ºå®šé•¿åº¦çš„æ•´æ•°å€ï¼ˆæ¯”å¦‚512æˆ–è€…1024ï¼‰ã€‚è¿™æ˜¯å› ä¸ºå‹ç¼©ç®—æ³•æ˜¯ä¸èƒ½å¯¹ä»»æ„é•¿åº¦çš„æ¶ˆæ¯è¿›è¡Œå¤„ç†çš„ï¼Œæ‰€ä»¥åœ¨å¤„ç†ä¹‹å‰å¿…é¡»è¿›è¡Œå¡«å……ã€‚åœ¨åŸå§‹æ•°æ®çš„å°¾éƒ¨æ·»ä¸Š1000â€¦ç„¶ååŠ ä¸ŠåŸå§‹æ¶ˆæ¯é•¿åº¦çš„2è¿›åˆ¶å€¼ä½¿å…¶é•¿åº¦å˜ä¸º512æˆ–1024çš„æ•´æ•°å€;<strong>ä½¿ç”¨é¢å¤–çš„block</strong>ï¼Œé¢å¤–çš„ä½¿ç”¨ä¸€ä¸ªblockå¾€å¾€æœ‰ç‚¹æµªè´¹ï¼Œä¸€ä¸ªæ›´åŠ èŠ‚çº¦ç©ºé—´çš„åšæ³•å°±æ˜¯ï¼Œå¦‚æœå¡«å……åˆ°æœ€åä¸€ä¸ªblockçš„0ä¸­æœ‰ä½å¤Ÿçš„ç©ºé—´çš„è¯ï¼Œé‚£ä¹ˆå¯ä»¥æ¶ˆæ¯çš„é•¿åº¦æ”¾åœ¨é‚£é‡Œã€‚</p>
<p><strong>Compress</strong></p>
<p>å®Œæˆpaddingä¹‹åå°±å¯ä»¥è¿›è¡Œcompressäº†ã€‚æ¶ˆæ¯è¢«åˆ†æˆäº†å¾ˆå¤šä¸ªblockï¼Œæœ€å¼€å§‹çš„åˆå§‹åŒ–å‘é‡å’Œç¬¬ä¸€ä¸ªblockè¿›è¡Œfæ“ä½œï¼Œå¾—åˆ°äº†çš„ç»“æœå†å’Œç¬¬äºŒä¸ªblockè¿›è¡Œæ“ä½œï¼Œå¦‚æ­¤å¾ªç¯è¿›è¡Œï¼Œæœ€ç»ˆå¾—åˆ°äº†æœ€åçš„ç»“æœã€‚</p>
<p><img src="/../images/v2-43958e721f4c71625fde28962a327e3b_720w.webp" alt="MD Structure"></p>
<p><strong>é•¿åº¦å»¶å±•æ”»å‡»</strong></p>
<p>MDç»“æ„ï¼Œæ˜¯å°†æ¶ˆæ¯åˆ†æˆä¸€ä¸ªä¸€ä¸ªçš„blockï¼Œå‰ä¸€ä¸ªblock è¿ç®—å‡ºæ¥çš„å€¼ä¼šè·Ÿä¸‹ä¸€ä¸ªblockå†æ¬¡è¿›è¡Œè¿ç®—ï¼Œè¿™ç§ç»“æ„å¯ä»¥å¾ˆæ–¹ä¾¿çš„è¿›è¡Œé•¿åº¦å»¶å±•æ”»å‡»ã€‚å‰ææ˜¯æˆ‘ä»¬éœ€è¦çŸ¥é“åŸæ¶ˆæ¯çš„é•¿åº¦ã€‚åœ¨å¯†ç å­¦ä¸­é•¿åº¦å»¶å±•æ”»å‡»å°±æ˜¯æŒ‡æ”»å‡»è€…é€šè¿‡å·²çŸ¥çš„hash(message1)å’Œmessage1çš„é•¿åº¦ï¼Œä»è€Œèƒ½å¤ŸçŸ¥é“hashï¼ˆmessage1â€–message2ï¼‰çš„å€¼ã€‚å…¶ä¸­â€– è¡¨ç¤ºçš„æ˜¯è¿æ¥ç¬¦ã€‚å¹¶ä¸”æ”»å‡»æ€§å¹¶éœ€è¦çŸ¥é“message1åˆ°åº•æ˜¯ä»€ä¹ˆã€‚</p>
<p><strong>Wide pipe</strong></p>
<p>ä¸ºäº†é¿å…é•¿åº¦å»¶å±•æ”»å‡»ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹MDç»“æ„è¿›è¡Œä¸€äº›å˜å½¢ã€‚</p>
<p><img src="/../images/v2-7bcc1f1e64f49a021592e673c80f205a_720w.webp" alt="Wide pipe"></p>
<p>wide pipeå’ŒMDçš„æµç¨‹åŸºæœ¬ä¸Šæ˜¯ä¸€è‡´çš„ï¼Œä¸åŒçš„æ˜¯ç”Ÿæˆçš„ä¸­é—´ä¸´æ—¶çš„åŠ å¯†åçš„æ¶ˆæ¯é•¿åº¦æ˜¯æœ€ç»ˆç”Ÿæˆæ¶ˆæ¯é•¿åº¦çš„ä¸¤å€ã€‚</p>
<p>è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆä¸Šå›¾ä¸­ä¼šæœ‰ä¸¤ä¸ªåˆå§‹å‘é‡IV1 å’Œ IV2ã€‚å‡å¦‚æœ€ç»ˆçš„ç»“æœé•¿åº¦æ˜¯nçš„è¯ï¼Œé‚£ä¹ˆåœ¨ä¸­é—´ç”Ÿæˆçš„ç»“æœçš„é•¿åº¦å°±æ˜¯2nã€‚æˆ‘ä»¬éœ€è¦åœ¨æœ€åçš„final è¿™ä¸€æ­¥ä¸­ï¼Œå°†2né•¿åº¦çš„æ•°æ®ç¼©å‡ä¸ºné•¿åº¦çš„æ•°æ®ã€‚</p>
<p><strong>Fast wide pipe</strong></p>
<p>SHA-512&#x2F;224 å’Œ SHA-512&#x2F;256 åªæ˜¯ç®€å•çš„ä¸¢å¼ƒæ‰ä¸€åŠæ•°æ®ã€‚</p>
<p>è¿˜æœ‰ä¸€ç§æ¯”wide pipeæ›´å¿«çš„ç®—æ³•å«åšfast wide pipeï¼š</p>
<p><img src="/../images/v2-38067688fe25a216016a8819756dd105_r.jpg" alt="Fast wide pipe"></p>
<p>å’Œwide pipeä¸åŒçš„æ˜¯ï¼Œå®ƒçš„ä¸»è¦æ€æƒ³æ˜¯å°†å‰ä¸€ä¸ªé“¾æ¥å€¼çš„ä¸€åŠè½¬å‘ç»™XORï¼Œç„¶åå°†å…¶ä¸å‹ç¼©å‡½æ•°çš„è¾“å‡ºè¿›è¡ŒXORã€‚</p>
<p><strong>SLACK SPACE:</strong></p>
<p>Slack space occurs when a file can not be efficiently <strong>compartmentalised into file systems containers</strong>.</p>
<p>Feature: effectively containers are not going to be completely full, there is some <strong>slack space</strong>.</p>
<p>Example: consider file that is 59 bytes in size, that is allocated a 2048 byte cluster - the remaining 1989 bytes are considered slack space.</p>
<p>Potential for slack space to contain interesting data or data from previous files.</p>
<p>Data may exist between the end of the allocated file data and the sector.</p>
<p>Data may also exist between the sectors within the cluster that are not allocated data.</p>
<p>Interesting data may also exist in the sectors within the cluster.</p>
<p>an important aspect of slack space is that it is <strong>allocated</strong> space, it not unallocated. </p>
<p><strong>Sector and Cluster:</strong></p>
<p>In computer file systems, a sector is the smallest unit of storage on a disk. A cluster is a group of sectors that are treated as a single unit of storage. Sector is a fixed-size, contiguous block of storage space on the disk, typically ranging from 512 bytes to 4096 bytes, depending on the disk format. Clusters are used to allocate disk space for files, and they are typically much larger than sectors, ranging from a few sectors to several kilobytes in size, depending on the file system and disk size.</p>
<p><strong>FIRST AVAILABLE:</strong></p>
<p>in terms of forensics, recovery of deleted data will likely be more fruitful near the end of the file system.</p>
<p><strong>NEXT AVAILABLE:</strong></p>
<p>in terms of forensics, recovery of deleted data may be more balanced in comparison. </p>
<p><strong>BEST FIT:</strong></p>
<p>recall, the file itself may grow and data can become scattered across the system.</p>
<p><img src="/../images/byte_groups.png" alt="bytegroupings"></p>
<p><strong>FRAGMENTATION</strong></p>
<p>â€¢ systems become fragmented as files are deleted, added and altered. </p>
<p>â€¢ file considered fragmented when its containers are not consecutive, but are rather scattered across the storage device.</p>
<p>â€¢ fragmentation typically occurs due to <strong>alteration</strong> of files, <strong>low disk space</strong> and specific approaches.</p>
<p>â€¢ fragmentation of files is relatively uncommon in modern systems.</p>
<p>â€¢ modern operating systems are effective at avoiding fragmentation as this affords faster reading and writing.</p>
<p>â€¢ disk space has became less of a concern, suggesting that fragmentation is more likely on relatively smaller disks.</p>
<p>â€¢ researchers argue fragmented files are more likely of interest to investigators.</p>
<p><strong>FILE EXTENSION FRAGMENTATION:</strong></p>
<p>â€¢ different fragmentation rates are observed for different file types.<br>â€¢ temporary and logs files are often fragmented as they grow over system lifetime.<br>â€¢ movie, image, document and personal organisation information are often highly fragment.<br>â€¢ arguably such files are more pertinent to investigation than benign system files</p>
<p><strong>HIGH FRAGMENTATION:</strong></p>
<p>â€¢ there are some files that are highly fragmented, potentially into more than 100 or over 1000 fragments.</p>
<p>â€¢ such fragments are typically associated with large system updates or patches</p>
<p><strong>FILE CARVING:</strong></p>
<p>â€¢ process of <strong>reconstructing files based on structure and</strong> <strong>content</strong>, instead of meta-data.</p>
<p>â€¢ typically used to recover data from <strong>unallocated space</strong> on the disk as indicated by the file system.</p>
<p>â€¢ useful for <strong>data recovery when the device itself has been damaged</strong>, e.g. hard disk.</p>
<p>â€¢ valuable in <strong>forensics when specific files have been deleted</strong>, e.g. data still present in sectors</p>
<p>â€¢ may not recognise the file system used or even trust the file system itself.</p>
<p>â€¢ early file carver approaches relied on <strong>magic numbers</strong> to discover and recover files.</p>
<p>â€¢ limitation is that the file craver would recover continuous data unsure that it is actually valid or properly associated with the file</p>
<p><strong>Chanllenges:</strong></p>
<ol>
<li><p>the initial challenge is to identify the files that are to be carved from the image itself.</p>
</li>
<li><p>process must exist that ensures the files are actually intact.</p>
</li>
<li><p>files then need to be carved or extracted from the image.</p>
</li>
</ol>
<p><strong>LIMITATIONS:</strong></p>
<p>â€¢ problem is that unless clusters are contiguous can be difficult to recover file.</p>
<p>â€¢ even if associated clusters are recovered, difficult to validated file is what is expected.</p>
<p><strong>Hex Carving:</strong></p>
<p>åœ¨è¿›è¡ŒHex Carvingæ—¶ï¼Œåˆ†æå¸ˆéœ€è¦å¯»æ‰¾ç‰¹å®šçš„åå…­è¿›åˆ¶ç­¾åï¼ˆä¹Ÿç§°ä¸ºæ–‡ä»¶å¤´å’Œæ–‡ä»¶å°¾ï¼‰ï¼Œè¿™äº›ç­¾åæ˜¯æ–‡ä»¶ç±»å‹çš„ç‰¹å¾ï¼Œä¾‹å¦‚JPEGå›¾ç‰‡ã€PDFæ–‡æ¡£ç­‰ã€‚ä¸€æ—¦æ‰¾åˆ°è¿™äº›ç­¾åï¼Œå°±å¯ä»¥ä»å­˜å‚¨ä»‹è´¨ä¸Šæå–ç›¸åº”çš„æ•°æ®å—ï¼Œå¹¶å°†å…¶æ¢å¤ä¸ºå®Œæ•´çš„æ–‡ä»¶ã€‚</p>
<p><strong>Bitfragment Gap Carving(BGC):</strong></p>
<p><strong>Steps:</strong></p>
<p>â€¢ initial step is to determine the header and footer of the file.<br>â€¢ process the clusters between the header and footer to confirm the contents of the container files.<br>â€¢ perform the computationally expensive step of validating each cluster.<br>â€¢ Know bh and bz, start with g &#x3D; 1 and grow until each fragment validates</p>
<p><strong>Limitation:</strong></p>
<p>â€¢ approach works when the file is bi-fragmented, anymore fragments it will not work.</p>
<p>â€¢ corrupted or lost clusters will result in the worse case performance.</p>
<p>â€¢ approach works for files that have structure that can actually be validated and&#x2F;or decoded.</p>
<p>â€¢ not always possible to trust validation and&#x2F;or decoding approach.</p>
<p>â€¢ approach struggles with large gaps.</p>
<p>Bitfragment Gap Carving (BGC) æ—¨åœ¨å…‹æœä¼ ç»Ÿçš„ Hex Carving æ–¹æ³•åœ¨é¢å¯¹ç ´ç¢æ–‡ä»¶æ—¶çš„å±€é™æ€§ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ–‡ä»¶åœ¨å­˜å‚¨ä»‹è´¨ä¸Šå¯èƒ½æ˜¯åˆ†æ•£çš„ï¼Œè¿™æ„å‘³ç€æ–‡ä»¶çš„å„ä¸ªéƒ¨åˆ†å¯èƒ½ä¸æ˜¯è¿ç»­å­˜å‚¨çš„ã€‚</p>
<p>BGC é€šè¿‡åœ¨å­˜å‚¨ä»‹è´¨ä¸­æœç´¢ç‰¹å®šçš„æ–‡ä»¶ç‰‡æ®µï¼ˆç§°ä¸ºæ¯”ç‰¹ç‰‡æ®µï¼‰æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè€Œä¸æ˜¯ä»…æœç´¢æ–‡ä»¶å¤´å’Œæ–‡ä»¶å°¾ã€‚è¿™äº›æ–‡ä»¶ç‰‡æ®µå¯èƒ½åŒ…å«æ–‡ä»¶çš„é‡è¦ä¿¡æ¯ï¼Œå¦‚å†…å®¹ã€å…ƒæ•°æ®ç­‰ã€‚åœ¨ç¡®å®šäº†è¿™äº›æ¯”ç‰¹ç‰‡æ®µä¹‹åï¼ŒBGC å°†å°è¯•å°†å®ƒä»¬é‡æ–°ç»„åˆæˆä¸€ä¸ªå®Œæ•´çš„æ–‡ä»¶ã€‚</p>
<p>BGC çš„ä¸€ä¸ªå…³é”®ä¼˜åŠ¿æ˜¯å®ƒå¯ä»¥åœ¨ä¸äº†è§£æ–‡ä»¶ç³»ç»Ÿçš„æƒ…å†µä¸‹æ¢å¤åˆ†æ•£çš„æ–‡ä»¶ï¼Œè¿™ä½¿å¾—å®ƒåœ¨å¤„ç†æŸåçš„æ–‡ä»¶ç³»ç»Ÿæˆ–æ¢å¤è¢«åˆ é™¤çš„æ–‡ä»¶æ—¶éå¸¸æœ‰ç”¨ã€‚ç„¶è€Œï¼ŒBGC ä¹Ÿå­˜åœ¨ä¸€äº›æŒ‘æˆ˜ï¼Œä¾‹å¦‚éœ€è¦å¼€å‘é’ˆå¯¹ç‰¹å®šæ–‡ä»¶ç±»å‹çš„æ¯”ç‰¹ç‰‡æ®µç­¾åã€å¯èƒ½å‡ºç°è¯¯æŠ¥ä»¥åŠéœ€è¦å¤„ç†å¤§é‡çš„æ¯”ç‰¹ç‰‡æ®µç»„åˆã€‚</p>
<p>â€‹	<strong>Do we think it is wise to carve out the fragments  between the header and footer?</strong></p>
<p>åœ¨ä½¿ç”¨ Bitfragment Gap Carvingï¼ˆBGCï¼‰æ–¹æ³•æ—¶ï¼Œåœ¨æ–‡ä»¶å¤´å’Œæ–‡ä»¶å°¾ä¹‹é—´æå–æ–‡ä»¶ç‰‡æ®µé€šå¸¸æ˜¯æœ‰æ„ä¹‰çš„ã€‚è¿™æ˜¯å› ä¸ºåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ–‡ä»¶çš„å„ä¸ªéƒ¨åˆ†å¯èƒ½æ˜¯åˆ†æ•£å­˜å‚¨çš„ï¼Œè€Œä¸æ˜¯è¿ç»­å­˜å‚¨çš„ã€‚è¿™æ„å‘³ç€æ–‡ä»¶å¤´å’Œæ–‡ä»¶å°¾ä¹‹é—´å¯èƒ½å­˜åœ¨å…¶ä»–æ–‡ä»¶ç‰‡æ®µï¼Œè¿™äº›ç‰‡æ®µåŒ…å«æ–‡ä»¶çš„é‡è¦ä¿¡æ¯ï¼Œå¦‚å†…å®¹ã€å…ƒæ•°æ®ç­‰ã€‚</p>
<p>â€‹	<strong>What else do we typically know about the files were interested in?</strong></p>
<p>åœ¨ä½¿ç”¨ Bitfragment Gap Carvingï¼ˆBGCï¼‰æ–¹æ³•æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸éœ€è¦äº†è§£ä¸€äº›å…³äºæ„Ÿå…´è¶£æ–‡ä»¶çš„ä¿¡æ¯ï¼Œä»¥æé«˜æ¢å¤çš„æˆåŠŸç‡å’Œå‡†ç¡®æ€§ã€‚ä»¥ä¸‹æ˜¯åœ¨ BGC ä¸­å¯èƒ½éœ€è¦äº†è§£çš„æ–‡ä»¶ç›¸å…³ä¿¡æ¯ï¼š</p>
<ol>
<li>æ–‡ä»¶ç±»å‹ï¼šäº†è§£ç›®æ ‡æ–‡ä»¶çš„ç±»å‹æœ‰åŠ©äºç¡®å®šç‰¹å®šçš„æ–‡ä»¶ç‰‡æ®µç­¾åã€‚ä¾‹å¦‚ï¼ŒJPEG å›¾åƒã€PDF æ–‡æ¡£å’Œ Microsoft Word æ–‡ä»¶ç­‰å…·æœ‰ä¸åŒçš„æ–‡ä»¶ç»“æ„å’Œç‰¹å¾ã€‚äº†è§£æ–‡ä»¶ç±»å‹æœ‰åŠ©äºç¼©å°æœç´¢èŒƒå›´å¹¶æé«˜æ¢å¤æ•ˆæœã€‚</li>
<li>æ–‡ä»¶ç‰‡æ®µç­¾åï¼šé’ˆå¯¹ç‰¹å®šæ–‡ä»¶ç±»å‹ï¼Œéœ€è¦äº†è§£å…¶æ¯”ç‰¹ç‰‡æ®µç­¾åï¼Œä»¥ä¾¿åœ¨å­˜å‚¨ä»‹è´¨ä¸Šæœç´¢å’Œè¯†åˆ«æ–‡ä»¶ç‰‡æ®µã€‚è¿™äº›ç­¾åå¯èƒ½åŒ…æ‹¬æ–‡ä»¶å¤´ã€æ–‡ä»¶å°¾ä»¥åŠå…¶ä»–ç‰¹å¾ä¿¡æ¯ï¼Œå¦‚å…ƒæ•°æ®ã€å†…å®¹æ ‡è®°ç­‰ã€‚</li>
<li>æ–‡ä»¶å¤§å°ï¼šå¦‚æœå¯èƒ½çš„è¯ï¼Œäº†è§£æ–‡ä»¶çš„å¤§è‡´å¤§å°å¯ä»¥å¸®åŠ©ä¼°ç®—æ–‡ä»¶ç‰‡æ®µçš„æ•°é‡å’Œæ½œåœ¨ä½ç½®ã€‚è¿™å¯ä»¥æé«˜æœç´¢æ•ˆç‡å¹¶å‡å°‘è¯¯æŠ¥ã€‚</li>
<li>å­˜å‚¨è®¾å¤‡å’Œæ–‡ä»¶ç³»ç»Ÿä¿¡æ¯ï¼šäº†è§£æ‰€ä½¿ç”¨çš„å­˜å‚¨è®¾å¤‡ï¼ˆå¦‚ç¡¬ç›˜ã€USB é—ªå­˜é©±åŠ¨å™¨ç­‰ï¼‰å’Œæ–‡ä»¶ç³»ç»Ÿï¼ˆå¦‚ NTFSã€FAT32ã€ext4 ç­‰ï¼‰å¯èƒ½æœ‰åŠ©äºç¡®å®šæ–‡ä»¶åˆ†æ•£çš„ç¨‹åº¦å’Œæ–¹å¼ï¼Œä»¥åŠä¼˜åŒ– BGC æ–¹æ³•ã€‚</li>
<li>æ•°æ®åˆ é™¤æˆ–æŸåçš„åŸå› ï¼šäº†è§£æ•°æ®ä¸¢å¤±æˆ–æŸåçš„åŸå› ï¼ˆå¦‚æ„å¤–åˆ é™¤ã€ç¡¬ç›˜æŸåã€æ¶æ„è½¯ä»¶æ”»å‡»ç­‰ï¼‰å¯èƒ½æœ‰åŠ©äºç¡®å®šæœ€ä½³çš„æ¢å¤ç­–ç•¥ã€‚</li>
</ol>
<p>â€‹	<strong>If we have determined the header and footers, plus container structure - what else could we do?</strong></p>
<ol>
<li>åˆ†ææ–‡ä»¶å†…éƒ¨ç»“æ„ï¼šäº†è§£ç‰¹å®šæ–‡ä»¶ç±»å‹çš„å†…éƒ¨ç»“æ„æœ‰åŠ©äºè¯†åˆ«å¹¶æå–æ›´å¤šç›¸å…³çš„æ¯”ç‰¹ç‰‡æ®µã€‚è¿™åŒ…æ‹¬æ–‡ä»¶çš„å…ƒæ•°æ®ã€ç¼–ç æ–¹å¼ã€æ ‡è®°å’Œå…¶ä»–ç‰¹å¾ä¿¡æ¯ã€‚æŒæ¡è¿™äº›ä¿¡æ¯å¯ä»¥å¸®åŠ©æ›´å‡†ç¡®åœ°æœç´¢å’Œè¯†åˆ«æ–‡ä»¶ç‰‡æ®µã€‚</li>
<li>ä¼˜åŒ–æœç´¢ç­–ç•¥ï¼šæ ¹æ®å·²çŸ¥çš„æ–‡ä»¶å¤´ã€æ–‡ä»¶å°¾å’Œå®¹å™¨ç»“æ„ï¼Œä¼˜åŒ–æœç´¢ç­–ç•¥ä»¥æé«˜æ•ˆç‡ã€‚è¿™å¯èƒ½åŒ…æ‹¬é™åˆ¶æœç´¢èŒƒå›´ã€è°ƒæ•´æœç´¢å‚æ•°ï¼Œæˆ–è€…æ ¹æ®å·²çŸ¥çš„æ–‡ä»¶å¤§å°ä¿¡æ¯é¢„æµ‹æ–‡ä»¶ç‰‡æ®µçš„æ½œåœ¨ä½ç½®ã€‚</li>
<li>éªŒè¯æ¢å¤ç»“æœï¼šåœ¨æå–å’Œé‡æ–°ç»„åˆæ–‡ä»¶ç‰‡æ®µåï¼Œä»”ç»†æ£€æŸ¥æ¢å¤ç»“æœä»¥ç¡®ä¿å‡†ç¡®æ€§å’Œå®Œæ•´æ€§ã€‚è¿™å¯èƒ½åŒ…æ‹¬éªŒè¯æ–‡ä»¶çš„å…ƒæ•°æ®ã€å†…å®¹å’Œå†…éƒ¨ç»“æ„ã€‚å¦‚æœå‘ç°é—®é¢˜ï¼Œå¯ä»¥è¿”å›åˆ°æœç´¢å’Œæå–é˜¶æ®µï¼Œå°è¯•ä½¿ç”¨ä¸åŒçš„å‚æ•°å’Œç­–ç•¥ã€‚</li>
<li>ç»“åˆå…¶ä»–æ¢å¤æŠ€æœ¯ï¼šåœ¨æŸäº›æƒ…å†µä¸‹ï¼ŒBGC æ–¹æ³•å¯èƒ½æ— æ³•å®Œå…¨æ¢å¤æ–‡ä»¶ã€‚è¿™æ—¶ï¼Œå¯ä»¥å°è¯•ç»“åˆå…¶ä»–æ–‡ä»¶æ¢å¤æŠ€æœ¯å’Œå·¥å…·ï¼Œå¦‚ Hex Carvingã€æ–‡ä»¶ç³»ç»Ÿåˆ†æç­‰ï¼Œä»¥æé«˜æ¢å¤ç»“æœçš„å‡†ç¡®æ€§å’Œå®Œæ•´æ€§ã€‚</li>
<li>ä¼˜åŒ–å’Œå­¦ä¹ ï¼šé€šè¿‡ä¸æ–­åœ°å­¦ä¹ å’Œä¼˜åŒ–æ¯”ç‰¹ç‰‡æ®µç­¾åã€æœç´¢ç­–ç•¥å’Œå‚æ•°è®¾ç½®ï¼Œå¯ä»¥æé«˜ BGC æ–¹æ³•çš„æ€§èƒ½ã€‚åœ¨å®è·µä¸­ï¼Œåˆ†æå¸ˆå¯èƒ½éœ€è¦é¢å¯¹å„ç§ä¸åŒçš„æ–‡ä»¶ç±»å‹å’Œå­˜å‚¨è®¾å¤‡ï¼Œå› æ­¤éœ€è¦ä¸æ–­åœ°è°ƒæ•´å’Œä¼˜åŒ–æ–¹æ³•ä»¥é€‚åº”ä¸åŒçš„æƒ…å†µã€‚</li>
</ol>
<p><strong>Theoretical Graph Carving:</strong></p>
<p>THEORETICAL GRAPH CARVING </p>
<p>â€¢ need to determine the clusters that are adjacent to each other. </p>
<p>â€¢ approach is to determine the correct ordering is to weight fragment pairs. </p>
<p>â€¢ use function to generate a weight for each pair of clusters, select the heaviest pairing.</p>
<p>â€¢ ideal permutation is that where the sum of the ordering is maximum. </p>
<p>â€¢ determining the path is the same as finding maximum weight Hamiltonian path in a complete graph</p>
<p><strong>Graph Carving:</strong></p>
<p>â€¢ Hamiltonian path approach does not consider the situation where we have multiple files.</p>
<p>â€¢ Problem can be reconsidered as <em>k</em>-vertex disjointed path problem.</p>
<p>â€¢ Where we consider <em>k</em> as the number of files, identified from the number of headers.</p>
<p>â€¢ Disjointed path problem if we consider that each cluster only belongs to one file.</p>
<p>â€‹	PARALLEL UNIQUE PATH(PUP):</p>
<p><strong>Hash Carving:</strong></p>
<p>å“ˆå¸Œé›•åˆ»çš„å·¥ä½œæµç¨‹åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p>
<ol>
<li>ç¡®å®šå·²çŸ¥æ–‡ä»¶çš„å“ˆå¸Œå€¼ï¼šé€šè¿‡ä½¿ç”¨ç‹¬ç«‹äºç£ç›˜é•œåƒæˆ–æ–‡ä»¶ç³»ç»Ÿçš„å·¥å…·ï¼Œè®¡ç®—å·²çŸ¥æ–‡ä»¶çš„å“ˆå¸Œå€¼ï¼Œå¹¶è®°å½•ä¸‹æ¥ã€‚</li>
<li>æ‰«æç£ç›˜é•œåƒæˆ–æ–‡ä»¶ç³»ç»Ÿï¼šä½¿ç”¨å“ˆå¸Œé›•åˆ»å·¥å…·æ‰«æç£ç›˜é•œåƒæˆ–æ–‡ä»¶ç³»ç»Ÿï¼Œå¹¶è®¡ç®—æ¯ä¸ªæ•°æ®å—çš„å“ˆå¸Œå€¼ã€‚</li>
<li>åŒ¹é…å“ˆå¸Œå€¼ï¼šå°†æ‰«æåˆ°çš„æ¯ä¸ªæ•°æ®å—çš„å“ˆå¸Œå€¼ä¸å·²çŸ¥æ–‡ä»¶çš„å“ˆå¸Œå€¼è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœåŒ¹é…æˆåŠŸï¼Œåˆ™è¯´æ˜è¯¥æ•°æ®å—å¯èƒ½åŒ…å«è¢«åˆ é™¤æ–‡ä»¶çš„å†…å®¹ã€‚</li>
<li>æ¢å¤æ–‡ä»¶å†…å®¹ï¼šå¯¹äºåŒ¹é…æˆåŠŸçš„æ•°æ®å—ï¼Œä½¿ç”¨å“ˆå¸Œé›•åˆ»å·¥å…·å°†å…¶æå–å‡ºæ¥ï¼Œå¹¶å°è¯•æ¢å¤è¢«åˆ é™¤æ–‡ä»¶çš„å†…å®¹ã€‚</li>
<li>éªŒè¯æ•°æ®å®Œæ•´æ€§ï¼šå¯¹äºå·²æ¢å¤çš„æ–‡ä»¶ï¼Œåº”è¯¥è¿›è¡Œæ•°æ®å®Œæ•´æ€§éªŒè¯ï¼Œä»¥ç¡®ä¿æ–‡ä»¶çš„å®Œæ•´æ€§å’Œå¯é æ€§ã€‚</li>
</ol>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå“ˆå¸Œé›•åˆ»å¯èƒ½ä¼šäº§ç”Ÿè™šå‡åŒ¹é…æˆ–é”™è¯¯çš„ç»“æœï¼Œå› æ­¤éœ€è¦å¯¹ç»“æœè¿›è¡Œè¿›ä¸€æ­¥çš„éªŒè¯å’Œåˆ†æã€‚åŒæ—¶ï¼Œåœ¨è¿›è¡Œå“ˆå¸Œé›•åˆ»æ—¶ï¼Œä¹Ÿéœ€è¦è€ƒè™‘æ•°æ®éšç§å’Œæ³•å¾‹è§„å®šï¼Œä»¥ç¡®ä¿å–è¯è¿‡ç¨‹çš„åˆæ³•æ€§å’Œè¯æ®çš„å¯é æ€§ã€‚</p>
<p>**Non-probative block test:**ï¼ˆéè¯æ®å—æµ‹è¯•ï¼‰</p>
<p>æ˜¯æŒ‡åœ¨æ•°å­—å–è¯ä¸­ä½¿ç”¨çš„ä¸€ç§æµ‹è¯•æ–¹æ³•ï¼Œç”¨äºæ’é™¤ç£ç›˜é•œåƒæˆ–æ–‡ä»¶ç³»ç»Ÿä¸­çš„éè¯æ®å—ï¼Œä»¥å‡å°‘åç»­åˆ†æçš„æ—¶é—´å’Œèµ„æºæ¶ˆè€—ã€‚</p>
<p>åœ¨æ•°å­—å–è¯ä¸­ï¼Œéè¯æ®å—é€šå¸¸æ˜¯æŒ‡ä¸åŒ…å«æœ‰æ•ˆæ•°æ®æˆ–ä¸æ¡ˆä»¶æ— å…³çš„æ•°æ®å—ï¼Œå¦‚æ“ä½œç³»ç»Ÿçš„ç©ºé—²å—ã€å·²åˆ é™¤çš„æ–‡ä»¶å—ç­‰ã€‚éè¯æ®å—æµ‹è¯•å¯ä»¥é€šè¿‡è®¡ç®—æ¯ä¸ªæ•°æ®å—çš„å“ˆå¸Œå€¼ï¼Œå¹¶ä¸å·²çŸ¥çš„éè¯æ®å—å“ˆå¸Œå€¼è¿›è¡Œæ¯”è¾ƒï¼Œä»¥å¿«é€Ÿè¯†åˆ«å’Œæ’é™¤è¿™äº›éè¯æ®å—ã€‚è¿™å¯ä»¥å¤§å¤§å‡å°‘åç»­åˆ†æçš„æ—¶é—´å’Œèµ„æºæ¶ˆè€—ï¼Œå¹¶æœ‰åŠ©äºé›†ä¸­åˆ†ææœ‰ä»·å€¼çš„è¯æ®æ•°æ®ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œéè¯æ®å—æµ‹è¯•å¹¶ä¸èƒ½ä¿è¯100%çš„å‡†ç¡®æ€§ï¼Œå¯èƒ½ä¼šäº§ç”Ÿè¯¯åˆ¤æˆ–æ¼åˆ¤çš„æƒ…å†µã€‚å› æ­¤ï¼Œåœ¨æ•°å­—å–è¯ä¸­ï¼Œè¿˜éœ€è¦ç»“åˆå…¶ä»–åˆ†ææ–¹æ³•å’Œå·¥å…·ï¼Œè¿›è¡Œç»¼åˆåˆ†æå’ŒéªŒè¯ï¼Œä»¥ç¡®ä¿å–è¯ç»“æœçš„å‡†ç¡®æ€§å’Œå¯é æ€§ã€‚</p>
<p><strong>Magic numbers:</strong></p>
<p>In the context of computer file formats, a magic number is a sequence of bytes that identifies the format of a file. It is called a â€œmagic numberâ€ because it is often used like a magic spell to identify the file format, much like a spell might be used to identify a person or object.</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Courses/" rel="tag">Courses</a></li></ul>

    </footer>
  </div>

   
    
</article>

    
  </article>
  

  
  <nav class="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next Page</a>
  </nav>
  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2021-2023
        <i class="ri-heart-fill heart_icon"></i> Mingwei Li
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>Visitors:<span id="busuanzi_value_site_uv"></span></span>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>Views:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzzç»Ÿè®¡ -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>    
    </main>
    <div class="float_btns">
      <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

    </div>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="Mingweiâ€™s Blog"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">Home</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">Archives</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">Categories</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">Tags</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" target="_blank" rel="noopener" href="http://shenyu-vip.lofter.com">Gallery</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags/travel">Travel</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/2019/about">About</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="Search">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>è¯·æˆ‘å–æ¯å’–å•¡å§~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/images/alipay.jpg">
      <span class="reward-type">æ”¯ä»˜å®</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/images/wechat.jpg">
      <span class="reward-type">å¾®ä¿¡</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-3.6.0.min.js"></script>
 
<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->

<script src="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.css"
/>
<script src="https://cdn.staticfile.org/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->
 <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/default-skin/default-skin.min.css">
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // sliderå±•å¼€çŠ¶æ€
                // todo: è¿™æ ·ä¸å¥½ï¼Œåé¢æ”¹æˆçŠ¶æ€
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // è·å¾—åŸå›¾å°ºå¯¸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script> 
<!-- MathJax -->

<!-- Katex -->

<!-- busuanzi  -->
 
<script src="/js/busuanzi-2.3.pure.min.js"></script>
 
<!-- ClickLove -->

<!-- ClickBoom1 -->

<!-- ClickBoom2 -->

<!-- CodeCopy -->
 
<link rel="stylesheet" href="/css/clipboard.css">
 <script src="https://cdn.staticfile.org/clipboard.js/2.0.10/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // ç­‰å¾…ä¸¤ç§’é’Ÿåæ¢å¤
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // ç­‰å¾…ä¸¤ç§’é’Ÿåæ¢å¤
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>
 
<!-- CanvasBackground -->

<script>
  if (window.mermaid) {
    mermaid.initialize({ theme: "forest" });
  }
</script>


    
    

  </div>
</body>

</html>